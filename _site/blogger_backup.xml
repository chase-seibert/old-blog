<?xml version='1.0' encoding='UTF-8'?><?xml-stylesheet href="http://www.blogger.com/styles/atom.css" type="text/css"?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:georss='http://www.georss.org/georss' xmlns:gd='http://schemas.google.com/g/2005' xmlns:thr='http://purl.org/syndication/thread/1.0'><id>tag:blogger.com,1999:blog-7663029716914672257.archive</id><updated>2012-09-07T13:52:30.656-04:00</updated><title type='text'>Chase Seibert | Blog</title><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/archive'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/archive'/><link rel='http://schemas.google.com/g/2005#post' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/archive'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><generator version='7.00' uri='http://www.blogger.com'>Blogger</generator><entry><id>tag:blogger.com,1999:blog-7663029716914672257.layout</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#template'/><title type='text'>Template: Chase Seibert | Blog</title><content type='text'>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE html&gt;
&lt;html b:version='2' class='v2' expr:dir='data:blog.languageDirection' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'&gt;
  &lt;head&gt;
    &lt;meta content='IE=EmulateIE7' http-equiv='X-UA-Compatible'/&gt;
    &lt;b:if cond='data:blog.isMobile'&gt;
      &lt;meta content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0' name='viewport'/&gt;
    &lt;b:else/&gt;
      &lt;meta content='width=1100' name='viewport'/&gt;
    &lt;/b:if&gt;
    &lt;b:include data='blog' name='all-head-content'/&gt;
    &lt;title&gt;&lt;data:blog.pageTitle/&gt;&lt;/title&gt;

    &lt;b:skin&gt;&lt;![CDATA[/*
-----------------------------------------------
Blogger Template Style
Name:     Awesome Inc.
Designer: Tina Chen
URL:      tinachen.org
----------------------------------------------- */

/* Variable definitions
   ====================
   &lt;Variable name="keycolor" description="Main Color" type="color" default="#ffffff" value="#b3ca88"/&gt;

   &lt;Group description="Page" selector="body"&gt;
     &lt;Variable name="body.font" description="Font" type="font"
         default="normal normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 16px 'Trebuchet MS', Trebuchet, sans-serif"/&gt;
     &lt;Variable name="body.background.color" description="Background Color" type="color" default="#000000" value="#fcfbf5"/&gt;
     &lt;Variable name="body.text.color" description="Text Color" type="color" default="#ffffff" value="#333333"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Links" selector=".main-inner"&gt;
     &lt;Variable name="link.color" description="Link Color" type="color" default="#888888" value="#d52932"/&gt;
     &lt;Variable name="link.visited.color" description="Visited Color" type="color" default="#444444" value="#7d171d"/&gt;
     &lt;Variable name="link.hover.color" description="Hover Color" type="color" default="#cccccc" value="#d52932"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Blog Title" selector=".header h1"&gt;
     &lt;Variable name="header.font" description="Title Font" type="font"
         default="normal bold 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 60px Georgia, Utopia, 'Palatino Linotype', Palatino, serif"/&gt;
     &lt;Variable name="header.text.color" description="Title Color" type="color" default="$(body.text.color)"  value="$(body.text.color)"/&gt;
     &lt;Variable name="header.background.color" description="Header Background" type="color" default="transparent"  value="transparent"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Blog Description" selector=".header .description"&gt;
     &lt;Variable name="description.font" description="Font" type="font"
         default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 20px 'Trebuchet MS', Trebuchet, sans-serif"/&gt;
     &lt;Variable name="description.text.color" description="Text Color" type="color"
         default="$(body.text.color)"  value="#908c6a"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Tabs Text" selector=".tabs-inner .widget li a"&gt;
     &lt;Variable name="tabs.font" description="Font" type="font"
         default="normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/&gt;
     &lt;Variable name="tabs.text.color" description="Text Color" type="color" default="$(body.text.color)" value="#333333"/&gt;
     &lt;Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="$(tabs.text.color)" value="#ffffff"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Tabs Background" selector=".tabs-outer .PageList"&gt;
     &lt;Variable name="tabs.background.color" description="Background Color" type="color" default="#141414" value="#b3ca88"/&gt;
     &lt;Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="#444444" value="#63704b"/&gt;
     &lt;Variable name="tabs.border.color" description="Border Color" type="color" default="$(widget.border.color)" value="#908c6a"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Date Header" selector=".main-inner .widget h2.date-header, .main-inner .widget h2.date-header span"&gt;
     &lt;Variable name="date.font" description="Font" type="font"
         default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 13px Georgia, Utopia, 'Palatino Linotype', Palatino, serif"/&gt;
     &lt;Variable name="date.text.color" description="Text Color" type="color" default="#666666" value="#908c6a"/&gt;
     &lt;Variable name="date.border.color" description="Border Color" type="color" default="$(widget.border.color)" value="$(widget.border.color)"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Post Title" selector="h3.post-title, h4, h3.post-title a"&gt;
     &lt;Variable name="post.title.font" description="Font" type="font"
         default="normal bold 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal bold 22px Georgia, Utopia, 'Palatino Linotype', Palatino, serif"/&gt;
     &lt;Variable name="post.title.text.color" description="Text Color" type="color" default="$(body.text.color)" value="$(link.color)"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Post Background" selector=".post"&gt;
     &lt;Variable name="post.background.color" description="Background Color" type="color" default="$(widget.background.color)"  value="$(widget.background.color)"/&gt;
     &lt;Variable name="post.border.color" description="Border Color" type="color" default="$(widget.border.color)"  value="$(widget.border.color)"/&gt;
     &lt;Variable name="post.border.bevel.color" description="Bevel Color" type="color" default="$(widget.border.color)" value="$(widget.border.color)"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Gadget Title" selector="h2"&gt;
     &lt;Variable name="widget.title.font" description="Font" type="font"
        default="normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal bold 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/&gt;
     &lt;Variable name="widget.title.text.color" description="Text Color" type="color" default="$(body.text.color)" value="$(body.text.color)"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Gadget Text" selector=".sidebar .widget"&gt;
     &lt;Variable name="widget.font" description="Font" type="font"
        default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/&gt;
     &lt;Variable name="widget.text.color" description="Text Color" type="color" default="$(body.text.color)" value="$(body.text.color)"/&gt;
     &lt;Variable name="widget.alternate.text.color" description="Alternate Color" type="color" default="#666666" value="#666666"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Gadget Links" selector=".sidebar .widget"&gt;
     &lt;Variable name="widget.link.color" description="Link Color" type="color" default="$(link.color)" value="$(link.color)"/&gt;
     &lt;Variable name="widget.link.visited.color" description="Visited Color" type="color" default="$(link.visited.color)" value="$(link.visited.color)"/&gt;
     &lt;Variable name="widget.link.hover.color" description="Hover Color" type="color" default="$(link.hover.color)" value="$(link.hover.color)"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Gadget Background" selector=".sidebar .widget"&gt;
     &lt;Variable name="widget.background.color" description="Background Color" type="color" default="#141414" value="#fefdfa"/&gt;
     &lt;Variable name="widget.border.color" description="Border Color" type="color" default="#222222" value="#aab122"/&gt;
     &lt;Variable name="widget.border.bevel.color" description="Bevel Color" type="color" default="#000000" value="transparent"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Sidebar Background" selector=".column-left-inner .column-right-inner"&gt;
     &lt;Variable name="widget.outer.background.color" description="Background Color" type="color" default="transparent"  value="transparent"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Images" selector=".main-inner"&gt;
     &lt;Variable name="image.background.color" description="Background Color" type="color" default="transparent" value="#ffffff"/&gt;
     &lt;Variable name="image.border.color" description="Border Color" type="color" default="transparent" value="#cccccc"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Feed" selector=".blog-feeds"&gt;
      &lt;Variable name="feed.text.color" description="Text Color" type="color" default="$(body.text.color)" value="$(body.text.color)"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Feed Links" selector=".blog-feeds"&gt;
     &lt;Variable name="feed.link.color" description="Link Color" type="color" default="$(link.color)" value="$(link.color)"/&gt;
     &lt;Variable name="feed.link.visited.color" description="Visited Color" type="color" default="$(link.visited.color)" value="$(link.visited.color)"/&gt;
     &lt;Variable name="feed.link.hover.color" description="Hover Color" type="color" default="$(link.hover.color)" value="$(link.hover.color)"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Pager" selector=".blog-pager"&gt;
     &lt;Variable name="pager.background.color" description="Background Color" type="color" default="$(post.background.color)"  value="$(post.background.color)"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Footer" selector=".footer-outer"&gt;
     &lt;Variable name="footer.background.color" description="Background Color" type="color" default="$(widget.background.color)"  value="$(widget.background.color)"/&gt;
     &lt;Variable name="footer.text.color" description="Text Color" type="color" default="$(body.text.color)"  value="$(body.text.color)"/&gt;
   &lt;/Group&gt;

   &lt;Variable name="title.shadow.spread" description="Title Shadow" type="length" default="-1px" value="-1px"/&gt;

   &lt;Variable name="body.background" description="Body Background" type="background"
       color="$(body.background.color)"
       default="$(color) none repeat scroll top left" value="$(color) none no-repeat scroll center center"/&gt;
   &lt;Variable name="body.background.gradient.cap" description="Body Gradient Cap" type="url"
       default="none" value="none"/&gt;
   &lt;Variable name="body.background.size" description="Body Background Size" type="string" default="auto" value="auto"/&gt;

   &lt;Variable name="tabs.background.gradient" description="Tabs Background Gradient" type="url"
       default="none" value="url(http://www.blogblog.com/1kt/awesomeinc/tabs_gradient_light.png)"/&gt;

   &lt;Variable name="header.background.gradient" description="Header Background Gradient" type="url" default="none"  value="none"/&gt;
   &lt;Variable name="header.padding.top" description="Header Top Padding" type="length" default="22px"  value="22px"/&gt;
   &lt;Variable name="header.margin.top" description="Header Top Margin" type="length" default="0"  value="0"/&gt;
   &lt;Variable name="header.margin.bottom" description="Header Bottom Margin" type="length" default="0"  value="0"/&gt;

   &lt;Variable name="widget.padding.top" description="Widget Padding Top" type="length" default="8px"  value="8px"/&gt;
   &lt;Variable name="widget.padding.side" description="Widget Padding Side" type="length" default="15px"  value="15px"/&gt;
   &lt;Variable name="widget.outer.margin.top" description="Widget Top Margin" type="length" default="0"  value="0"/&gt;
   &lt;Variable name="widget.outer.background.gradient" description="Gradient" type="url" default="none"  value="none"/&gt;
   &lt;Variable name="widget.border.radius" description="Gadget Border Radius" type="length" default="0"  value="5px"/&gt;
   &lt;Variable name="outer.shadow.spread" description="Outer Shadow Size" type="length" default="0"  value="0"/&gt;

   &lt;Variable name="date.header.border.radius.top" description="Date Header Border Radius Top" type="length" default="0"  value="0"/&gt;
   &lt;Variable name="date.header.position" description="Date Header Position" type="length" default="15px"  value="15px"/&gt;

   &lt;Variable name="date.space" description="Date Space" type="length" default="30px"  value="30px"/&gt;
   &lt;Variable name="date.position" description="Date Float" type="string" default="static"  value="static"/&gt;
   &lt;Variable name="date.padding.bottom" description="Date Padding Bottom" type="length" default="0"  value="0"/&gt;
   &lt;Variable name="date.border.size" description="Date Border Size" type="length" default="0"  value="0"/&gt;
   &lt;Variable name="date.background" description="Date Background" type="background" color="transparent"
       default="$(color) none no-repeat scroll top left"  value="$(color) none no-repeat scroll top left"/&gt;
   &lt;Variable name="date.first.border.radius.top" description="Date First top radius" type="length" default="$(widget.border.radius)"  value="$(widget.border.radius)"/&gt;
   &lt;Variable name="date.last.space.bottom" description="Date Last Space Bottom" type="length"
       default="20px"  value="20px"/&gt;
   &lt;Variable name="date.last.border.radius.bottom" description="Date Last bottom radius" type="length" default="$(widget.border.radius)"  value="$(widget.border.radius)"/&gt;

   &lt;Variable name="post.first.padding.top" description="First Post Padding Top" type="length" default="0"  value="0"/&gt;

   &lt;Variable name="image.shadow.spread" description="Image Shadow Size" type="length" default="0" value="20px"/&gt;
   &lt;Variable name="image.border.radius" description="Image Border Radius" type="length" default="0" value="5px"/&gt;

   &lt;Variable name="separator.outdent" description="Separator Outdent" type="length" default="15px"  value="0"/&gt;
   &lt;Variable name="title.separator.border.size" description="Widget Title Border Size" type="length" default="1px"  value="1px"/&gt;
   &lt;Variable name="list.separator.border.size" description="List Separator Border Size" type="length" default="1px"  value="0"/&gt;
   &lt;Variable name="shadow.spread" description="Shadow Size" type="length" default="0" value="20px"/&gt;

   &lt;Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left" value="left"/&gt;
   &lt;Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right" value="right"/&gt;

   &lt;Variable name="date.side" description="Side where date header is placed" type="string" default="$(endSide)" value="$(endSide)"/&gt;

   &lt;Variable name="pager.border.radius.top" description="Pager Border Top Radius" type="length" default="$(widget.border.radius)"  value="$(widget.border.radius)"/&gt;
   &lt;Variable name="pager.space.top" description="Pager Top Space" type="length" default="1em"  value="1em"/&gt;

   &lt;Variable name="footer.background.gradient" description="Background Gradient" type="url" default="none"  value="none"/&gt;

   &lt;Variable name="mobile.background.size" description="Mobile Background Size" type="string"
       default="$(body.background.size)" value="$(body.background.size)"/&gt;
   &lt;Variable name="mobile.background.overlay" description="Mobile Background Overlay" type="string"
       default="transparent none repeat scroll top left" value="transparent none repeat scroll top left"/&gt;
   &lt;Variable name="mobile.button.color" description="Mobile Button Color" type="color" default="#ffffff"  value="#ffffff"/&gt;
*/

/* Content
----------------------------------------------- */
body {
  font: $(body.font);
  color: $(body.text.color);
  background: $(body.background);
}

html body .content-outer {
  min-width: 0;
  max-width: 100%;
  width: 100%;
}

a:link {
  text-decoration: none;
  color: $(link.color);
}

a:visited {
  text-decoration: none;
  color: $(link.visited.color);
}

a:hover {
  text-decoration: underline;
  color: $(link.hover.color);
}

.body-fauxcolumn-outer .cap-top {
  position: absolute;
  z-index: 1;

  height: 276px;
  width: 100%;

  background: transparent $(body.background.gradient.cap) repeat-x scroll top left;
  _background-image: none;
}

/* Columns
----------------------------------------------- */
.content-inner {
  padding: 0;
}

.header-inner .section {
  margin: 0 16px;
}

.tabs-inner .section {
  margin: 0 16px;
}

.main-inner {
  padding-top: $(date.space);
}

.main-inner .column-center-inner,
.main-inner .column-left-inner,
.main-inner .column-right-inner {
  padding: 0 5px;
}

*+html body .main-inner .column-center-inner {
  margin-top: -$(date.space);
}

#layout .main-inner .column-center-inner {
  margin-top: 0;
}

/* Header
----------------------------------------------- */
.header-outer {
  margin: $(header.margin.top) 0 $(header.margin.bottom) 0;
  background: $(header.background.color) $(header.background.gradient) repeat scroll 0 0;
}

.Header h1 {
  font: $(header.font);
  color: $(header.text.color);
  text-shadow: 0 0 $(title.shadow.spread) #000000;
}

.Header h1 a {
  color: $(header.text.color);
}

.Header .description {
  font: $(description.font);
  color: $(description.text.color);
}

.header-inner .Header .titlewrapper,
.header-inner .Header .descriptionwrapper {
  padding-left: 0;
  padding-right: 0;
  margin-bottom: 0;
}

.header-inner .Header .titlewrapper {
  padding-top: $(header.padding.top);
}

/* Tabs
----------------------------------------------- */
.tabs-outer {
  overflow: hidden;
  position: relative;
  background: $(tabs.background.color) $(tabs.background.gradient) repeat scroll 0 0;
}

#layout .tabs-outer {
  overflow: visible;
}

.tabs-cap-top, .tabs-cap-bottom {
  position: absolute;
  width: 100%;

  border-top: 1px solid $(tabs.border.color);

}

.tabs-cap-bottom {
  bottom: 0;
}

.tabs-inner .widget li a {
  display: inline-block;

  margin: 0;
  padding: .6em 1.5em;

  font: $(tabs.font);
  color: $(tabs.text.color);

  border-top: 1px solid $(tabs.border.color);
  border-bottom: 1px solid $(tabs.border.color);
  border-$startSide: 1px solid $(tabs.border.color);

  height: 16px;
  line-height: 16px;
}

.tabs-inner .widget li:last-child a {
  border-$endSide: 1px solid $(tabs.border.color);
}

.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
  background: $(tabs.selected.background.color) $(tabs.background.gradient) repeat-x scroll 0 -100px;
  color: $(tabs.selected.text.color);
}

/* Headings
----------------------------------------------- */
h2 {
  font: $(widget.title.font);
  color: $(widget.title.text.color);
}

/* Widgets
----------------------------------------------- */
.main-inner .section {
  margin: 0 27px;
  padding: 0;
}

.main-inner .column-left-outer,
.main-inner .column-right-outer {
  margin-top: $(widget.outer.margin.top);
}

#layout .main-inner .column-left-outer,
#layout .main-inner .column-right-outer {
  margin-top: 0;
}

.main-inner .column-left-inner,
.main-inner .column-right-inner {
  background: $(widget.outer.background.color) $(widget.outer.background.gradient) repeat 0 0;

  -moz-box-shadow: 0 0 $(outer.shadow.spread) rgba(0, 0, 0, .2);
  -webkit-box-shadow: 0 0 $(outer.shadow.spread) rgba(0, 0, 0, .2);
  -goog-ms-box-shadow: 0 0 $(outer.shadow.spread) rgba(0, 0, 0, .2);
  box-shadow: 0 0 $(outer.shadow.spread) rgba(0, 0, 0, .2);

  -moz-border-radius: $(widget.border.radius);
  -webkit-border-radius: $(widget.border.radius);
  -goog-ms-border-radius: $(widget.border.radius);
  border-radius: $(widget.border.radius);
}

#layout .main-inner .column-left-inner,
#layout .main-inner .column-right-inner {
  margin-top: 0;
}

.sidebar .widget {
  font: $(widget.font);
  color: $(widget.text.color);
}

.sidebar .widget a:link {
  color: $(widget.link.color);
}

.sidebar .widget a:visited {
  color: $(widget.link.visited.color);
}

.sidebar .widget a:hover {
  color: $(widget.link.hover.color);
}

.sidebar .widget h2 {
  text-shadow: 0 0 $(title.shadow.spread) #000000;
}

.main-inner .widget {
  background-color: $(widget.background.color);
  border: 1px solid $(widget.border.color);
  padding: 0 $(widget.padding.side) 15px;
  margin: 20px -16px;

  -moz-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  -webkit-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  -goog-ms-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);

  -moz-border-radius: $(widget.border.radius);
  -webkit-border-radius: $(widget.border.radius);
  -goog-ms-border-radius: $(widget.border.radius);
  border-radius: $(widget.border.radius);
}

.main-inner .widget h2 {
  margin: 0 -$(separator.outdent);
  padding: .6em $(separator.outdent) .5em;
  border-bottom: 1px solid $(widget.border.bevel.color);
}

.footer-inner .widget h2 {
  padding: 0 0 .4em;

  border-bottom: 1px solid $(widget.border.bevel.color);
}

.main-inner .widget h2 + div, .footer-inner .widget h2 + div {
  border-top: $(title.separator.border.size) solid $(widget.border.color);
  padding-top: $(widget.padding.top);
}

.main-inner .widget .widget-content {
  margin: 0 -$(separator.outdent);
  padding: 7px $(separator.outdent) 0;
}

.main-inner .widget ul, .main-inner .widget #ArchiveList ul.flat {
  margin: -$(widget.padding.top) -15px 0;
  padding: 0;

  list-style: none;
}

.main-inner .widget #ArchiveList {
  margin: -$(widget.padding.top) 0 0;
}

.main-inner .widget ul li, .main-inner .widget #ArchiveList ul.flat li {
  padding: .5em 15px;
  text-indent: 0;

  color: $(widget.alternate.text.color);

  border-top: $(list.separator.border.size) solid $(widget.border.color);
  border-bottom: 1px solid $(widget.border.bevel.color);
}

.main-inner .widget #ArchiveList ul li {
  padding-top: .25em;
  padding-bottom: .25em;
}

.main-inner .widget ul li:first-child, .main-inner .widget #ArchiveList ul.flat li:first-child {
  border-top: none;
}

.main-inner .widget ul li:last-child, .main-inner .widget #ArchiveList ul.flat li:last-child {
  border-bottom: none;
}

.post-body {
  position: relative;
}

.main-inner .widget .post-body ul {
  padding: 0 2.5em;
  margin: .5em 0;

  list-style: disc;
}

.main-inner .widget .post-body ul li {
  padding: 0.25em 0;
  margin-bottom: .25em;

  color: $(body.text.color);

  border: none;
}

.footer-inner .widget ul {
  padding: 0;

  list-style: none;
}

.widget .zippy {
  color: $(widget.alternate.text.color);
}

/* Posts
----------------------------------------------- */
body .main-inner .Blog {
  padding: 0;
  margin-bottom: 1em;

  background-color: transparent;
  border: none;

  -moz-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
  -webkit-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
  -goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
  box-shadow: 0 0 0 rgba(0, 0, 0, 0);
}

.main-inner .section:last-child .Blog:last-child {
  padding: 0;
  margin-bottom: 1em;
}

.main-inner .widget h2.date-header {
  margin: 0 -15px 1px;
  padding: 0 0 $(date.padding.bottom) 0;

  font: $(date.font);
  color: $(date.text.color);

  background: $(date.background);

  border-top: $(date.border.size) solid $(date.border.color);
  border-bottom: 1px solid $(widget.border.bevel.color);

  -moz-border-radius-topleft: $(date.header.border.radius.top);
  -moz-border-radius-topright: $(date.header.border.radius.top);
  -webkit-border-top-left-radius: $(date.header.border.radius.top);
  -webkit-border-top-right-radius: $(date.header.border.radius.top);
  border-top-left-radius: $(date.header.border.radius.top);
  border-top-right-radius: $(date.header.border.radius.top);

  position: $(date.position);
  bottom: 100%;
  $(date.side): $(date.header.position);
  text-shadow: 0 0 $(title.shadow.spread) #000000;
}

.main-inner .widget h2.date-header span {
  font: $(date.font);
  display: block;
  padding: .5em 15px;
  border-left: $(date.border.size) solid $(date.border.color);
  border-right: $(date.border.size) solid $(date.border.color);
}

.date-outer {
  position: relative;
  margin: $(date.space) 0 20px;
  padding: 0 15px;

  background-color: $(post.background.color);
  border: 1px solid $(post.border.color);

  -moz-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  -webkit-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  -goog-ms-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);

  -moz-border-radius: $(widget.border.radius);
  -webkit-border-radius: $(widget.border.radius);
  -goog-ms-border-radius: $(widget.border.radius);
  border-radius: $(widget.border.radius);
}

.date-outer:first-child {
  margin-top: 0;
}

.date-outer:last-child {
  margin-bottom: $(date.last.space.bottom);

  -moz-border-radius-bottomleft: $(date.last.border.radius.bottom);
  -moz-border-radius-bottomright: $(date.last.border.radius.bottom);
  -webkit-border-bottom-left-radius: $(date.last.border.radius.bottom);
  -webkit-border-bottom-right-radius: $(date.last.border.radius.bottom);
  -goog-ms-border-bottom-left-radius: $(date.last.border.radius.bottom);
  -goog-ms-border-bottom-right-radius: $(date.last.border.radius.bottom);
  border-bottom-left-radius: $(date.last.border.radius.bottom);
  border-bottom-right-radius: $(date.last.border.radius.bottom);
}

.date-posts {
  margin: 0 -$(separator.outdent);
  padding: 0 $(separator.outdent);

  clear: both;
}

.post-outer, .inline-ad {
  border-top: 1px solid $(post.border.bevel.color);

  margin: 0 -$(separator.outdent);
  padding: 15px $(separator.outdent);
}

.post-outer {
  padding-bottom: 10px;
}

.post-outer:first-child {
  padding-top: $(post.first.padding.top);
  border-top: none;
}

.post-outer:last-child, .inline-ad:last-child {
  border-bottom: none;
}

.post-body {
  position: relative;
}

.post-body img {
  padding: 8px;
  background: $(image.background.color);
  border: 1px solid $(image.border.color);

  -moz-box-shadow: 0 0 $(image.shadow.spread) rgba(0, 0, 0, .2);
  -webkit-box-shadow: 0 0 $(image.shadow.spread) rgba(0, 0, 0, .2);
  box-shadow: 0 0 $(image.shadow.spread) rgba(0, 0, 0, .2);

  -moz-border-radius: $(image.border.radius);
  -webkit-border-radius: $(image.border.radius);
  border-radius: $(image.border.radius);
}

h3.post-title, h4 {
  font: $(post.title.font);
  color: $(post.title.text.color);
}

h3.post-title a {
  font: $(post.title.font);
  color: $(post.title.text.color);
}

h3.post-title a:hover {
  color: $(link.hover.color);
  text-decoration: underline;
}

.post-header {
  margin: 0 0 1em;
}

.post-body {
  line-height: 1.4;
}

.post-outer h2 {
  color: $(body.text.color);
}

.post-footer {
  margin: 1.5em 0 0;
}

#blog-pager {
  padding: 15px;
  font-size: 120%;

  background-color: $(pager.background.color);
  border: 1px solid $(widget.border.color);

  -moz-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  -webkit-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  -goog-ms-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);

  -moz-border-radius: $(widget.border.radius);
  -webkit-border-radius: $(widget.border.radius);
  -goog-ms-border-radius: $(widget.border.radius);
  border-radius: $(widget.border.radius);

  -moz-border-radius-topleft: $(pager.border.radius.top);
  -moz-border-radius-topright: $(pager.border.radius.top);
  -webkit-border-top-left-radius: $(pager.border.radius.top);
  -webkit-border-top-right-radius: $(pager.border.radius.top);
  -goog-ms-border-top-left-radius: $(pager.border.radius.top);
  -goog-ms-border-top-right-radius: $(pager.border.radius.top);
  border-top-left-radius: $(pager.border.radius.top);
  border-top-right-radius-topright: $(pager.border.radius.top);

  margin-top: $(pager.space.top);
}

.blog-feeds, .post-feeds {
  margin: 1em 0;
  text-align: center;
  color: $(feed.text.color);
}

.blog-feeds a, .post-feeds a {
  color: $(feed.link.color);
}

.blog-feeds a:visited, .post-feeds a:visited {
  color: $(feed.link.visited.color);
}

.blog-feeds a:hover, .post-feeds a:hover {
  color: $(feed.link.hover.color);
}

.post-outer .comments {
  margin-top: 2em;
}

/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
  background-repeat: no-repeat;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}

.comments .comments-content .loadmore a {
  border-top: 1px solid $(tabs.border.color);
  border-bottom: 1px solid $(tabs.border.color);
}

.comments .continue {
  border-top: 2px solid $(tabs.border.color);
}

/* Footer
----------------------------------------------- */
.footer-outer {
  margin: -$(shadow.spread) 0 -1px;
  padding: $(shadow.spread) 0 0;
  color: $(footer.text.color);
  overflow: hidden;
}

.footer-fauxborder-left {
  border-top: 1px solid $(widget.border.color);
  background: $(footer.background.color) $(footer.background.gradient) repeat scroll 0 0;

  -moz-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  -webkit-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  -goog-ms-box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);
  box-shadow: 0 0 $(shadow.spread) rgba(0, 0, 0, .2);

  margin: 0 -$(shadow.spread);
}

/* Mobile
----------------------------------------------- */
body.mobile {
  background-size: $(mobile.background.size);
}

.mobile .body-fauxcolumn-outer {
  background: $(mobile.background.overlay);
}

*+html body.mobile .main-inner .column-center-inner {
  margin-top: 0;
}

.mobile .main-inner .widget {
  padding: 0 0 15px;
}

.mobile .main-inner .widget h2 + div,
.mobile .footer-inner .widget h2 + div {
  border-top: none;
  padding-top: 0;
}

.mobile .footer-inner .widget h2 {
  padding: 0.5em 0;
  border-bottom: none;
}

.mobile .main-inner .widget .widget-content {
  margin: 0;
  padding: 7px 0 0;
}

.mobile .main-inner .widget ul,
.mobile .main-inner .widget #ArchiveList ul.flat {
  margin: 0 -15px 0;
}

.mobile .main-inner .widget h2.date-header {
  $(date.side): 0;
}

.mobile .date-header span {
  padding: 0.4em 0;
}

.mobile .date-outer:first-child {
  margin-bottom: 0;
  border: 1px solid $(post.border.color);

  -moz-border-radius-topleft: $(date.first.border.radius.top);
  -moz-border-radius-topright: $(date.first.border.radius.top);
  -webkit-border-top-left-radius: $(date.first.border.radius.top);
  -webkit-border-top-right-radius: $(date.first.border.radius.top);
  -goog-ms-border-top-left-radius: $(date.first.border.radius.top);
  -goog-ms-border-top-right-radius: $(date.first.border.radius.top);
  border-top-left-radius: $(date.first.border.radius.top);
  border-top-right-radius: $(date.first.border.radius.top);
}

.mobile .date-outer {
  border-color: $(post.border.color);
  border-width: 0 1px 1px;
}

.mobile .date-outer:last-child {
  margin-bottom: 0;
}

.mobile .main-inner {
  padding: 0;
}

.mobile .header-inner .section {
  margin: 0;
}

.mobile .blog-posts {
  padding: 0 10px;
}

.mobile .post-outer, .mobile .inline-ad {
  padding: 5px 0;
}

.mobile .tabs-inner .section {
  margin: 0 10px;
}

.mobile .main-inner .widget h2 {
  margin: 0;
  padding: 0;
}

.mobile .main-inner .widget h2.date-header span {
  padding: 0;
}

.mobile .main-inner .widget .widget-content {
  margin: 0;
  padding: 7px 0 0;
}

.mobile #blog-pager {
  border: 1px solid transparent;
  background: $(footer.background.color) $(footer.background.gradient) repeat scroll 0 0;
}

.mobile .main-inner .column-left-inner,
.mobile .main-inner .column-right-inner {
  background: $(widget.outer.background.color) $(widget.outer.background.gradient) repeat 0 0;

  -moz-box-shadow: none;
  -webkit-box-shadow: none;
  -goog-ms-box-shadow: none;
  box-shadow: none;
}

.mobile .date-posts {
  margin: 0;
  padding: 0;
}

.mobile .footer-fauxborder-left {
  margin: 0;
  border-top: inherit;
}

.mobile .main-inner .section:last-child .Blog:last-child {
  margin-bottom: 0;
}

.mobile-index-contents {
  color: $(body.text.color);
}

.mobile .mobile-link-button {
  background: $(link.color) $(tabs.background.gradient) repeat scroll 0 0;
}

.mobile-link-button a:link, .mobile-link-button a:visited {
  color: $(mobile.button.color);
}

.mobile .tabs-inner .PageList .widget-content {
  background: transparent;
  border-top: 1px solid;
  border-color: $(tabs.border.color);
  color: $(tabs.text.color);
}

.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
  border-$startSide: 1px solid $(tabs.border.color);
}
]]&gt;&lt;/b:skin&gt;

    &lt;b:template-skin&gt;
      &lt;b:variable default='930px' name='content.width' type='length' value='1000px'/&gt;
      &lt;b:variable default='0' name='main.column.left.width' type='length' value='0px'/&gt;
      &lt;b:variable default='360px' name='main.column.right.width' type='length' value='0px'/&gt;

      &lt;![CDATA[
      body {
        min-width: $(content.width);
      }

      .content-outer, .content-fauxcolumn-outer, .region-inner {
        min-width: $(content.width);
        max-width: $(content.width);
        _width: $(content.width);
      }

      .main-inner .columns {
        padding-left: $(main.column.left.width);
        padding-right: $(main.column.right.width);
      }

      .main-inner .fauxcolumn-center-outer {
        left: $(main.column.left.width);
        right: $(main.column.right.width);
        /* IE6 does not respect left and right together */
        _width: expression(this.parentNode.offsetWidth -
            parseInt("$(main.column.left.width)") -
            parseInt("$(main.column.right.width)") + 'px');
      }

      .main-inner .fauxcolumn-left-outer {
        width: $(main.column.left.width);
      }

      .main-inner .fauxcolumn-right-outer {
        width: $(main.column.right.width);
      }

      .main-inner .column-left-outer {
        width: $(main.column.left.width);
        right: 100%;
        margin-left: -$(main.column.left.width);
      }

      .main-inner .column-right-outer {
        width: $(main.column.right.width);
        margin-right: -$(main.column.right.width);
      }

      #layout {
        min-width: 0;
      }

      #layout .content-outer {
        min-width: 0;
        width: 800px;
      }

      #layout .region-inner {
        min-width: 0;
        width: auto;
      }
      ]]&gt;
    &lt;/b:template-skin&gt;

&lt;script type='text/javascript'&gt;

  var _gaq = _gaq || [];
  _gaq.push([&amp;#39;_setAccount&amp;#39;, &amp;#39;UA-25354697-1&amp;#39;]);
  _gaq.push([&amp;#39;_trackPageview&amp;#39;]);

  (function() {
    var ga = document.createElement(&amp;#39;script&amp;#39;); ga.type = &amp;#39;text/javascript&amp;#39;; ga.async = true;
    ga.src = (&amp;#39;https:&amp;#39; == document.location.protocol ? &amp;#39;https://ssl&amp;#39; : &amp;#39;http://www&amp;#39;) + &amp;#39;.google-analytics.com/ga.js&amp;#39;;
    var s = document.getElementsByTagName(&amp;#39;script&amp;#39;)[0]; s.parentNode.insertBefore(ga, s);
  })();

&lt;/script&gt;

  &lt;/head&gt;

  &lt;body expr:class='&amp;quot;loading&amp;quot; + data:blog.mobileClass'&gt;
  &lt;b:section class='navbar' id='navbar' maxwidgets='1' showaddelement='no'&gt;
&lt;b:widget id='Navbar1' locked='true' title='Navbar' type='Navbar'&gt;
&lt;b:includable id='main'&gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener(&amp;#39;load&amp;#39;,
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent(&amp;#39;onload&amp;#39;, function(){ object[attribute] = val; });
      }
    }
  &amp;lt;/script&amp;gt;
&amp;lt;div id=&amp;quot;navbar-iframe-container&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://apis.google.com/js/plusone.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
        gapi.load(&amp;quot;iframes-styles-bubble&amp;quot;, function() {
          if (window.iframes &amp;amp;&amp;amp; iframes.open) {
            iframes.open(
                &amp;#39;//www.blogger.com/navbar.g?targetBlogID\0757663029716914672257\46blogName\75Chase+Seibert+%7C+Blog\46publishMode\75PUBLISH_MODE_BLOGSPOT\46navbarType\75LIGHT\46layoutType\75LAYOUTS\46searchRoot\75http://bitkickers.blogspot.com/search\46blogLocale\75en\46v\0752\46homepageUrl\75http://bitkickers.blogspot.com/\46vt\75-3787159578435150706&amp;#39;,
                {
                  container: &amp;quot;navbar-iframe-container&amp;quot;,
                  id: &amp;quot;navbar-iframe&amp;quot;
                },
                {
                });
          }
        });
      &amp;lt;/script&amp;gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
(function() {
var script = document.createElement(&amp;#39;script&amp;#39;);
script.type = &amp;#39;text/javascript&amp;#39;;
script.src = &amp;#39;//pagead2.googlesyndication.com/pagead/js/google_top_exp.js&amp;#39;;
var head = document.getElementsByTagName(&amp;#39;head&amp;#39;)[0];
if (head) {
head.appendChild(script);
}})();
&amp;lt;/script&amp;gt;
&lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;/b:section&gt;

  &lt;div class='body-fauxcolumns'&gt;
    &lt;div class='fauxcolumn-outer body-fauxcolumn-outer'&gt;
    &lt;div class='cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left'&gt;
    &lt;div class='fauxborder-right'/&gt;
    &lt;div class='fauxcolumn-inner'&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class='content'&gt;
  &lt;div class='content-fauxcolumns'&gt;
    &lt;div class='fauxcolumn-outer content-fauxcolumn-outer'&gt;
    &lt;div class='cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left'&gt;
    &lt;div class='fauxborder-right'/&gt;
    &lt;div class='fauxcolumn-inner'&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class='content-outer'&gt;
  &lt;div class='content-cap-top cap-top'&gt;
    &lt;div class='cap-left'/&gt;
    &lt;div class='cap-right'/&gt;
  &lt;/div&gt;
  &lt;div class='fauxborder-left content-fauxborder-left'&gt;
  &lt;div class='fauxborder-right content-fauxborder-right'/&gt;
  &lt;div class='content-inner'&gt;

    &lt;header&gt;
    &lt;div class='header-outer'&gt;
    &lt;div class='header-cap-top cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left header-fauxborder-left'&gt;
    &lt;div class='fauxborder-right header-fauxborder-right'/&gt;
    &lt;div class='region-inner header-inner'&gt;
      &lt;b:section class='header' id='header' maxwidgets='1' showaddelement='no'&gt;
&lt;b:widget id='Header1' locked='true' title='Chase Seibert | Blog (Header)' type='Header'&gt;
&lt;b:includable id='main'&gt;

  &lt;b:if cond='data:useImage'&gt;
    &lt;b:if cond='data:imagePlacement == &amp;quot;BEHIND&amp;quot;'&gt;
      &lt;!--
      Show image as background to text. You can't really calculate the width
      reliably in JS because margins are not taken into account by any of
      clientWidth, offsetWidth or scrollWidth, so we don't force a minimum
      width if the user is using shrink to fit.
      This results in a margin-width's worth of pixels being cropped. If the
      user is not using shrink to fit then we expand the header.
      --&gt;
      &lt;b:if cond='data:mobile'&gt;
          &lt;div id='header-inner'&gt;
            &lt;div class='titlewrapper' style='background: transparent'&gt;
              &lt;h1 class='title' style='background: transparent; border-width: 0px'&gt;
                &lt;b:include name='title'/&gt;
              &lt;/h1&gt;
            &lt;/div&gt;
            &lt;b:include name='description'/&gt;
          &lt;/div&gt;
        &lt;b:else/&gt;
          &lt;div expr:style='&amp;quot;background-image: url(\&amp;quot;&amp;quot; + data:sourceUrl + &amp;quot;\&amp;quot;); &amp;quot;                        + &amp;quot;background-position: &amp;quot;                        + data:backgroundPositionStyleStr + &amp;quot;; &amp;quot;                        + data:widthStyleStr                        + &amp;quot;min-height: &amp;quot; + data:height                        + &amp;quot;_height: &amp;quot; + data:height                        + &amp;quot;background-repeat: no-repeat; &amp;quot;' id='header-inner'&gt;
            &lt;div class='titlewrapper' style='background: transparent'&gt;
              &lt;h1 class='title' style='background: transparent; border-width: 0px'&gt;
                &lt;b:include name='title'/&gt;
              &lt;/h1&gt;
            &lt;/div&gt;
            &lt;b:include name='description'/&gt;
          &lt;/div&gt;
        &lt;/b:if&gt;
    &lt;b:else/&gt;
      &lt;!--Show the image only--&gt;
      &lt;div id='header-inner'&gt;
        &lt;a expr:href='data:blog.homepageUrl' style='display: block'&gt;
          &lt;img expr:alt='data:title' expr:height='data:height' expr:id='data:widget.instanceId + &amp;quot;_headerimg&amp;quot;' expr:src='data:sourceUrl' expr:width='data:width' style='display: block'/&gt;
        &lt;/a&gt;
        &lt;!--Show the description--&gt;
        &lt;b:if cond='data:imagePlacement == &amp;quot;BEFORE_DESCRIPTION&amp;quot;'&gt;
          &lt;b:include name='description'/&gt;
        &lt;/b:if&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;
  &lt;b:else/&gt;
    &lt;!--No header image --&gt;
    &lt;div id='header-inner'&gt;
      &lt;div class='titlewrapper'&gt;
        &lt;h1 class='title'&gt;
          &lt;b:include name='title'/&gt;
        &lt;/h1&gt;
      &lt;/div&gt;
      &lt;b:include name='description'/&gt;
    &lt;/div&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='title'&gt;
  &lt;b:if cond='data:blog.url == data:blog.homepageUrl'&gt;
    &lt;data:title/&gt;
  &lt;b:else/&gt;
    &lt;a expr:href='data:blog.homepageUrl'&gt;&lt;data:title/&gt;&lt;/a&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='description'&gt;
  &lt;div class='descriptionwrapper'&gt;
    &lt;p class='description'&gt;&lt;span&gt;&lt;data:description/&gt;&lt;/span&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;/b:section&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='header-cap-bottom cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;/header&gt;

    &lt;div class='tabs-outer'&gt;
    &lt;div class='tabs-cap-top cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left tabs-fauxborder-left'&gt;
    &lt;div class='fauxborder-right tabs-fauxborder-right'/&gt;
    &lt;div class='region-inner tabs-inner'&gt;
      &lt;b:section class='tabs' id='crosscol' maxwidgets='1' showaddelement='yes'/&gt;
      &lt;b:section class='tabs' id='crosscol-overflow' showaddelement='no'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='tabs-cap-bottom cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class='main-outer'&gt;
    &lt;div class='main-cap-top cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;

    &lt;div class='fauxborder-left main-fauxborder-left'&gt;
    &lt;div class='fauxborder-right main-fauxborder-right'/&gt;
    &lt;div class='region-inner main-inner'&gt;

      &lt;div class='columns fauxcolumns'&gt;

        &lt;div class='fauxcolumn-outer fauxcolumn-center-outer'&gt;
        &lt;div class='cap-top'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;div class='fauxborder-left'&gt;
        &lt;div class='fauxborder-right'/&gt;
        &lt;div class='fauxcolumn-inner'&gt;
        &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class='cap-bottom'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class='fauxcolumn-outer fauxcolumn-left-outer'&gt;
        &lt;div class='cap-top'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;div class='fauxborder-left'&gt;
        &lt;div class='fauxborder-right'/&gt;
        &lt;div class='fauxcolumn-inner'&gt;
        &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class='cap-bottom'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class='fauxcolumn-outer fauxcolumn-right-outer'&gt;
        &lt;div class='cap-top'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;div class='fauxborder-left'&gt;
        &lt;div class='fauxborder-right'/&gt;
        &lt;div class='fauxcolumn-inner'&gt;
        &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class='cap-bottom'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- corrects IE6 width calculation --&gt;
        &lt;div class='columns-inner'&gt;

        &lt;div class='column-center-outer'&gt;
        &lt;div class='column-center-inner'&gt;
          &lt;b:section class='main' id='main' showaddelement='no'&gt;
&lt;b:widget id='Blog1' locked='true' title='Blog Posts' type='Blog'&gt;
&lt;b:includable id='nextprev'&gt;
  &lt;div class='blog-pager' id='blog-pager'&gt;
    &lt;b:if cond='data:newerPageUrl'&gt;
      &lt;span id='blog-pager-newer-link'&gt;
      &lt;a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-newer-link&amp;quot;' expr:title='data:newerPageTitle'&gt;&lt;data:newerPageTitle/&gt;&lt;/a&gt;
      &lt;/span&gt;
    &lt;/b:if&gt;

    &lt;b:if cond='data:olderPageUrl'&gt;
      &lt;span id='blog-pager-older-link'&gt;
      &lt;a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-older-link&amp;quot;' expr:title='data:olderPageTitle'&gt;&lt;data:olderPageTitle/&gt;&lt;/a&gt;
      &lt;/span&gt;
    &lt;/b:if&gt;

    &lt;a class='home-link' expr:href='data:blog.homepageUrl'&gt;&lt;data:homeMsg/&gt;&lt;/a&gt;

    &lt;b:if cond='data:mobileLinkUrl'&gt;
      &lt;div class='blog-mobile-link'&gt;
        &lt;a expr:href='data:mobileLinkUrl'&gt;&lt;data:mobileLinkMsg/&gt;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

  &lt;/div&gt;
  &lt;div class='clear'/&gt;
&lt;/b:includable&gt;
&lt;b:includable id='shareButtons' var='post'&gt;
  &lt;b:if cond='data:top.showEmailButton'&gt;&lt;a class='goog-inline-block share-button sb-email' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=email&amp;quot;' expr:title='data:top.emailThisMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.emailThisMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showBlogThisButton'&gt;&lt;a class='goog-inline-block share-button sb-blog' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=blog&amp;quot;' expr:onclick='&amp;quot;window.open(this.href, \&amp;quot;_blank\&amp;quot;, \&amp;quot;height=270,width=475\&amp;quot;); return false;&amp;quot;' expr:title='data:top.blogThisMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.blogThisMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showTwitterButton'&gt;&lt;a class='goog-inline-block share-button sb-twitter' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=twitter&amp;quot;' expr:title='data:top.shareToTwitterMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.shareToTwitterMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showFacebookButton'&gt;&lt;a class='goog-inline-block share-button sb-facebook' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=facebook&amp;quot;' expr:onclick='&amp;quot;window.open(this.href, \&amp;quot;_blank\&amp;quot;, \&amp;quot;height=430,width=640\&amp;quot;); return false;&amp;quot;' expr:title='data:top.shareToFacebookMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.shareToFacebookMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showOrkutButton'&gt;&lt;a class='goog-inline-block share-button sb-orkut' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=orkut&amp;quot;' expr:title='data:top.shareToOrkutMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.shareToOrkutMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showDummy'&gt;&lt;div class='goog-inline-block dummy-container'&gt;&lt;data:post.dummyTag/&gt;&lt;/div&gt;&lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='threaded_comment_js' var='post'&gt;
  &lt;script async='async' expr:src='data:post.commentSrc' type='text/javascript'/&gt;

  &lt;script type='text/javascript'&gt;
    (function() {
      var items = &lt;data:post.commentJso/&gt;;
      var msgs = &lt;data:post.commentMsgs/&gt;;
      var config = &lt;data:post.commentConfig/&gt;;

// &lt;![CDATA[
      var cursor = null;
      if (items &amp;&amp; items.length &gt; 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '&lt;span class="deleted-comment"&gt;' + entry.content.$t + '&lt;/span&gt;';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data &amp;&amp; data.feed &amp;&amp; data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author &amp;&amp; entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid &amp;&amp; pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&amp;v=2&amp;orderby=published&amp;reverse=false&amp;max-results=50';
          if (cursor) {
            url += '&amp;published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length &lt; 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&amp;callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              &amp;&amp; comment.author.name == config.authorName
              &amp;&amp; comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&amp;postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox &amp;&amp; (commentId !== replyParent)) {
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&amp;parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog &amp;&amp; window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog &amp;&amp; window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]&gt;
  &lt;/script&gt;
&lt;/b:includable&gt;
&lt;b:includable id='backlinks' var='post'&gt;
  &lt;a name='links'/&gt;&lt;h4&gt;&lt;data:post.backlinksLabel/&gt;&lt;/h4&gt;
  &lt;b:if cond='data:post.numBacklinks != 0'&gt;
    &lt;dl class='comments-block' id='comments-block'&gt;
      &lt;b:loop values='data:post.backlinks' var='backlink'&gt;
        &lt;div class='collapsed-backlink backlink-control'&gt;
          &lt;dt class='comment-title'&gt;
            &lt;span class='backlink-toggle-zippy'&gt;&amp;#160;&lt;/span&gt;
            &lt;a expr:href='data:backlink.url' rel='nofollow'&gt;&lt;data:backlink.title/&gt;&lt;/a&gt;
            &lt;b:include data='backlink' name='backlinkDeleteIcon'/&gt;
          &lt;/dt&gt;
          &lt;dd class='comment-body collapseable'&gt;
            &lt;data:backlink.snippet/&gt;
          &lt;/dd&gt;
          &lt;dd class='comment-footer collapseable'&gt;
            &lt;span class='comment-author'&gt;&lt;data:post.authorLabel/&gt; &lt;data:backlink.author/&gt;&lt;/span&gt;
            &lt;span class='comment-timestamp'&gt;&lt;data:post.timestampLabel/&gt; &lt;data:backlink.timestamp/&gt;&lt;/span&gt;
          &lt;/dd&gt;
        &lt;/div&gt;
      &lt;/b:loop&gt;
    &lt;/dl&gt;
  &lt;/b:if&gt;
  &lt;p class='comment-footer'&gt;
    &lt;a class='comment-link' expr:href='data:post.createLinkUrl' expr:id='data:widget.instanceId + &amp;quot;_backlinks-create-link&amp;quot;' target='_blank'&gt;&lt;data:post.createLinkLabel/&gt;&lt;/a&gt;
  &lt;/p&gt;
&lt;/b:includable&gt;
&lt;b:includable id='mobile-main' var='top'&gt;
    &lt;!-- posts --&gt;
    &lt;div class='blog-posts hfeed'&gt;

      &lt;b:include data='top' name='status-message'/&gt;

      &lt;b:if cond='data:blog.pageType == &amp;quot;index&amp;quot;'&gt;
        &lt;b:loop values='data:posts' var='post'&gt;
          &lt;b:include data='post' name='mobile-index-post'/&gt;
        &lt;/b:loop&gt;
      &lt;b:else/&gt;
        &lt;b:loop values='data:posts' var='post'&gt;
          &lt;b:include data='post' name='mobile-post'/&gt;
        &lt;/b:loop&gt;
      &lt;/b:if&gt;
    &lt;/div&gt;

   &lt;b:include name='mobile-nextprev'/&gt;
&lt;/b:includable&gt;
&lt;b:includable id='post' var='post'&gt;
  &lt;div class='post hentry' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'&gt;
    &lt;a expr:name='data:post.id'/&gt;
    &lt;b:if cond='data:post.title'&gt;
      &lt;h3 class='post-title entry-title' itemprop='name'&gt;
      &lt;b:if cond='data:post.link'&gt;
        &lt;a expr:href='data:post.link'&gt;&lt;data:post.title/&gt;&lt;/a&gt;
      &lt;b:else/&gt;
        &lt;b:if cond='data:post.url'&gt;
          &lt;b:if cond='data:blog.url != data:post.url'&gt;
            &lt;a expr:href='data:post.url'&gt;&lt;data:post.title/&gt;&lt;/a&gt;
          &lt;b:else/&gt;
            &lt;data:post.title/&gt;
          &lt;/b:if&gt;
        &lt;b:else/&gt;
          &lt;data:post.title/&gt;
        &lt;/b:if&gt;
      &lt;/b:if&gt;
      &lt;/h3&gt;
    &lt;/b:if&gt;

    &lt;div class='post-header'&gt;
    &lt;div class='post-header-line-1'/&gt;
    &lt;/div&gt;

    &lt;b:if cond='data:blog.metaDescription == &amp;quot;&amp;quot;'&gt;
      &lt;!-- Then use the post body as the schema.org description,
          for good G+/FB snippeting. --&gt;
      &lt;div class='post-body entry-content' expr:id='&amp;quot;post-body-&amp;quot; + data:post.id' itemprop='description articleBody'&gt;
        &lt;data:post.body/&gt;
        &lt;div style='clear: both;'/&gt; &lt;!-- clear for photos floats --&gt;
      &lt;/div&gt;
    &lt;b:else/&gt;
      &lt;div class='post-body entry-content' expr:id='&amp;quot;post-body-&amp;quot; + data:post.id' itemprop='articleBody'&gt;
        &lt;data:post.body/&gt;
        &lt;div style='clear: both;'/&gt; &lt;!-- clear for photos floats --&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;b:if cond='data:post.hasJumpLink'&gt;
      &lt;div class='jump-link'&gt;
        &lt;a expr:href='data:post.url + &amp;quot;#more&amp;quot;' expr:title='data:post.title'&gt;&lt;data:post.jumpText/&gt;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='post-footer'&gt;
    &lt;div class='post-footer-line post-footer-line-1'&gt;&lt;span class='post-author vcard'&gt;
        &lt;b:if cond='data:top.showAuthor'&gt;
          &lt;data:top.authorLabel/&gt;
            &lt;b:if cond='data:post.authorProfileUrl'&gt;
              &lt;span class='fn'&gt;
                &lt;a expr:href='data:post.authorProfileUrl' itemprop='author' rel='author' title='author profile'&gt;
                  &lt;data:post.author/&gt;
                &lt;/a&gt;
              &lt;/span&gt;
            &lt;b:else/&gt;
              &lt;span class='fn'&gt;&lt;data:post.author/&gt;&lt;/span&gt;
            &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;span class='post-timestamp'&gt;
        &lt;b:if cond='data:top.showTimestamp'&gt;
          &lt;data:top.timestampLabel/&gt;
        &lt;b:if cond='data:post.url'&gt;
          &lt;a class='timestamp-link' expr:href='data:post.url' itemprop='url' rel='bookmark' title='permanent link'&gt;&lt;abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'&gt;&lt;data:post.timestamp/&gt;&lt;/abbr&gt;&lt;/a&gt;
        &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;span class='post-comment-link'&gt;
        &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
          &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
            &lt;b:if cond='data:post.allowComments'&gt;
              &lt;a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;
                &lt;data:post.commentLabelFull/&gt;:
              &lt;/a&gt;
            &lt;/b:if&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;span class='post-icons'&gt;
        &lt;!-- email post links --&gt;
        &lt;b:if cond='data:post.emailPostUrl'&gt;
          &lt;span class='item-action'&gt;
          &lt;a expr:href='data:post.emailPostUrl' expr:title='data:top.emailPostMsg'&gt;
              &lt;img alt='' class='icon-action' height='13' src='http://img1.blogblog.com/img/icon18_email.gif' width='18'/&gt;
          &lt;/a&gt;
          &lt;/span&gt;
        &lt;/b:if&gt;

        &lt;!-- quickedit pencil --&gt;
        &lt;b:include data='post' name='postQuickEdit'/&gt;
      &lt;/span&gt; &lt;/div&gt;

      &lt;div class='post-footer-line post-footer-line-2'&gt;&lt;span class='post-labels'&gt;
        &lt;b:if cond='data:post.labels'&gt;
          &lt;data:postLabelsLabel/&gt;
          &lt;b:loop values='data:post.labels' var='label'&gt;
            &lt;a expr:href='data:label.url' rel='tag'&gt;&lt;data:label.name/&gt;&lt;/a&gt;&lt;b:if cond='data:label.isLast != &amp;quot;true&amp;quot;'&gt;,&lt;/b:if&gt;
          &lt;/b:loop&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;/div&gt;

      &lt;div class='post-footer-line post-footer-line-3'&gt;&lt;span class='post-location'&gt;
        &lt;b:if cond='data:top.showLocation'&gt;
          &lt;b:if cond='data:post.location'&gt;
            &lt;data:postLocationLabel/&gt;
            &lt;a expr:href='data:post.location.mapsUrl' target='_blank'&gt;&lt;data:post.location.name/&gt;&lt;/a&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;b:includable id='comment_picker' var='post'&gt;
  &lt;b:if cond='data:post.commentSource == 1'&gt;
    &lt;b:include data='post' name='iframe_comments'/&gt;
  &lt;b:else/&gt;
    &lt;b:if cond='data:post.showThreadedComments'&gt;
      &lt;b:include data='post' name='threaded_comments'/&gt;
    &lt;b:else/&gt;
      &lt;b:include data='post' name='comments'/&gt;
    &lt;/b:if&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='status-message'&gt;
  &lt;b:if cond='data:navMessage'&gt;
  &lt;div class='status-msg-wrap'&gt;
    &lt;div class='status-msg-body'&gt;
      &lt;data:navMessage/&gt;
    &lt;/div&gt;
    &lt;div class='status-msg-border'&gt;
      &lt;div class='status-msg-bg'&gt;
        &lt;div class='status-msg-hidden'&gt;&lt;data:navMessage/&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div style='clear: both;'/&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='comment-form' var='post'&gt;
  &lt;div class='comment-form'&gt;
    &lt;a name='comment-form'/&gt;
    &lt;b:if cond='data:mobile'&gt;
      &lt;h4 id='comment-post-message'&gt;
        &lt;a expr:id='data:widget.instanceId + &amp;quot;_comment-editor-toggle-link&amp;quot;' href='javascript:void(0)'&gt;&lt;data:postCommentMsg/&gt;&lt;/a&gt;&lt;/h4&gt;
      &lt;p&gt;&lt;data:blogCommentMessage/&gt;&lt;/p&gt;
      &lt;data:blogTeamBlogMessage/&gt;
      &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
      &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/&gt;
    &lt;b:else/&gt;
      &lt;h4 id='comment-post-message'&gt;&lt;data:postCommentMsg/&gt;&lt;/h4&gt;
      &lt;p&gt;&lt;data:blogCommentMessage/&gt;&lt;/p&gt;
      &lt;data:blogTeamBlogMessage/&gt;
      &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
      &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'/&gt;
    &lt;/b:if&gt;
    &lt;data:post.friendConnectJs/&gt;
    &lt;data:post.cmtfpIframe/&gt;
    &lt;script type='text/javascript'&gt;
      BLOG_CMT_createIframe(&amp;#39;&lt;data:post.appRpcRelayPath/&gt;&amp;#39;, &amp;#39;&lt;data:post.communityId/&gt;&amp;#39;);
    &lt;/script&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;b:includable id='threaded_comments' var='post'&gt;
  &lt;div class='comments' id='comments'&gt;
    &lt;a name='comments'/&gt;
    &lt;h4&gt;&lt;data:post.commentLabelFull/&gt;:&lt;/h4&gt;

    &lt;div class='comments-content'&gt;
      &lt;b:if cond='data:post.embedCommentForm'&gt;
        &lt;b:include data='post' name='threaded_comment_js'/&gt;
      &lt;/b:if&gt;
      &lt;div id='comment-holder'&gt;
         &lt;data:post.commentHtml/&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;p class='comment-footer'&gt;
      &lt;b:if cond='data:post.allowNewComments'&gt;
        &lt;b:include data='post' name='threaded-comment-form'/&gt;
      &lt;b:else/&gt;
        &lt;data:post.noNewCommentsText/&gt;
      &lt;/b:if&gt;
    &lt;/p&gt;

    &lt;b:if cond='data:showCmtPopup'&gt;
      &lt;div id='comment-popup'&gt;
        &lt;iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'&gt;
        &lt;/iframe&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div id='backlinks-container'&gt;
    &lt;div expr:id='data:widget.instanceId + &amp;quot;_backlinks-container&amp;quot;'&gt;
       &lt;b:if cond='data:post.showBacklinks'&gt;
         &lt;b:include data='post' name='backlinks'/&gt;
       &lt;/b:if&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;b:includable id='backlinkDeleteIcon' var='backlink'&gt;
  &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:backlink.adminClass'&gt;
    &lt;a expr:href='data:backlink.deleteUrl' expr:title='data:top.deleteBacklinkMsg'&gt;
      &lt;img src='//www.blogger.com/img/icon_delete13.gif'/&gt;
    &lt;/a&gt;
  &lt;/span&gt;
&lt;/b:includable&gt;
&lt;b:includable id='mobile-nextprev'&gt;
  &lt;div class='blog-pager' id='blog-pager'&gt;
    &lt;b:if cond='data:newerPageUrl'&gt;
      &lt;div class='mobile-link-button' id='blog-pager-newer-link'&gt;
      &lt;a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-newer-link&amp;quot;' expr:title='data:newerPageTitle'&gt;&amp;amp;lsaquo;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;b:if cond='data:olderPageUrl'&gt;
      &lt;div class='mobile-link-button' id='blog-pager-older-link'&gt;
      &lt;a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-older-link&amp;quot;' expr:title='data:olderPageTitle'&gt;&amp;amp;rsaquo;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='mobile-link-button' id='blog-pager-home-link'&gt;
    &lt;a class='home-link' expr:href='data:blog.homepageUrl'&gt;&lt;data:homeMsg/&gt;&lt;/a&gt;
    &lt;/div&gt;

    &lt;div class='mobile-desktop-link'&gt;
      &lt;a class='home-link' expr:href='data:desktopLinkUrl'&gt;&lt;data:desktopLinkMsg/&gt;&lt;/a&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class='clear'/&gt;
&lt;/b:includable&gt;
&lt;b:includable id='mobile-post' var='post'&gt;
  &lt;div class='date-outer'&gt;
    &lt;b:if cond='data:post.dateHeader'&gt;
      &lt;h2 class='date-header'&gt;&lt;span&gt;&lt;data:post.dateHeader/&gt;&lt;/span&gt;&lt;/h2&gt;
    &lt;/b:if&gt;
    &lt;div class='date-posts'&gt;
      &lt;div class='post-outer'&gt;

        &lt;div class='post hentry uncustomized-post-template' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'&gt;
          &lt;a expr:name='data:post.id'/&gt;
          &lt;b:if cond='data:post.title'&gt;
            &lt;h3 class='post-title entry-title' itemprop='name'&gt;
              &lt;b:if cond='data:post.link'&gt;
                &lt;a expr:href='data:post.link'&gt;&lt;data:post.title/&gt;&lt;/a&gt;
              &lt;b:else/&gt;
                &lt;b:if cond='data:post.url'&gt;
                  &lt;b:if cond='data:blog.url != data:post.url'&gt;
                    &lt;a expr:href='data:post.url'&gt;&lt;data:post.title/&gt;&lt;/a&gt;
                  &lt;b:else/&gt;
                    &lt;data:post.title/&gt;
                  &lt;/b:if&gt;
                &lt;b:else/&gt;
                  &lt;data:post.title/&gt;
                &lt;/b:if&gt;
              &lt;/b:if&gt;
            &lt;/h3&gt;
          &lt;/b:if&gt;

          &lt;div class='post-header'&gt;
            &lt;div class='post-header-line-1'/&gt;
          &lt;/div&gt;

          &lt;div class='post-body entry-content' expr:id='&amp;quot;post-body-&amp;quot; + data:post.id' itemprop='articleBody'&gt;
            &lt;data:post.body/&gt;
            &lt;div style='clear: both;'/&gt; &lt;!-- clear for photos floats --&gt;
          &lt;/div&gt;

          &lt;div class='post-footer'&gt;
            &lt;div class='post-footer-line post-footer-line-1'&gt;
              &lt;span class='post-author vcard'&gt;
                &lt;b:if cond='data:top.showAuthor'&gt;
                  &lt;b:if cond='data:post.authorProfileUrl'&gt;
                    &lt;span class='fn'&gt;
                      &lt;a expr:href='data:post.authorProfileUrl' itemprop='author' rel='author' title='author profile'&gt;
                        &lt;data:post.author/&gt;
                      &lt;/a&gt;
                    &lt;/span&gt;
                  &lt;b:else/&gt;
                    &lt;span class='fn'&gt;&lt;data:post.author/&gt;&lt;/span&gt;
                  &lt;/b:if&gt;
                &lt;/b:if&gt;
              &lt;/span&gt;

              &lt;span class='post-timestamp'&gt;
                &lt;b:if cond='data:top.showTimestamp'&gt;
                  &lt;data:top.timestampLabel/&gt;
                  &lt;b:if cond='data:post.url'&gt;
                    &lt;a class='timestamp-link' expr:href='data:post.url' itemprop='url' rel='bookmark' title='permanent link'&gt;&lt;abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'&gt;&lt;data:post.timestamp/&gt;&lt;/abbr&gt;&lt;/a&gt;
                  &lt;/b:if&gt;
                &lt;/b:if&gt;
              &lt;/span&gt;

              &lt;span class='post-comment-link'&gt;
                &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
                  &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
                    &lt;b:if cond='data:post.allowComments'&gt;
                      &lt;a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;
                        &lt;data:post.commentLabelFull/&gt;:
                      &lt;/a&gt;
                    &lt;/b:if&gt;
                  &lt;/b:if&gt;
                &lt;/b:if&gt;
              &lt;/span&gt;
            &lt;/div&gt;

            &lt;div class='post-footer-line post-footer-line-2'&gt;
              &lt;b:if cond='data:top.showMobileShare'&gt;
                &lt;div class='mobile-link-button goog-inline-block' id='mobile-share-button'&gt;
                  &lt;a href='javascript:void(0);'&gt;&lt;data:shareMsg/&gt;&lt;/a&gt;
                &lt;/div&gt;
              &lt;/b:if&gt;
              &lt;b:if cond='data:top.showDummy'&gt;
                &lt;div class='goog-inline-block dummy-container'&gt;&lt;data:post.dummyTag/&gt;&lt;/div&gt;
              &lt;/b:if&gt;
            &lt;/div&gt;

          &lt;/div&gt;
        &lt;/div&gt;

        &lt;b:if cond='data:blog.pageType == &amp;quot;static_page&amp;quot;'&gt;
          &lt;b:include data='post' name='comment_picker'/&gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:blog.pageType == &amp;quot;item&amp;quot;'&gt;
          &lt;b:include data='post' name='comment_picker'/&gt;
        &lt;/b:if&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;b:includable id='postQuickEdit' var='post'&gt;
  &lt;b:if cond='data:post.editUrl'&gt;
    &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:post.adminClass'&gt;
      &lt;a expr:href='data:post.editUrl' expr:title='data:top.editPostMsg'&gt;
        &lt;img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/&gt;
      &lt;/a&gt;
    &lt;/span&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='main' var='top'&gt;
  &lt;b:if cond='data:mobile == &amp;quot;false&amp;quot;'&gt;

    &lt;!-- posts --&gt;
    &lt;div class='blog-posts hfeed'&gt;

      &lt;b:include data='top' name='status-message'/&gt;

      &lt;data:defaultAdStart/&gt;
      &lt;b:loop values='data:posts' var='post'&gt;
        &lt;b:if cond='data:post.isDateStart'&gt;
          &lt;b:if cond='data:post.isFirstPost == &amp;quot;false&amp;quot;'&gt;
            &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:post.isDateStart'&gt;
          &amp;lt;div class=&amp;quot;date-outer&amp;quot;&amp;gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:post.dateHeader'&gt;
          &lt;h2 class='date-header'&gt;&lt;span&gt;&lt;data:post.dateHeader/&gt;&lt;/span&gt;&lt;/h2&gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:post.isDateStart'&gt;
          &amp;lt;div class=&amp;quot;date-posts&amp;quot;&amp;gt;
        &lt;/b:if&gt;
        &lt;div class='post-outer'&gt;
        &lt;b:include data='post' name='post'/&gt;
        &lt;b:if cond='data:blog.pageType == &amp;quot;static_page&amp;quot;'&gt;
          &lt;b:include data='post' name='comment_picker'/&gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:blog.pageType == &amp;quot;item&amp;quot;'&gt;
          &lt;b:include data='post' name='comment_picker'/&gt;
        &lt;/b:if&gt;
        &lt;/div&gt;
        &lt;b:if cond='data:post.includeAd'&gt;
          &lt;b:if cond='data:post.isFirstPost'&gt;
            &lt;data:defaultAdEnd/&gt;
          &lt;b:else/&gt;
            &lt;data:adEnd/&gt;
          &lt;/b:if&gt;
          &lt;div class='inline-ad'&gt;
            &lt;data:adCode/&gt;
          &lt;/div&gt;
          &lt;data:adStart/&gt;
        &lt;/b:if&gt;
      &lt;/b:loop&gt;
      &lt;b:if cond='data:numPosts != 0'&gt;
        &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;
      &lt;/b:if&gt;
      &lt;data:adEnd/&gt;
    &lt;/div&gt;

    &lt;!-- navigation --&gt;
    &lt;b:include name='nextprev'/&gt;

    &lt;!-- feed links --&gt;
    &lt;b:include name='feedLinks'/&gt;

    &lt;b:if cond='data:top.showStars'&gt;
      &lt;script src='//www.google.com/jsapi' type='text/javascript'/&gt;
      &lt;script type='text/javascript'&gt;
        google.load(&amp;quot;annotations&amp;quot;, &amp;quot;1&amp;quot;, {&amp;quot;locale&amp;quot;: &amp;quot;&lt;data:top.languageCode/&gt;&amp;quot;});
        function initialize() {
          google.annotations.setApplicationId(&lt;data:top.blogspotReviews/&gt;);
          google.annotations.createAll();
          google.annotations.fetch();
        }
        google.setOnLoadCallback(initialize);
      &lt;/script&gt;
    &lt;/b:if&gt;

  &lt;b:else/&gt;
    &lt;b:include name='mobile-main'/&gt;
  &lt;/b:if&gt;

  &lt;b:if cond='data:top.showDummy'&gt;
    &lt;data:top.dummyBootstrap/&gt;
  &lt;/b:if&gt;

&lt;/b:includable&gt;
&lt;b:includable id='commentDeleteIcon' var='comment'&gt;
  &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:comment.adminClass'&gt;
    &lt;b:if cond='data:showCmtPopup'&gt;
      &lt;div class='goog-toggle-button'&gt;
        &lt;div class='goog-inline-block comment-action-icon'/&gt;
      &lt;/div&gt;
    &lt;b:else/&gt;
      &lt;a class='comment-delete' expr:href='data:comment.deleteUrl' expr:title='data:top.deleteCommentMsg'&gt;
        &lt;img src='//www.blogger.com/img/icon_delete13.gif'/&gt;
      &lt;/a&gt;
    &lt;/b:if&gt;
  &lt;/span&gt;
&lt;/b:includable&gt;
&lt;b:includable id='feedLinks'&gt;
  &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt; &lt;!-- Blog feed links --&gt;
    &lt;b:if cond='data:feedLinks'&gt;
      &lt;div class='blog-feeds'&gt;
        &lt;b:include data='feedLinks' name='feedLinksBody'/&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;b:else/&gt; &lt;!--Post feed links --&gt;
    &lt;div class='post-feeds'&gt;
      &lt;b:loop values='data:posts' var='post'&gt;
        &lt;b:if cond='data:post.allowComments'&gt;
          &lt;b:if cond='data:post.feedLinks'&gt;
            &lt;b:include data='post.feedLinks' name='feedLinksBody'/&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/b:loop&gt;
    &lt;/div&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='threaded-comment-form' var='post'&gt;
  &lt;div class='comment-form'&gt;
    &lt;a name='comment-form'/&gt;
    &lt;b:if cond='data:mobile'&gt;
      &lt;p&gt;&lt;data:blogCommentMessage/&gt;&lt;/p&gt;
      &lt;data:blogTeamBlogMessage/&gt;
      &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
      &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/&gt;
    &lt;b:else/&gt;
      &lt;p&gt;&lt;data:blogCommentMessage/&gt;&lt;/p&gt;
      &lt;data:blogTeamBlogMessage/&gt;
      &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
      &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'/&gt;
    &lt;/b:if&gt;
    &lt;data:post.friendConnectJs/&gt;
    &lt;data:post.cmtfpIframe/&gt;
    &lt;script type='text/javascript'&gt;
      BLOG_CMT_createIframe(&amp;#39;&lt;data:post.appRpcRelayPath/&gt;&amp;#39;, &amp;#39;&lt;data:post.communityId/&gt;&amp;#39;);
    &lt;/script&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;b:includable id='mobile-index-post' var='post'&gt;
  &lt;div class='mobile-date-outer date-outer'&gt;
    &lt;b:if cond='data:post.dateHeader'&gt;
      &lt;div class='date-header'&gt;
        &lt;span&gt;&lt;data:post.dateHeader/&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='mobile-post-outer'&gt;
      &lt;a expr:href='data:post.url'&gt;
        &lt;h3 class='mobile-index-title entry-title' itemprop='name'&gt;
          &lt;data:post.title/&gt;
        &lt;/h3&gt;

        &lt;div class='mobile-index-arrow'&gt;&amp;amp;rsaquo;&lt;/div&gt;

        &lt;div class='mobile-index-contents'&gt;
          &lt;b:if cond='data:post.thumbnailUrl'&gt;
            &lt;div class='mobile-index-thumbnail'&gt;
              &lt;div class='Image'&gt;
                &lt;img expr:src='data:post.thumbnailUrl'/&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/b:if&gt;

          &lt;div class='post-body'&gt;
            &lt;b:if cond='data:post.snippet'&gt;&lt;data:post.snippet/&gt;&lt;/b:if&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div style='clear: both;'/&gt;
      &lt;/a&gt;

      &lt;div class='mobile-index-comment'&gt;
        &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
          &lt;b:if cond='data:post.allowComments'&gt;
            &lt;b:if cond='data:post.numComments != 0'&gt;
              &lt;a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;
                &lt;data:post.commentLabelFull/&gt;:
              &lt;/a&gt;
            &lt;/b:if&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;b:includable id='iframe_comments' var='post'&gt;

  &lt;b:if cond='data:post.allowComments'&gt;
    &lt;script expr:src='data:post.commentSrc' type='text/javascript'/&gt;
    &lt;div class='cmt_iframe_holder'/&gt;

    &lt;b:if cond='data:post.embedCommentForm == &amp;quot;false&amp;quot;'&gt;
      &lt;a expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;&lt;data:postCommentMsg/&gt;&lt;/a&gt;
    &lt;/b:if&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='feedLinksBody' var='links'&gt;
  &lt;div class='feed-links'&gt;
  &lt;data:feedLinksMsg/&gt;
  &lt;b:loop values='data:links' var='f'&gt;
     &lt;a class='feed-link' expr:href='data:f.url' expr:type='data:f.mimeType' target='_blank'&gt;&lt;data:f.name/&gt; (&lt;data:f.feedType/&gt;)&lt;/a&gt;
  &lt;/b:loop&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;b:includable id='comments' var='post'&gt;
  &lt;div class='comments' id='comments'&gt;
    &lt;a name='comments'/&gt;
    &lt;b:if cond='data:post.allowComments'&gt;
      &lt;h4&gt;&lt;data:post.commentLabelFull/&gt;:&lt;/h4&gt;

      &lt;b:if cond='data:post.commentPagingRequired'&gt;
        &lt;span class='paging-control-container'&gt;
          &lt;b:if cond='data:post.hasOlderLinks'&gt;
            &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'&gt;&lt;data:post.oldestLinkText/&gt;&lt;/a&gt;
              &amp;#160;
            &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'&gt;&lt;data:post.olderLinkText/&gt;&lt;/a&gt;
              &amp;#160;
          &lt;/b:if&gt;

          &lt;data:post.commentRangeText/&gt;

          &lt;b:if cond='data:post.hasNewerLinks'&gt;
            &amp;#160;
            &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'&gt;&lt;data:post.newerLinkText/&gt;&lt;/a&gt;
            &amp;#160;
            &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'&gt;&lt;data:post.newestLinkText/&gt;&lt;/a&gt;
          &lt;/b:if&gt;
        &lt;/span&gt;
      &lt;/b:if&gt;

      &lt;div expr:id='data:widget.instanceId + &amp;quot;_comments-block-wrapper&amp;quot;'&gt;
        &lt;dl expr:class='data:post.avatarIndentClass' id='comments-block'&gt;
          &lt;b:loop values='data:post.comments' var='comment'&gt;
            &lt;dt expr:class='&amp;quot;comment-author &amp;quot; + data:comment.authorClass' expr:id='data:comment.anchorName'&gt;
              &lt;b:if cond='data:comment.favicon'&gt;
                &lt;img expr:src='data:comment.favicon' height='16px' style='margin-bottom:-2px;' width='16px'/&gt;
              &lt;/b:if&gt;
              &lt;a expr:name='data:comment.anchorName'/&gt;
              &lt;b:if cond='data:blog.enabledCommentProfileImages'&gt;
                &lt;data:comment.authorAvatarImage/&gt;
              &lt;/b:if&gt;
              &lt;b:if cond='data:comment.authorUrl'&gt;
                &lt;a expr:href='data:comment.authorUrl' rel='nofollow'&gt;&lt;data:comment.author/&gt;&lt;/a&gt;
              &lt;b:else/&gt;
                &lt;data:comment.author/&gt;
              &lt;/b:if&gt;
              &lt;data:commentPostedByMsg/&gt;
            &lt;/dt&gt;
            &lt;dd class='comment-body' expr:id='data:widget.instanceId + data:comment.cmtBodyIdPostfix'&gt;
              &lt;b:if cond='data:comment.isDeleted'&gt;
                &lt;span class='deleted-comment'&gt;&lt;data:comment.body/&gt;&lt;/span&gt;
              &lt;b:else/&gt;
                &lt;p&gt;
                  &lt;data:comment.body/&gt;
                &lt;/p&gt;
              &lt;/b:if&gt;
            &lt;/dd&gt;
            &lt;dd class='comment-footer'&gt;
              &lt;span class='comment-timestamp'&gt;
                &lt;a expr:href='data:comment.url' title='comment permalink'&gt;
                  &lt;data:comment.timestamp/&gt;
                &lt;/a&gt;
                &lt;b:include data='comment' name='commentDeleteIcon'/&gt;
              &lt;/span&gt;
            &lt;/dd&gt;
          &lt;/b:loop&gt;
        &lt;/dl&gt;
      &lt;/div&gt;

      &lt;b:if cond='data:post.commentPagingRequired'&gt;
        &lt;span class='paging-control-container'&gt;
          &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'&gt;
            &lt;data:post.oldestLinkText/&gt;
          &lt;/a&gt;
          &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'&gt;
            &lt;data:post.olderLinkText/&gt;
          &lt;/a&gt;
          &amp;#160;
          &lt;data:post.commentRangeText/&gt;
          &amp;#160;
          &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'&gt;
            &lt;data:post.newerLinkText/&gt;
          &lt;/a&gt;
          &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'&gt;
            &lt;data:post.newestLinkText/&gt;
          &lt;/a&gt;
        &lt;/span&gt;
      &lt;/b:if&gt;

      &lt;p class='comment-footer'&gt;
        &lt;b:if cond='data:post.embedCommentForm'&gt;
          &lt;b:if cond='data:post.allowNewComments'&gt;
            &lt;b:include data='post' name='comment-form'/&gt;
          &lt;b:else/&gt;
            &lt;data:post.noNewCommentsText/&gt;
          &lt;/b:if&gt;
        &lt;b:else/&gt;
          &lt;b:if cond='data:post.allowComments'&gt;
            &lt;a expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;&lt;data:postCommentMsg/&gt;&lt;/a&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;

      &lt;/p&gt;
    &lt;/b:if&gt;
    &lt;b:if cond='data:showCmtPopup'&gt;
      &lt;div id='comment-popup'&gt;
        &lt;iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'&gt;
        &lt;/iframe&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div id='backlinks-container'&gt;
    &lt;div expr:id='data:widget.instanceId + &amp;quot;_backlinks-container&amp;quot;'&gt;
       &lt;b:if cond='data:post.showBacklinks'&gt;
         &lt;b:include data='post' name='backlinks'/&gt;
       &lt;/b:if&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;/b:section&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class='column-left-outer'&gt;
        &lt;div class='column-left-inner'&gt;
          &lt;aside&gt;
          &lt;macro:include id='main-column-left-sections' name='sections'&gt;
            &lt;macro:param default='0' name='num' value='0'/&gt;
            &lt;macro:param default='sidebar-left' name='idPrefix'/&gt;
            &lt;macro:param default='sidebar' name='class'/&gt;
            &lt;macro:param default='true' name='includeBottom'/&gt;
          &lt;/macro:include&gt;
          &lt;/aside&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class='column-right-outer'&gt;
        &lt;div class='column-right-inner'&gt;
          &lt;aside&gt;
          &lt;macro:include id='main-column-right-sections' name='sections'&gt;
            &lt;macro:param default='2' name='num' value='0'/&gt;
            &lt;macro:param default='sidebar-right' name='idPrefix'/&gt;
            &lt;macro:param default='sidebar' name='class'/&gt;
            &lt;macro:param default='true' name='includeBottom'/&gt;
          &lt;/macro:include&gt;
          &lt;/aside&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;/div&gt;

        &lt;div style='clear: both'/&gt;
      &lt;!-- columns --&gt;
      &lt;/div&gt;

    &lt;!-- main --&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='main-cap-bottom cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;

    &lt;footer&gt;
    &lt;div class='footer-outer'&gt;
    &lt;div class='footer-cap-top cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left footer-fauxborder-left'&gt;
    &lt;div class='fauxborder-right footer-fauxborder-right'/&gt;
    &lt;div class='region-inner footer-inner'&gt;
      &lt;macro:include id='footer-sections' name='sections'&gt;
        &lt;macro:param default='2' name='num' value='1'/&gt;
        &lt;macro:param default='footer' name='idPrefix'/&gt;
        &lt;macro:param default='foot' name='class'/&gt;
        &lt;macro:param default='false' name='includeBottom'/&gt;
      &lt;/macro:include&gt;
      &lt;!-- outside of the include in order to lock Attribution widget --&gt;
      &lt;b:section class='foot' id='footer-3' showaddelement='no'&gt;
&lt;b:widget id='Feed1' locked='false' title='Stack Overflow' type='Feed'&gt;
&lt;b:includable id='main'&gt;
    &lt;h2&gt;&lt;data:title/&gt;&lt;/h2&gt;
    &lt;div class='widget-content' expr:id='data:widget.instanceId + &amp;quot;_feedItemListDisplay&amp;quot;'&gt;
      &lt;span style='filter: alpha(25); opacity: 0.25;'&gt;
        &lt;a expr:href='data:feedUrl'&gt;&lt;data:loadingMsg/&gt;&lt;/a&gt;
      &lt;/span&gt;
    &lt;/div&gt;
    &lt;b:include name='quickedit'/&gt;
  &lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;b:widget id='Attribution1' locked='true' title='' type='Attribution'&gt;
&lt;b:includable id='main'&gt;
    &lt;b:if cond='data:feedbackSurveyLink'&gt;
      &lt;div class='mobile-survey-link' style='text-align: center;'&gt;
        &lt;data:feedbackSurveyLink/&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='widget-content' style='text-align: center;'&gt;
      &lt;b:if cond='data:attribution != &amp;quot;&amp;quot;'&gt;
       &lt;data:attribution/&gt;
      &lt;/b:if&gt;
    &lt;/div&gt;

    &lt;b:include name='quickedit'/&gt;
  &lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;/b:section&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='footer-cap-bottom cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;/footer&gt;

  &lt;!-- content --&gt;
  &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class='content-cap-bottom cap-bottom'&gt;
    &lt;div class='cap-left'/&gt;
    &lt;div class='cap-right'/&gt;
  &lt;/div&gt;
  &lt;/div&gt;
  &lt;/div&gt;

  &lt;script type='text/javascript'&gt;
    window.setTimeout(function() {
        document.body.className = document.body.className.replace(&amp;#39;loading&amp;#39;, &amp;#39;&amp;#39;);
      }, 10);
  &lt;/script&gt;
&lt;/body&gt;

&lt;macro:includable id='sections' var='col'&gt;
  &lt;macro:if cond='data:col.num == 0'&gt;
  &lt;macro:else/&gt;
    &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-1&amp;quot;' preferred='yes' showaddelement='yes'/&gt;

    &lt;macro:if cond='data:col.num &amp;gt;= 2'&gt;
      &lt;table border='0' cellpadding='0' cellspacing='0' mexpr:class='&amp;quot;section-columns columns-&amp;quot; + data:col.num'&gt;
      &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td class='first columns-cell'&gt;
          &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-2-1&amp;quot;'/&gt;
        &lt;/td&gt;

        &lt;td class='columns-cell'&gt;
          &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-2-2&amp;quot;'/&gt;
        &lt;/td&gt;

        &lt;macro:if cond='data:col.num &amp;gt;= 3'&gt;
          &lt;td class='columns-cell'&gt;
            &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-2-3&amp;quot;'/&gt;
          &lt;/td&gt;
        &lt;/macro:if&gt;

        &lt;macro:if cond='data:col.num &amp;gt;= 4'&gt;
          &lt;td class='columns-cell'&gt;
            &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-2-4&amp;quot;'/&gt;
          &lt;/td&gt;
        &lt;/macro:if&gt;
      &lt;/tr&gt;
      &lt;/tbody&gt;
      &lt;/table&gt;

      &lt;macro:if cond='data:col.includeBottom'&gt;
        &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-3&amp;quot;' showaddelement='no'/&gt;
      &lt;/macro:if&gt;
    &lt;/macro:if&gt;
  &lt;/macro:if&gt;
&lt;/macro:includable&gt;



&lt;style&gt;
.dp-highlighter
{
	font-family: &amp;quot;Consolas&amp;quot;, &amp;quot;Monaco&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace;
	background-color: #E7E5DC;
	width: 99%;
	overflow: auto;
	margin: 18px 0 18px 0 !important;
	padding-top: 1px; /* adds a little border on top when controls are hidden */
}

/* clear styles */
.dp-highlighter ol,
.dp-highlighter ol li,
.dp-highlighter ol li span 
{
	margin: 0;
	padding: 0;
	border: none;
}

.dp-highlighter a,
.dp-highlighter a:hover
{
	background: none;
	border: none;
	padding: 0;
	margin: 0;
}

.dp-highlighter .bar
{
	padding-left: 45px;
}

.dp-highlighter.collapsed .bar,
.dp-highlighter.nogutter .bar
{
	padding-left: 0px;
}

.dp-highlighter ol
{
	list-style: decimal; /* for ie */
	background-color: #fff;
	margin: 0px 0px 1px 45px !important; /* 1px bottom margin seems to fix occasional Firefox scrolling */
	padding: 0px;
	color: #5C5C5C;
}

.dp-highlighter.nogutter ol,
.dp-highlighter.nogutter ol li
{
	list-style: none !important;
	margin-left: 0px !important;
}

.dp-highlighter ol li,
.dp-highlighter .columns div
{
	list-style: decimal-leading-zero; /* better look for others, override cascade from OL */
	list-style-position: outside !important;
	border-left: 3px solid #6CE26C;
	background-color: #F8F8F8;
	color: #5C5C5C;
	padding: 0 3px 0 10px !important;
	margin: 0 !important;
	line-height: 1.2em;
}

.dp-highlighter.nogutter ol li,
.dp-highlighter.nogutter .columns div
{
	border: 0;
}

.dp-highlighter .columns
{
	background-color: #F8F8F8;
	color: gray;
	overflow: hidden;
	width: 100%;
}

.dp-highlighter .columns div
{
	padding-bottom: 5px;
}

.dp-highlighter ol li.alt
{
	background-color: #FFF;
	color: inherit;
}

.dp-highlighter ol li span
{
	color: #333;
	background-color: inherit;
}

/* Adjust some properties when collapsed */

.dp-highlighter.collapsed ol
{
	margin: 0px;
}

.dp-highlighter.collapsed ol li
{
	display: none;
}

/* Additional modifications when in print-view */

.dp-highlighter.printing
{
	border: none;
}

.dp-highlighter.printing .tools
{
	display: none !important;
}

.dp-highlighter.printing li
{
	display: list-item !important;
}

/* Styles for the tools */

.dp-highlighter .tools
{
	padding: 3px 8px 3px 10px;
	color: silver;
	background-color: #f8f8f8;
	padding-bottom: 10px;
	border-left: 3px solid #6CE26C;
}

.dp-highlighter.nogutter .tools
{
	border-left: 0;
}

.dp-highlighter.collapsed .tools
{
	border-bottom: 0;
}

.dp-highlighter .tools a
{
	color: #a0a0a0;
	background-color: inherit;
	text-decoration: none;
	margin-right: 10px;
}

.dp-highlighter .tools a:hover
{
	color: red;
	background-color: inherit;
	text-decoration: underline;
}

/* About dialog styles */

.dp-about { background-color: #fff; color: #333; margin: 0px; padding: 0px; }
.dp-about table { width: 100%; height: 100%; font-size: 11px; font-family: Tahoma, Verdana, Arial, sans-serif !important; }
.dp-about td { padding: 10px; vertical-align: top; }
.dp-about .copy { border-bottom: 1px solid #ACA899; height: 95%; }
.dp-about .title { color: red; background-color: inherit; font-weight: bold; }
.dp-about .para { margin: 0 0 4px 0; }
.dp-about .footer { background-color: #ECEADB; color: #333; border-top: 1px solid #fff; text-align: right; }
.dp-about .close { font-size: 11px; font-family: Tahoma, Verdana, Arial, sans-serif !important; background-color: #ECEADB; color: #333; width: 60px; height: 22px; }

/* Language specific styles */

.dp-highlighter .comment, .dp-highlighter .comments { color: #008200; background-color: inherit; }
.dp-highlighter .string { color: blue; background-color: inherit; }
.dp-highlighter .keyword { color: #069; font-weight: bold; background-color: inherit; }
.dp-highlighter .preprocessor { color: gray; background-color: inherit; }

&lt;/style&gt;

&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shCore.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushCpp.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushCSharp.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushCss.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushJava.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushJScript.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushSql.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushXml.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushPython.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushRuby.js' type='text/javascript'/&gt;
&lt;script src='http://syntaxhighlighter.googlecode.com/svn-history/trunk/Scripts/shBrushPhp.js' type='text/javascript'/&gt;
&lt;script src='http://bboy.mr.freeze.googlepages.com/shBrushBash.js' type='text/javascript'/&gt;
&lt;script class='javascript'&gt;
//&lt;![CDATA[
 dp.SyntaxHighlighter.BloggerMode();
 dp.SyntaxHighlighter.HighlightAll("code");
//]]&gt;
&lt;/script&gt;

&lt;b:section-contents id='footer-1'&gt;
&lt;b:widget id='AdSense1' locked='false' title='' type='AdSense'&gt;
&lt;b:includable id='main'&gt;
  &lt;div class='widget-content'&gt;
    &lt;b:if cond='data:blog.pageType != &amp;quot;error_page&amp;quot;'&gt;
      &lt;data:adCode/&gt;
    &lt;/b:if&gt;
    &lt;b:include name='quickedit'/&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;b:widget id='HTML1' locked='false' title='Stackoverflow Badge' type='HTML'&gt;
&lt;b:includable id='main'&gt;
  &lt;!-- only display title if it's non-empty --&gt;
  &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
    &lt;h2 class='title'&gt;&lt;data:title/&gt;&lt;/h2&gt;
  &lt;/b:if&gt;
  &lt;div class='widget-content'&gt;
    &lt;data:content/&gt;
  &lt;/div&gt;

  &lt;b:include name='quickedit'/&gt;
&lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;b:widget id='Profile1' locked='false' title='About Me' type='Profile'&gt;
&lt;b:includable id='main'&gt;
    &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
      &lt;h2&gt;&lt;data:title/&gt;&lt;/h2&gt;
    &lt;/b:if&gt;
    &lt;div class='widget-content'&gt;
    &lt;b:if cond='data:team == &amp;quot;true&amp;quot;'&gt; &lt;!-- team blog profile --&gt;
      &lt;ul&gt;
        &lt;b:loop values='data:authors' var='i'&gt;
          &lt;li&gt;&lt;a class='profile-name-link' expr:href='data:i.userUrl' expr:style='&amp;quot;background-image: url(&amp;quot; + data:i.profileLogo + &amp;quot;);&amp;quot;'&gt;&lt;data:i.display-name/&gt;&lt;/a&gt;&lt;/li&gt;
        &lt;/b:loop&gt;
      &lt;/ul&gt;

    &lt;b:else/&gt; &lt;!-- normal blog profile --&gt;

      &lt;b:if cond='data:photo.url != &amp;quot;&amp;quot;'&gt;
        &lt;a expr:href='data:userUrl'&gt;&lt;img class='profile-img' expr:alt='data:photo.alt' expr:height='data:photo.height' expr:src='data:photo.url' expr:width='data:photo.width'/&gt;&lt;/a&gt;
      &lt;/b:if&gt;

      &lt;dl class='profile-datablock'&gt;
        &lt;dt class='profile-data'&gt;
          &lt;a class='profile-name-link' expr:href='data:userUrl' expr:style='&amp;quot;background-image: url(&amp;quot; + data:profileLogo + &amp;quot;);&amp;quot;' rel='author'&gt;
            &lt;data:displayname/&gt;
          &lt;/a&gt;
        &lt;/dt&gt;

        &lt;b:if cond='data:showlocation == &amp;quot;true&amp;quot;'&gt;
          &lt;dd class='profile-data'&gt;&lt;data:location/&gt;&lt;/dd&gt;
        &lt;/b:if&gt;

        &lt;b:if cond='data:aboutme != &amp;quot;&amp;quot;'&gt;&lt;dd class='profile-textblock'&gt;&lt;data:aboutme/&gt;&lt;/dd&gt;&lt;/b:if&gt;
      &lt;/dl&gt;
      &lt;a class='profile-link' expr:href='data:userUrl' rel='author'&gt;&lt;data:viewProfileMsg/&gt;&lt;/a&gt;
    &lt;/b:if&gt;

     &lt;b:include name='quickedit'/&gt;
    &lt;/div&gt;
  &lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;b:widget id='BlogArchive1' locked='false' title='Blog Archive' type='BlogArchive'&gt;
&lt;b:includable id='main'&gt;
  &lt;b:if cond='data:title'&gt;
    &lt;h2&gt;&lt;data:title/&gt;&lt;/h2&gt;
  &lt;/b:if&gt;
  &lt;div class='widget-content'&gt;
  &lt;div id='ArchiveList'&gt;
  &lt;div expr:id='data:widget.instanceId + &amp;quot;_ArchiveList&amp;quot;'&gt;
    &lt;b:if cond='data:style == &amp;quot;HIERARCHY&amp;quot;'&gt;
     &lt;b:include data='data' name='interval'/&gt;
    &lt;/b:if&gt;
    &lt;b:if cond='data:style == &amp;quot;FLAT&amp;quot;'&gt;
      &lt;b:include data='data' name='flat'/&gt;
    &lt;/b:if&gt;
    &lt;b:if cond='data:style == &amp;quot;MENU&amp;quot;'&gt;
      &lt;b:include data='data' name='menu'/&gt;
    &lt;/b:if&gt;
  &lt;/div&gt;
  &lt;/div&gt;
  &lt;b:include name='quickedit'/&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
&lt;b:includable id='flat' var='data'&gt;
  &lt;ul class='flat'&gt;
    &lt;b:loop values='data:data' var='i'&gt;
      &lt;li class='archivedate'&gt;
        &lt;a expr:href='data:i.url'&gt;&lt;data:i.name/&gt;&lt;/a&gt; (&lt;data:i.post-count/&gt;)
      &lt;/li&gt;
    &lt;/b:loop&gt;
  &lt;/ul&gt;
&lt;/b:includable&gt;
&lt;b:includable id='menu' var='data'&gt;
  &lt;select expr:id='data:widget.instanceId + &amp;quot;_ArchiveMenu&amp;quot;'&gt;
    &lt;option value=''&gt;&lt;data:title/&gt;&lt;/option&gt;
    &lt;b:loop values='data:data' var='i'&gt;
      &lt;option expr:value='data:i.url'&gt;&lt;data:i.name/&gt; (&lt;data:i.post-count/&gt;)&lt;/option&gt;
    &lt;/b:loop&gt;
  &lt;/select&gt;
&lt;/b:includable&gt;
&lt;b:includable id='interval' var='intervalData'&gt;
  &lt;b:loop values='data:intervalData' var='i'&gt;
      &lt;ul class='hierarchy'&gt;
        &lt;li expr:class='&amp;quot;archivedate &amp;quot; + data:i.expclass'&gt;
          &lt;b:include data='i' name='toggle'/&gt;
          &lt;a class='post-count-link' expr:href='data:i.url'&gt;&lt;data:i.name/&gt;&lt;/a&gt;
            &lt;span class='post-count' dir='ltr'&gt;(&lt;data:i.post-count/&gt;)&lt;/span&gt;
          &lt;b:if cond='data:i.data'&gt;
            &lt;b:include data='i.data' name='interval'/&gt;
          &lt;/b:if&gt;
          &lt;b:if cond='data:i.posts'&gt;
            &lt;b:include data='i.posts' name='posts'/&gt;
          &lt;/b:if&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
  &lt;/b:loop&gt;
&lt;/b:includable&gt;
&lt;b:includable id='toggle' var='interval'&gt;
  &lt;b:if cond='data:interval.toggleId'&gt;
  &lt;b:if cond='data:interval.expclass == &amp;quot;expanded&amp;quot;'&gt;
    &lt;a class='toggle' href='javascript:void(0)'&gt;
      &lt;span class='zippy toggle-open'&gt;&amp;#9660;&amp;#160;&lt;/span&gt;
    &lt;/a&gt;
  &lt;b:else/&gt;
    &lt;a class='toggle' href='javascript:void(0)'&gt;
      &lt;span class='zippy'&gt;
        &lt;b:if cond='data:blog.languageDirection == &amp;quot;rtl&amp;quot;'&gt;
          &amp;#9668;&amp;#160;
        &lt;b:else/&gt;
          &amp;#9658;&amp;#160;
        &lt;/b:if&gt;
      &lt;/span&gt;
    &lt;/a&gt;
  &lt;/b:if&gt;
 &lt;/b:if&gt;
&lt;/b:includable&gt;
&lt;b:includable id='posts' var='posts'&gt;
  &lt;ul class='posts'&gt;
    &lt;b:loop values='data:posts' var='i'&gt;
      &lt;li&gt;&lt;a expr:href='data:i.url'&gt;&lt;data:i.title/&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;/b:loop&gt;
  &lt;/ul&gt;
&lt;/b:includable&gt;
&lt;/b:widget&gt;
&lt;/b:section-contents&gt;&lt;/html&gt;</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/template/default'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/template/default'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_PUBLISHING_MODE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of publishing done for this blog.</title><content type='text'>PUBLISH_MODE_BLOGSPOT</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_PUBLISHING_MODE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_PUBLISHING_MODE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_ADMIN_PERMISSION</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of administrators' emails for the blog.</title><content type='text'>chase.seibert@gmail.com</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ADMIN_PERMISSION'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ADMIN_PERMISSION'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_ADULT_CONTENT</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog contains adult content</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ADULT_CONTENT'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ADULT_CONTENT'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_ALTERNATE_JSRENDER_ALLOWED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether alternate JS renderings are allowed</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ALTERNATE_JSRENDER_ALLOWED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ALTERNATE_JSRENDER_ALLOWED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_ANALYTICS_ACCOUNT_NUMBER</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog's Google Analytics account number</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ANALYTICS_ACCOUNT_NUMBER'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ANALYTICS_ACCOUNT_NUMBER'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_ARCHIVE_DATE_FORMAT</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the archive index date format</title><content type='text'>9</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ARCHIVE_DATE_FORMAT'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ARCHIVE_DATE_FORMAT'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_ARCHIVE_FREQUENCY</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>How frequently this blog should be archived</title><content type='text'>NONE</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ARCHIVE_FREQUENCY'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_ARCHIVE_FREQUENCY'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_AUTHOR_PERMISSION</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of authors' emails who have permission to publish.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_AUTHOR_PERMISSION'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_AUTHOR_PERMISSION'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_BACKLINKS_ALLOWED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show comment backlinks on the blog</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_BACKLINKS_ALLOWED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_BACKLINKS_ALLOWED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_BY_POST_ARCHIVING</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to provide an archive page for each post</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_BY_POST_ARCHIVING'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_BY_POST_ARCHIVING'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_ACCESS</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Who can comment</title><content type='text'>ANYONE</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_ACCESS'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_ACCESS'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_CAPTCHA</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to require commenters to complete a Captcha</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_CAPTCHA'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_CAPTCHA'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_EMAIL</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>List of e-mail addresses to send notifications of new comments to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_EMAIL'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_EMAIL'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_FEED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for blog comments</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_FEED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_FEED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_FORM_LOCATION</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog comment form location</title><content type='text'>EMBEDDED_IFRAME</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_FORM_LOCATION'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_FORM_LOCATION'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_MESSAGE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog comment message</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_MESSAGE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_MESSAGE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_MODERATION</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to enable comment moderation</title><content type='text'>ENABLED</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_MODERATION'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_MODERATION'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_MODERATION_DELAY</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Number of days after which new comments are subject to moderation</title><content type='text'>14</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_MODERATION_DELAY'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_MODERATION_DELAY'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_MODERATION_EMAIL</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Email address to send notifications of new comments needing moderation to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_MODERATION_EMAIL'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_MODERATION_EMAIL'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENT_PROFILE_IMAGES</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show profile images in comments</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_PROFILE_IMAGES'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENT_PROFILE_IMAGES'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENTS_ALLOWED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show comments</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENTS_ALLOWED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENTS_ALLOWED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_COMMENTS_TIME_STAMP_FORMAT</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Comment time stamp format number</title><content type='text'>29</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENTS_TIME_STAMP_FORMAT'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_COMMENTS_TIME_STAMP_FORMAT'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_CONVERT_LINE_BREAKS</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to convert line breaks into &lt;br /&gt; tags in post editor</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_CONVERT_LINE_BREAKS'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_CONVERT_LINE_BREAKS'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_CUSTOM_PAGE_NOT_FOUND</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The content served when the requested post or page is not found.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_CUSTOM_PAGE_NOT_FOUND'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_CUSTOM_PAGE_NOT_FOUND'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_CUSTOM_ROBOTS_TXT</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The custom robots.txt content of the blog served to search engines.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_CUSTOM_ROBOTS_TXT'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_CUSTOM_ROBOTS_TXT'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_CUSTOM_ROBOTS_TXT_ENABLED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog serves custom robots.txt content to search engines.</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_CUSTOM_ROBOTS_TXT_ENABLED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_CUSTOM_ROBOTS_TXT_ENABLED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_DATE_FORMAT</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the date header format</title><content type='text'>26</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_DATE_FORMAT'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_DATE_FORMAT'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_DEFAULT_BACKLINKS_MODE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Default backlinks mode for posts</title><content type='text'>DEFAULT_HAVE_BACKLINKS</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_DEFAULT_BACKLINKS_MODE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_DEFAULT_BACKLINKS_MODE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_DEFAULT_COMMENTS_MODE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Default comment mode for posts</title><content type='text'>DEFAULT_HAVE_COMMENTS</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_DEFAULT_COMMENTS_MODE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_DEFAULT_COMMENTS_MODE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_DESCRIPTION</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>A description of the blog</title><content type='text'>Facts, hacks and attacks from my life as a web application developer</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_DESCRIPTION'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_DESCRIPTION'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_EMAIL_POST_LINKS</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show a link for users to e-mail posts</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_EMAIL_POST_LINKS'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_EMAIL_POST_LINKS'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_FEED_REDIRECT_URL</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>URL to redirect post feed requests to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_FEED_REDIRECT_URL'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_FEED_REDIRECT_URL'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_FLOAT_ALIGNMENT</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether float alignment is enabled for the blog</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_FLOAT_ALIGNMENT'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_FLOAT_ALIGNMENT'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_LOCALE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Language for this blog</title><content type='text'>en</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_LOCALE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_LOCALE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_MAX_NUM</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Maximum number of things to show on the main page"</title><content type='text'>5</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_MAX_NUM'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_MAX_NUM'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_MAX_UNIT</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Unit of things to show on the main page</title><content type='text'>POSTS</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_MAX_UNIT'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_MAX_UNIT'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_META_DESCRIPTION</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The meta description of the blog served to search engines.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_META_DESCRIPTION'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_META_DESCRIPTION'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_META_DESCRIPTION_ENABLED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog is served with meta descriptions.</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_META_DESCRIPTION_ENABLED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_META_DESCRIPTION_ENABLED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_NAME</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The name of the blog</title><content type='text'>Chase Seibert | Blog</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_NAME'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_NAME'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_PER_POST_FEED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for per-post comments</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_PER_POST_FEED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_PER_POST_FEED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_POST_FEED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for blog posts</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_POST_FEED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_POST_FEED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_POST_FEED_FOOTER</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Footer to append to the end of each entry in the post feed</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_POST_FEED_FOOTER'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_POST_FEED_FOOTER'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_POST_TEMPLATE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The template for blog posts</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_POST_TEMPLATE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_POST_TEMPLATE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_PROMOTED</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog can be promoted on Blogger</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_PROMOTED'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_PROMOTED'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_QUICK_EDITING</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether Quick Editing is enabled</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_QUICK_EDITING'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_QUICK_EDITING'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_READ_ACCESS_MODE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The access type for the readers of the blog.</title><content type='text'>PUBLIC</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_READ_ACCESS_MODE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_READ_ACCESS_MODE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_READER_PERMISSION</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of emails for users who have permission to read the blog.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_READER_PERMISSION'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_READER_PERMISSION'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_SEARCHABLE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog should be indexed by search engines</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SEARCHABLE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SEARCHABLE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_SEND_EMAIL</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Comma separated list of emails to send new blog posts to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SEND_EMAIL'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SEND_EMAIL'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_SHOW_TITLE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show the title field</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SHOW_TITLE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SHOW_TITLE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_SHOW_URL</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show a related link box in the post composer</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SHOW_URL'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SHOW_URL'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_SUBDOMAIN</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The BlogSpot subdomain under which to publish your blog</title><content type='text'>bitkickers</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SUBDOMAIN'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_SUBDOMAIN'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_TIME_STAMP_FORMAT</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the time stamp format</title><content type='text'>27</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_TIME_STAMP_FORMAT'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_TIME_STAMP_FORMAT'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_TIME_ZONE</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The time zone for this blog</title><content type='text'>America/New_York</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_TIME_ZONE'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_TIME_ZONE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.settings.BLOG_USE_LIGHTBOX</id><published>2008-07-27T16:28:03.209-04:00</published><updated>2012-09-07T13:52:30.656-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show images in the Lightbox when clicked</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_USE_LIGHTBOX'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/settings/BLOG_USE_LIGHTBOX'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4405626462067920251</id><published>2012-09-07T13:52:00.002-04:00</published><updated>2012-09-07T13:52:30.666-04:00</updated><app:control xmlns:app='http://purl.org/atom/app#'><app:draft>yes</app:draft></app:control><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>What to spend your last two weeks at a job doing</title><content type='html'>stop coding
documentation

Bookmarks
BullhornStaffing Integration
Contact Information
Creating a new Slice
Credit card processing with Recurly
CSS JavaScript Minification (scripts.py)
Database High Availability
Database Migrations
Deploying
Development test pages
Django debug toolbar
Email on Development
Haystack + SOLR (search)
HTML Sanitization (Beautiful Soup)
Incident Reports
Localization &amp; Internationalization
Mocking Production from local development
OAuth: Facebook, LinkedIn and Twitter
Production Maintenance
Production Network Diagram
Production Stack High Level Overview
Referral Statistics, View Count Statistics and Shortlinks
Remote Postgres Access for Reporting
REST APIs
Scheduled Tasks
Schema Notes
Settings Switching from prod qa dev
Setup Development Postgres
SSL
White Label Career Portal Styling</content><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/09/what-to-spend-your-last-two-weeks-at.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4405626462067920251'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4405626462067920251'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5016997692109400197</id><published>2012-08-31T13:11:00.000-04:00</published><updated>2012-08-31T13:11:06.352-04:00</updated><app:control xmlns:app='http://purl.org/atom/app#'><app:draft>yes</app:draft></app:control><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>How to prepare for a software engineer interview</title><content type='html'>use the whiteboard, not a laptop
   but if you have code you wrote similar, offer to show that
get the other person talking, too
   lots of questions


Interview answers:
5 years/10 years
    lead programmer, small team/dev manager, small team
5 annoying things about Python/Django
    SOAP, GIL, circular imports, Python3, unicode
    Form templates, SOUTH, Template limits, slow unit tests, no ACL
Strength/weakness
    debugging, not getting blocked, working end-to-end ASAP
    low patience for people not getting work done, blockers, BS
Tell me about yourself
    Generalist, used to working on small teams and getting stuff shipped.
    Good presenting/public speaking
    Care about elegance of a solution, unit tests, unobstrusive js
Why are you looking?
    Started when the company was 12 people, sold for 140M
    We want to move west to be closer to family
How do you work in a team?
    Well, because I can fill any gaps
    Used to being a facilitator; scrummaster
Tell me about a good idea you had that was implemented
    jlan, credit card self-signup (hackathon)
Bad idea, in retrospect?
    Drupal, sending email w/o verification, handing off prod monotoring
Irritated by coworkers
    Dependecy on someone outside the team, w/ other priorities
Anyone you can't work with?
Last technical book you read?
    Learning the vi and vim editors (O'Reilly)
    Measuring and Managing Performance in Organizations
    Rocket Surgery Made Easy
Favorite book?
    ??? look at work books
Blogs/Websites you follow?
    Stackoverflow
    Smashing Magazine
    Twitter
Favorite CSS3 features
Favorite HTML5 features
Favortie Python3 features

Issues with previous bosses
    No, my boss routinely tells me I'm the best employee he has
Why should we hire you/What makes you a great employee?
    Extermely productive, fiercly loyal to my team, good for company culture (basketball/food)


=== interview questions ===
remove runs of same letter over count == max, "aaab" -&gt; "aab"
find line with most vowels, read/write locking on streams in Java
new relic/GA esque samples over different time intervals
Document match (tokenize + frequency)
DAG - boarding passes
cross product for lists of lists
cell phone "223" -&gt; all possible words, trie
implement a link shortener
</content><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/08/how-to-prepare-for-software-engineer.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5016997692109400197'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5016997692109400197'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6813179296503683686</id><published>2012-07-27T14:26:00.000-04:00</published><updated>2012-07-27T14:26:34.959-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='unit tests'/><category scheme='http://www.blogger.com/atom/ns#' term='mock'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Faster Django view unit tests with mocks</title><content type='html'>&lt;p&gt;
Unit tests need to be fast. Really fast. Some have suggested that &lt;a href="http://blog.matthewriley.name/2011/04/assert-that-unit-tests-are-fast.html"&gt;speed is the defining characteristic&lt;/a&gt; of a unit test. But writing fast unit tests for Django views is &lt;a href="http://carljm.github.com/django-testing-slides/#32"&gt;hard&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
The key to fast unit tests is isolation. You don't want to be hitting the database, making requests over the network, etc. You also want to minimize the amount of code that's running for each test. Ideally, you just want to run your code. But the default facility to testing views, the &lt;a href="https://docs.djangoproject.com/en/dev/topics/testing/?from=olddocs#module-django.test.client"&gt;Django test client&lt;/a&gt;, is not isolated at all.
&lt;/p&gt;

&lt;p&gt;
The test client is actually running a fully-featured Django server instance. Your requests go through the URL router, execute middleware, talk to the database and render HTML. It's slow, and it's more like an integration test. You certainly want to have something like that too, though I'm not convinced that the Django test client does a better job of it than Selenium.
&lt;/p&gt;

&lt;p&gt;
So how do you write fast unit test for views? The first step is to isolate as much as you can. If you're like me, you probably don't want to hack up all your views to account to dependency injection. Luckily, in a dynamic language like Python, it's almost too easy to just mock all a view's dependencies on the fly.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.contrib.auth.decorators import login_required
from django.http import HttpResponseRedirect
from django.core.urlresolvers import reverse
from django.shortcuts import get_object_or_404
from django.contrib.auth.models import User
from django.shortcuts import render_to_response
from django.contrib import messages
from django.template.context import RequestContext


@login_required
def view_user(request, user_id):

    user = get_object_or_404(User, id=user_id)

    if request.user.is_authenticated() and request.user == user:
        messages.error(request, 'View your OWN record!')
        return HttpResponseRedirect(reverse('user_self'))

    return render_to_response('users/view.html',
        RequestContext(request, locals()))
&lt;/pre&gt;

&lt;p&gt;
Even for a simple view like this, how can we mock out the request, the database, the messages sub-system and the redirects? 
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import unittest
import factory
from mock import patch

from django.http import HttpRequest
from django.contrib.auth.models import User
from django.http import Http404

from website.views.blog import view_user


def setup(self):
    ''' using django-nose to only run ONCE, not once per test
    using globals for easy reference in the tests'''

    global request, user_being_viewed
    request = FakeRequestFactory()
    user_being_viewed = UserFactory()

    def render_to_response_echo(*args, **kwargs):
        ''' mocked render_to_response that just returns what was passed in,
        also puts the template name into the results dict '''
        context = args[1]
        locals = context.dicts[0]
        locals.update(dict(template_name=args[0]))
        return locals

    patch('website.views.blog.render_to_response',
        render_to_response_echo).start()


class ViewUserTestCase(unittest.TestCase):

    def test_404(self):
        with self.assertRaises(Http404):
            view_user(request, 1234)

    def test_user_found(self):
        self.assertEquals(user_being_viewed,
            view_user(request, user_being_viewed.id).get('user'))

    def test_authenticated_and_self(self):
        view_user(request, request.user.id)
        self.assertEquals('View your OWN record!',
            request._messages.pop)

    def test_authenticated_and_self_redirect(self):
        self.assertEquals('/home',
            view_user(request, request.user.id)['Location'])

    def test_user_found_template(self):
        self.assertEquals('users/view.html',
            view_user(request, user_being_viewed.id).get('template_name'))


class FakeMessages:
    ''' mocks the Django message framework, makes it easier to get
    the messages out '''

    messages = []

    def add(self, level, message, extra_tags):
        self.messages.append(str(message))

    @property
    def pop(self):
        return self.messages.pop()


def FakeRequestFactory(*args, **kwargs):
    ''' FakeRequestFactory, FakeMessages and FakeRequestContext are good for
    mocking out django views; they are MUCH faster than the Django test client.
    '''

    user = UserFactory()
    if kwargs.get('authenticated'):
        user.is_authenticated = lambda: True

    request = HttpRequest()
    request.user = user
    request._messages = FakeMessages()
    request.session = kwargs.get('session', {})
    if kwargs.get('POST'):
        request.method = 'POST'
        request.POST = kwargs.get('POST')
    else:
        request.method = 'GET'
        request.POST = kwargs.get('GET', {})

    return request


class UserFactory(factory.Factory):
    ''' using the excellent factory_boy library '''
    FACTORY_FOR = User
    username = factory.Sequence(lambda i: 'blogtest' + i)
    first_name = 'John'
    last_name = 'Doe'
    email = factory.Sequence(lambda i: 'blogtest%s@example.com' % i)

&lt;/pre&gt;

&lt;p&gt;
Notice that I am touching the database here. In my opinion, mocking out the database layer is silly; we already have an abstraction for that, it's called the ORM. Instead, you can get all the speed you need by using an in memory sqlite3 database for your unit tests. Just stick the following in your settings.py.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
if 'test' in sys.argv:
    DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.sqlite3',
            'NAME': ':memory',
        },
    }
&lt;/pre&gt;

&lt;p&gt;
Also notice that I'm using &lt;a href="https://github.com/jbalogh/django-nose"&gt;Django nose&lt;/a&gt;. One of the best features of Nose is that it allows you to run the setup code as infrequently as you want. If you must, you can run it for every test. But it also let's you run it just once for a class or a package for speed. Any tweaks to need per-test can done with mocks and patches.
&lt;/p&gt;

&lt;p&gt;
Running these five tests is pretty quick. It shouldn't get much slower as you go along, especially if you continue to re-use what few database record you do create.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
$ ./manage.py test tests.test_blog
nosetests --verbosity 1 tests.test_blog --config=nose.cfg
Creating test database for alias 'default'...
.....
----------------------------------------------------------------------
Ran 5 tests in 0.356s

OK
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6813179296503683686/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/07/faster-django-view-unit-tests-with-mocks.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6813179296503683686'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6813179296503683686'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/07/faster-django-view-unit-tests-with-mocks.html' title='Faster Django view unit tests with mocks'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4793918831043056198</id><published>2012-07-19T14:54:00.000-04:00</published><updated>2012-07-20T23:37:27.644-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><category scheme='http://www.blogger.com/atom/ns#' term='postfix'/><title type='text'>postfix: only enable sasl for some relays</title><content type='html'>&lt;p&gt;
Some mail hosts, like &lt;a href="http://sendgrid.com/"&gt;SendGrid&lt;/a&gt;, require you to use &lt;a href="http://asg.web.cmu.edu/sasl/"&gt;SASL&lt;/a&gt; authentication to relay mail through their systems. Many of those same hosts only want you to send mail for verified, double-opt-in squeaky clean recipients. But what if you have a subset of recipients that are not verified, and you want to continue sending mail to those yourself? 
&lt;/p&gt;

&lt;p&gt;
Seven (!) years ago, I covered &lt;a href="http://bitkickers.blogspot.com/2005/10/postifx-header-based-routing.html"&gt;basic content based routing&lt;/a&gt; in Postfix. You can use that same mechanism to route mail based on a custom header that you've inserted into your mail that designates a particular message as verified.
&lt;/p&gt;

&lt;p&gt;
For example, from Python you might do the following in your application server code.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.core.mail get_connection
from django.core.mail EmailMessage

def send_message(to_user, from_addr, subject, body):
    connection = get_connection()
    headers = {"X-Recipient-Verified": to_user.is_verified}
    message = EmailMessage(
        subject, body, from_addr, [to_user.email], 
        connection=connection, headers=headers)
    message.send()
&lt;/pre&gt;

&lt;p&gt;
To configure Postfix, you just need to add a header_checks file. This particular class of emails will get routed through SendGrid.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# /etc/postfix/header_checks
/^X-Recipient-Verified: True$/ FILTER smtp:[smtp.sendgrid.net]:587
&lt;/pre&gt;

&lt;p&gt;
In your Postfix main.cf config file, you need to point to the header_checks file, and provide the boilerplate SendGrid SASL config.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# /etc/postfix/main.cf

header_checks = regexp:/etc/postfix/header_checks

smtp_sasl_auth_enable = yes
smtp_sasl_password_maps = hash:/etc/postfix/smtp_sasl_password_maps
smtp_sasl_security_options = noanonymous
smtp_tls_security_level = may
header_size_limit = 4096000
&lt;/pre&gt;

&lt;p&gt;
Where this config differs from the &lt;a href="http://docs.sendgrid.com/documentation/get-started/integrate/examples/postfix/"&gt;SendGrid documentation&lt;/a&gt; is the smtp_sasl_password_maps setting. They suggest you get started by using the static mapping. This works fine as long as you're ONLY sending through SendGrid. But in our case, we need to enable SASL conditionally. 
&lt;/p&gt;

&lt;p&gt;
To do this, we need another external file, smtp_sasl_password_maps. The key here is that if there is no hostname match in the SASL password map, then it proceeded &lt;a href="http://www.postfix.org/postconf.5.html#smtp_sasl_password_maps"&gt;without authentication&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# /etc/postfix/smtp_sasl_password_maps
[smtp.sendgrid.net]:587 yourSendgridUsername:yourSendgridPassword
&lt;/pre&gt;

&lt;p&gt;
Then, you need to compile the text file smtp_sasl_password_maps into a binary smtp_sasl_password_maps.db, and restart postfix.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
postmap /etc/postfix/smtp_sasl_password_maps
service postfix restart
&lt;/pre&gt;

&lt;p&gt;
If you &lt;a href="http://serverfault.com/questions/347842/postfix-sasl-auth-only-for-fallback-relay/409335#409335"&gt;fail to disable SASL&lt;/a&gt; for non-SendGrid relays, you will likely find that while mail to large hosts like gmail is fine, mail to smaller hosts that do not support SASL will fail:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
deferred (SASL authentication failed: server mail.example.com[1.2.3.4] offered no compatible authentication mechanisms for this type of connection security)
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4793918831043056198/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/07/postfix-only-enable-sasl-for-some-relays.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4793918831043056198'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4793918831043056198'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/07/postfix-only-enable-sasl-for-some-relays.html' title='postfix: only enable sasl for some relays'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7021104320187959076</id><published>2012-07-13T13:58:00.001-04:00</published><updated>2012-07-13T14:09:39.455-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='vim'/><title type='text'>pydev colorscheme for gvim</title><content type='html'>&lt;p&gt;
I'm trying to make the switch from Eclipse to vim. I've started compiling a &lt;a href="https://github.com/chase-seibert/chase-vimrc"&gt;vimrc github project&lt;/a&gt;. So far, the only customization I had to implement myself was making the color scheme look like PyDev. 
&lt;/p&gt;

&lt;p&gt;
Just stick &lt;a href="https://raw.github.com/chase-seibert/chase-vimrc/master/bundle/extra-colors/colors/pydev.vim"&gt;pydev.vim&lt;/a&gt; in your colors directory.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
set background=light
highlight clear
if exists("syntax_on")
    syntax reset
endif

" Syntax group
highlight Comment    gui=none guifg=#C0C0C0 guibg=bg      ctermfg=2
highlight Constant   gui=none guifg=#00884c guibg=bg      ctermfg=White
highlight Error      gui=none guifg=#f8f8f8 guibg=#4040ff term=reverse        ctermbg=Red    ctermfg=White
highlight Identifier gui=bold guifg=#000000 guibg=bg      ctermfg=Green
highlight Ignore     gui=none guifg=bg      guibg=bg      ctermfg=black
highlight PreProc    gui=none guifg=#0000FF guibg=bg      ctermfg=Green
highlight Special    gui=none guifg=#00AA00 guibg=bg      ctermfg=DarkMagenta
highlight Statement  gui=none guifg=#0000FF guibg=bg      ctermfg=White
highlight Todo       gui=none guifg=#ff5050 guibg=white   term=standout       ctermbg=Yellow ctermfg=Black
highlight Type       gui=none guifg=#000000 guibg=bg      ctermfg=LightGreen
highlight Underlined gui=none guifg=blue    guibg=bg
highlight String     gui=none guifg=#00AA00 guibg=bg      ctermfg=Yellow
highlight Number     gui=none guifg=#800000 guibg=bg      ctermfg=White

if !has("gui_running")
    hi link Float          Number
    hi link Conditional    Repeat
    hi link Include        PreProc
    hi link Macro          PreProc
    hi link PreCondit      PreProc
    hi link StorageClass   Type
    hi link Structure      Type
    hi link Typedef        Type
    hi link Tag            Special
    hi link Delimiter      Normal
    hi link SpecialComment Special
    hi link Debug          Special
endif
&lt;/pre&gt;

&lt;p&gt;
Eclipse:
&lt;/p&gt;

&lt;img src="https://lh5.googleusercontent.com/-CvWpcCDc9RI/UABhgs0mSEI/AAAAAAAALvI/E1Y8_eJGay0/s938/2012071317.png"&gt;

&lt;p&gt;
gvim:
&lt;/p&gt;

&lt;img src="https://lh5.googleusercontent.com/-k1xgG6QMc8k/UABhgkNyI0I/AAAAAAAALvI/BzYRSbZJKJ0/s1012/2012071347.png"&gt;

&lt;p&gt;
See how those None values are bolded? You can fix that, plus a few other syntax quirky, with a &lt;a href="http://www.vim.org/scripts/script.php?script_id=790"&gt;customized python syntax file&lt;/a&gt;.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/7021104320187959076/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/07/pydev-colorscheme-for-gvim.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7021104320187959076'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7021104320187959076'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/07/pydev-colorscheme-for-gvim.html' title='pydev colorscheme for gvim'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh5.googleusercontent.com/-CvWpcCDc9RI/UABhgs0mSEI/AAAAAAAALvI/E1Y8_eJGay0/s72-c/2012071317.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-216029815285494839</id><published>2012-06-29T13:43:00.001-04:00</published><updated>2012-06-29T13:43:50.180-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django: persist some session state across login/logout boundaries</title><content type='html'>&lt;p&gt;
By definition session state is tied to the session. When you log out, you obviously don't want the server remembering who you are. Likewise, session state is typically lost when an formerly anonymous user logs in. But very occasionally, there might be some pieces of information you're storing against the session that you DO want to persist even when the user logs in or out.
&lt;/p&gt;

&lt;p&gt;
For example, say you're keeping track of where a user is coming from when they come to your site. So you put &lt;a href="https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpRequest.META"&gt;request.META.HTTP_REFERER&lt;/a&gt; into request.session['HTTP_REFERER']. Maybe you're going to use this information after they create an account, if they ever do.
&lt;/p&gt;

&lt;p&gt;
If you find yourself in such a situation, here is a decorator that you can throw onto the view(s) where the user is being logged in/out to preserve a subset of the session variables.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from functools import wraps


class persist_session_vars(object):
    """ Some views, such as login and logout, will reset all session state.
    However, we occasionally want to persist some of those session variables.
    """

    session_backup = {}

    def __init__(self, vars):
        self.vars = vars

    def __enter__(self):
        for var in self.vars:
            self.session_backup[var] = self.request.session.get(var)

    def __exit__(self, exc_type, exc_value, traceback):
        for var in self.vars:
            self.request.session[var] = self.session_backup.get(var)

    def __call__(self, test_func, *args, **kwargs):

        @wraps(test_func)
        def inner(*args, **kwargs):
            if not args:
                raise Exception('Must decorate a view, ie a function taking request as the first parameter')
            self.request = args[0]
            with self:
                return test_func(*args, **kwargs)

        return inner
&lt;/pre&gt;

&lt;p&gt;
This class is both a &lt;a href="http://www.python.org/dev/peps/pep-0318/"&gt;decorator&lt;/a&gt; and a &lt;a href="http://docs.python.org/release/2.5.2/lib/typecontextmanager.html"&gt;context manager&lt;/a&gt;. In fact, it's more like a decorator that manages the context of the function that it's decorating.
&lt;/p&gt;

&lt;p&gt;
If you're calling &lt;a href="https://docs.djangoproject.com/en/dev/topics/auth/#django.contrib.auth.views.login"&gt;auth.login&lt;/a&gt; or &lt;a href="https://docs.djangoproject.com/en/dev/topics/auth/#django.contrib.auth.views.logout"&gt;auth.logout&lt;/a&gt; yourself, you would put the decorator on the view where that happens. If you're delegating to the built-in view for those, you can easily wrap them.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.contrib.auth import views


@persist_session_vars(['HTTP_REFERER'])
def login(request, *args, **kwargs):
    """ we want to persist SOME session variables, even after logout """
    return views.login(request, *args, **kwargs)
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/216029815285494839/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/06/django-persist-some-session-state.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/216029815285494839'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/216029815285494839'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/06/django-persist-some-session-state.html' title='Django: persist some session state across login/logout boundaries'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8722393790958018516</id><published>2012-06-15T13:56:00.000-04:00</published><updated>2012-06-15T21:32:13.394-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django: ditch objects.using() in favor of a per-view decorator to switch databases</title><content type='html'>&lt;p&gt;
Django has a "multiple databases" feature that lets you read/write data from more than just the default database. I'm going to show you how to switch databases on a per-view level, rather than per-query with &lt;a href="https://docs.djangoproject.com/en/dev/topics/db/multi-db/#manually-selecting-a-database"&gt;objects.using()&lt;/a&gt;, or per-server by changing &lt;a href='https://docs.djangoproject.com/en/dev/ref/settings/#database-routers'&gt;DATABASE_ROUTERS&lt;/a&gt;. 
&lt;/p&gt;

&lt;p&gt;
First, some background. Let's look at how regular database routing works. It all starts with DATABASES in settings.py.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'NAME': 'myapp',
        'USER': 'postgres',
        'PASSWORD': 'password',
    },
    'standby': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'NAME': 'myapp',
        'USER': 'postgres',
        'PASSWORD': 'password',
    }
}
&lt;/pre&gt;

&lt;p&gt;
Then, you configure a &lt;a href="https://docs.djangoproject.com/en/dev/topics/db/multi-db/#an-example"&gt;database router&lt;/a&gt;. Here is an example that reads from one database and writes to another. Maybe standby is a read-replica of default.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class StandbyRouter(object):
    """A router to control all database operations on models in
    the website application"""

    def db_for_read(self, model, **hints):
        return "standby"

    def db_for_write(self, model, **hints):
        return "default"

    def allow_relation(self, obj1, obj2, **hints):
        return True

    def allow_syncdb(self, db, model):
        return None
&lt;/pre&gt;

&lt;p&gt;
That's fine if you want ALL reads to go to the standby, but what if you only want to do this for some queries? In my situation, I wanted to off load long running queries specifically for reporting. Here is the standard syntax for querying from another server, assuming your router db_for_read() returns "default".
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class UserProfile(models.Model):

    user = models.OneToOneField(User, editable=False, unique=True)

    @property
    def timecards(self):
        return Timecard.objects.filter(user=self.user, status='open')

def get_report_data(request):
    num_invoices = Invoices.objects.using("standby").filter(user=request.user).count()
    num_timecards = request.user.profile.timecards.count()
&lt;/pre&gt;

&lt;p&gt;
Maybe you see the problem here already. The using method is fine as long as you're making the queries yourself at the top level inside get_report_data(). But what about the timecards model property? It will use the default database. Sure, I could repeat myself all over the place passing around a parameter for the current database, and having a using clause on every single query, but that sounds messy.
&lt;/p&gt;

&lt;p&gt;
Ideally, I want to set the database for an entire view at a time. Here's one way to do it. First, I declare a new router that dynamically chooses a database based on a setting.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class SettingsRouter(object):
    """A router to control all database operations on models in
    the website application. Can be over-ridden on demand with a
    decorator on a view or a particular function:

    @thread_local(DB_OVERRIDE='report')
    def social_network_reach(request):

    This is more DRY than having a .using() on every query. It also
    means you don't have to pass a using parameter all over the place.

    """

    def db_for_read(self, model, **hints):
        return get_thread_local('DB_FOR_READ_OVERRIDE', 'default')

    def db_for_write(self, model, **hints):
        return "default"

    def allow_relation(self, obj1, obj2, **hints):
        return True

    def allow_syncdb(self, db, model):
        return None
&lt;/pre&gt;

&lt;p&gt;
To pass the DB_FOR_READ_OVERRIDE variable down the stack with out manually passing it via method arguments, I'm setting a &lt;a href="http://docs.python.org/library/threading.html#threading.local"&gt;thread local variable&lt;/a&gt;. This means that in a production setting, the variable will only be set in the context of the currently running request. Here is the decorator that does just that.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import threading
from functools import wraps


threadlocal = threading.local()


class thread_local(object):
    """ a decorator that wraps a function in a thread local definition block
    useful for passing variables down the stack w/o actually passing them
    examples: what database to read from, whether to cache queries, etc
    adapted from django.test.utils.override_settings

    Usage:

    @thread_local(SITE_NAME_SHORT='foobar')
    def override(request):
        ...

    """

    def __init__(self, **kwargs):
        self.options = kwargs

    def __enter__(self):
        for attr, value in self.options.items():
            print attr, value
            setattr(threadlocal, attr, value)

    def __exit__(self, exc_type, exc_value, traceback):
        for attr in self.options.keys():
            setattr(threadlocal, attr, None)

    def __call__(self, test_func):

        @wraps(test_func)
        def inner(*args, **kwargs):
            # the thread_local class is also a context manager
            # which means it will call __enter__ and __exit__
            with self:
                return test_func(*args, **kwargs)

        return inner


def get_thread_local(attr, default=None):
    """ use this method from lower in the stack to get the value """
    return getattr(threadlocal, attr, default)
&lt;/pre&gt;

&lt;p&gt;
Finally, here is the what it looks like to use the new thread local variable to scope all of the inner queries to the standby database.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
@thread_local(DB_FOR_READ_OVERRIDE='standby')
def get_report_data(request):
    num_invoices = Invoices.objects.filter(user=request.user).count()
    num_timecards = request.user.profile.timecards.count()
&lt;/pre&gt;

&lt;p&gt;
&lt;i&gt;
Edit: I originally implemented this with @override_settings, before realizing that it would not work in a threaded production environment.
&lt;/i&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8722393790958018516/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/06/django-ditch-objectsusing-in-favor-of.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8722393790958018516'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8722393790958018516'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/06/django-ditch-objectsusing-in-favor-of.html' title='Django: ditch objects.using() in favor of a per-view decorator to switch databases'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2634025213159599396</id><published>2012-06-05T16:44:00.000-04:00</published><updated>2012-06-05T16:44:18.100-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='sqlite'/><category scheme='http://www.blogger.com/atom/ns#' term='nose'/><title type='text'>Django Nose/sqlite3 "too many SQL variables" error</title><content type='html'>&lt;p&gt;
Trying to get started with Django nose today on an existing project, I kept getting the following error trying to run my empty test suite:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
&gt;./manage.py test --stop
Creating test database for alias 'default'...
...
django.db.utils.DatabaseError: too many SQL variables
&lt;/pre&gt;

&lt;p&gt;
I noticed right away that this was only happening with sqlite3 as by database. When I switched to Postgres, everything worked. Wanting my unit tests to be as fast as possible, I still wanted to use sqlite3's in memory database. I had the following in my settings.py:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
if 'test' in sys.argv:
    DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.sqlite3',
            'NAME': ':memory',
        },
    }
&lt;/pre&gt;

&lt;p&gt;
Searching around, I didn't find anyone else with this issue. I started doing a binary search on my models to find out if one of them was the culprit, but including more than 15 or so in any combination was enough to cause the issue. Eventually I set a break point in the nose code, and walked back up the stack to Django's create_permissions manage command, which in turn called &lt;a href="https://docs.djangoproject.com/en/dev/ref/models/querysets/#bulk-create"&gt;bulk_create()&lt;/a&gt;. Basically, Django inserts a handful of permission records for each model you define, and in this case bulk_create was trying to pass more than 999 arguments into a SQL query, which &lt;a href="http://sqlite.org/c3ref/c_limit_attached.html#sqlitelimitvariablenumber"&gt;SQLite doesn't allow&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Finally, I found open &lt;a href="https://code.djangoproject.com/ticket/17788"&gt;Django ticket 17788&lt;/a&gt;. It turns out this has already been fixed, albeit not in Django 1.4.0 final. Reading that patch, I was able to come up with a couple of lines of code you can put in tests.py to work-around the issue:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
# Needed to create Django permission records w/o triggering a
# "too many SQL variables" error, see: https://code.djangoproject.com/ticket/17788
from django.db.backends import sqlite3
sqlite3.base.DatabaseFeatures.can_combine_inserts_with_and_without_auto_increment_pk = False
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2634025213159599396/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/06/django-nosesqlite3-too-many-sql.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2634025213159599396'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2634025213159599396'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/06/django-nosesqlite3-too-many-sql.html' title='Django Nose/sqlite3 &quot;too many SQL variables&quot; error'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-552047746873086829</id><published>2012-06-01T10:07:00.000-04:00</published><updated>2012-06-01T10:07:54.434-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='postgres'/><title type='text'>Django/Postgres: Optimize COUNT(*) by replacing with an estimate</title><content type='html'>&lt;p&gt;
Every week I take a look at a report generated by the excellent &lt;a href="http://pgfouine.projects.postgresql.org/"&gt;pgFouine&lt;/a&gt; tool for our production Postgres database. This week, there was a surprising query on the top of the slow runners list:
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
SELECT COUNT(*) FROM website_job;
&lt;/pre&gt;

&lt;p&gt;
This query was taking an average of 3 seconds! Granted, this is a table with 500,000 rows in it, but still. Naively, you might expect that Postgres could answer this directly out of some kind of meta data about the table. However, slow count operations are a &lt;a href="http://wiki.postgresql.org/wiki/Slow_Counting"&gt;well known issue&lt;/a&gt;.
&lt;/p&gt;

&lt;blockquote&gt;PostgreSQL must walk through all rows, in some sense. This normally results in a sequential scan reading information about every row in the table.&lt;/blockquote&gt;

&lt;p&gt;
It turns out that Postgres can quickly count result sets that use an index, such as:
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
-- assuming is_open is indexed
SELECT COUNT(*) FROM website_job WHERE is_open=1;
&lt;/pre&gt;

&lt;p&gt;
But what about the vanilla case? The documentation suggests that you keep track of the count of records yourself, either with triggers or in your application code. However, they also throw out some SQL that can be used to &lt;i&gt;estimate&lt;/i&gt; the number of records in a table. For many purposes, that may be sufficient. Here is a Django helper method that does just that:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.db import connection

def estimate_count_fast(type):
    ''' postgres really sucks at full table counts, this is a faster version
    see: http://wiki.postgresql.org/wiki/Slow_Counting '''
    cursor = connection.cursor()
    cursor.execute("select reltuples from pg_class where relname='website_%s';" % type)
    row = cursor.fetchone()
    return int(row[0])

&gt;estimate_count_fast('job')
512387
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/552047746873086829/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/06/djangopostgres-optimize-count-by.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/552047746873086829'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/552047746873086829'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/06/djangopostgres-optimize-count-by.html' title='Django/Postgres: Optimize COUNT(*) by replacing with an estimate'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3765262200338115177</id><published>2012-05-24T16:37:00.000-04:00</published><updated>2012-05-24T16:37:02.555-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='gunicorn'/><category scheme='http://www.blogger.com/atom/ns#' term='newrelic'/><title type='text'>Django/NewRelic Quickstart (gunicorn.d + Django 1.3 hack)</title><content type='html'>&lt;p&gt;
New Relic is an excellent web application performance reporting tool. After a great experience using it on Heroku, I went to enable it for an existing self-hosted application. While Django 1.4 has an &lt;a href="https://docs.djangoproject.com/en/dev/releases/1.4/#improved-wsgi-support"&gt;excellent WSGI&lt;/a&gt; configuration build-in, Django 1.3 makes it a little trickier. To complicate matters even more, I was using debian's gunicorn package, which not not make changing the Django executable easy.
&lt;/p&gt;

&lt;p&gt;
New Relic has &lt;a href="https://newrelic.com/docs/python/new-relic-for-python"&gt;excellent documentation&lt;/a&gt; for downloading, installing and configuring their tools. Here are my crib notes:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
pip install newrelic django-newrelic-extensions
# sign up on newrelic.com, get $LICENSE_KEY under "Account Settings"
mkdir /etc/newrelic
newrelic-admin generate-config $LICENSE_KEY /etc/newrelic/newrelic.ini
newrelic-admin validate-config /etc/newrelic/newrelic.ini
&lt;/pre&gt;

&lt;p&gt;
You should now be able to log in to new relic and see an application called "Python Agent Test". This means that the test worked; new relic can communicate with the hosted servers. You can run gunicorn manually from the command line with new relic as follows:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
cd /opt/my-django-project
export NEW_RELIC_CONFIG_FILE=/etc/newrelic/newrelic.ini
newrelic-admin run-program python manage.py run_gunicorn
&lt;/pre&gt;

&lt;p&gt;
Notice that new relic replaces the python executable with its own command, "newrelic-admin run-program". I'm using Ubuntu, which uses the Debian gunicorn package, which stores its configuration in /etc/gunicorn.d/django. Here is my current config file:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
#/etc/gunicorn.d/django
CONFIG = {
    'mode': 'django',
    'working_dir': '/opt/my-django-project',
    'user': 'django',
    'group': 'django',

    # stupid hack to get new relic to load in Django 1.3
    # once we move to 1.4 we should use straight WSGI
    'python': '/opt/my-django-project/conf/newrelic.sh',
    'environment': {
        'NEW_RELIC_CONFIG_FILE': '/etc/newrelic/newrelic.ini',
        },

    'args': (
        '--bind=0.0.0.0:80',
        '--workers=4', 
        '--backlog=0',
        '--worker-class=sync',  # gevent doesn't work smoothly with new relic yet
        '--preload',
    ),
}
&lt;/pre&gt;

&lt;p&gt;
Notice the hack to inject the new relic runner script. I have over-ridden the python executable path to point to a third script, newrelic.sh.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
#!/usr/bin/env bash
/usr/local/bin/newrelic-admin run-program python $*
&lt;/pre&gt;

&lt;p&gt;
This script just takes whatever arguments are passed in ($*), and passes them as arguments to newrelic-admin. That's it, a service gunicorn restart should start data flowing into new relic.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3765262200338115177/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/05/djangonewrelic-quickstart-gunicornd.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3765262200338115177'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3765262200338115177'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/05/djangonewrelic-quickstart-gunicornd.html' title='Django/NewRelic Quickstart (gunicorn.d + Django 1.3 hack)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8788122505264468539</id><published>2012-04-27T13:46:00.000-04:00</published><updated>2012-04-27T13:46:06.820-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='heroku'/><category scheme='http://www.blogger.com/atom/ns#' term='hudson'/><title type='text'>Deploying Django staticfiles to Heroku via Hudson/Jenkins</title><content type='html'>&lt;p&gt;
Starting in Django 1.3, you can use the built-in &lt;a href="https://docs.djangoproject.com/en/dev/ref/contrib/staticfiles/"&gt;staticfiles&lt;/a&gt; feature to bundle up css, javascript, images and other static resources for deployment to a CDN. There are two popular Django apps, &lt;a href="https://github.com/jezdez/django_compressor"&gt;django-compressor&lt;/a&gt; and &lt;a href="https://github.com/cyberdelia/django-pipeline"&gt;django-pipeline&lt;/a&gt; that layer in additional functionality such as minification and seemless support for popular hosts like &lt;a href="http://aws.amazon.com/s3/"&gt;Amazon S3&lt;/a&gt;. 
&lt;/p&gt;

&lt;p&gt;
These "asset managers" both do the same basic things. They give you a mechanism to bundle multiple css and javascript files into one file, optionally minify the contents, and generate unique files names for the bundled versions. The idea behind unique file names is that you can then tell browsers to cache those files forever; any changes you make will use different URLs for the includes. They will also generate unique files names for images, and then go into your css files and replace the image file paths.
&lt;/p&gt;

&lt;p&gt;
Both libraries are a little immature; I ran into numerous issues trying to get deployment to S3 working. First I tried django-compressor paired with &lt;a href="https://github.com/e-loue/django-storages"&gt;django-storages&lt;/a&gt;, which can save directly to S3. Typically django-compressor creates the minified files on the fly, which would work great except that Heroku has an ephemeral file system, meaning that the files would be re-created every time a dyno process restarts. Making matters worse, the built-in S3 boto storage is really slow to sync files up to S3, especially considering most of the files do not change on any given deploy. All in all, I was looking at about 3 minutes of lag every time I wanted to start a dyno. 
&lt;/p&gt;

&lt;p&gt;
I tried using their offline compressor, and I actually got it deploying the files. But I could not get django-compressor to use the correct minified URLs; it persistently tried to reference different filenames before and after the deploy, resulting in 404s. Even though it's the most popular framework, I decided to move on and try django-pipeline. Just as well, I'm not sure I agree with their very first design decision anyway, namely that "JS/CSS belong in the templates".
&lt;/p&gt;

&lt;p&gt;
By comparison, django-pipeline was a breeze to set up. Here is my cheat-sheet:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
pip install django-pipeline
apt-get install yui-compressor
&lt;/pre&gt;

&lt;p&gt;
Edit settings.py:
&lt;/&gt;

&lt;pre name="code" class="python"&gt;
INSTALLED_APPS = (
    ...
    'pipeline',
)

PIPELINE = DEBUG
PIPELINE_YUI_BINARY = '/usr/bin/yui-compressor'
STATICFILES_STORAGE = 'pipeline.storage.PipelineStorage'
STATIC_ROOT = '/tmp/myapp-staticfiles' 
# using a protocol relative URL here so that resources load from http/https accordingly
STATIC_URL = '/static/' if DEBUG else '//s3.amazonaws.com/mys3bucket/'  

# the directories stylesheets and javascript should be inside myapp/static,
# as per the staticfiles convention. I also put an "images" directory there.

PIPELINE_CSS = {
    'base': {
        'source_filenames': (
          'stylesheets/reset.css',
          'stylesheets/base.css',
        ),
        'output_filename': 'stylesheets/base.min.css',
    },
    'mobile': {
        'source_filenames': (
          'stylesheets/reset.css',
          'stylesheets/mobile.css',
        ),
        'output_filename': 'stylesheets/mobile.min.css',
    },
}

PIPELINE_JS = {
    'base': {
        'source_filenames': (
          'javascript/jquery.min.js',
          'javascript/jquery-ui.min.js',
          'javascript/myapp.js',
        ),
        'output_filename': 'javascript/base.min.js',
    },
    'mobile': {
        'source_filenames': (
          'javascript/jquery.min.js',
        ),
        'output_filename': 'javascript/mobile.min.js',
    },
}
&lt;/pre&gt;

&lt;p&gt;
For development, you can serve up the static files from /static with the following lines in your urls.py:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
if settings.DEBUG:
    urlpatterns += patterns('',
        (r'^static/(?P&lt;path&gt;.*)$', 'django.views.static.serve', {'document_root': settings.STATIC_ROOT}),
    )
&lt;/pre&gt;

&lt;p&gt;
In your templates, you reference your css/js differently:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
{% load compressed %}
&amp;lt;html&amp;gt;
    &amp;lt;head&amp;gt;
        {% compressed_css &amp;quot;base&amp;quot; %}
    &amp;lt;/head&amp;gt;
    &amp;lt;body&amp;gt;
        &amp;lt;!-- content here --&amp;gt;
        {% compressed_js &amp;quot;base&amp;quot; %}
    &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
One tricky bit was that with both django-compressor and django-pipeline, I had significant trouble figuring out how to reference images inside my CSS files. I tried various things, with each either only working in my local development environment, or in production. Finally, I tried relative URLs, and it worked. In the past I had always used absolute relative links in the CSS.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
body {
    background: url(../images/bg.png); /* NOT /static/images/bg.png, or images/bg.png */
}
&lt;/pre&gt;

&lt;p&gt;
For deployment, I decided to use Hudson versus trying to get Heroku to do it via hacking Procfile. Here is the deploy script I'm currently using:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
#!/bin/bash

set -e

# used to load different settings.py extension file
export ENVIRONMENT=production  

# using virtualenv to separate build python class paths
source /var/lib/hudson/virtualenv/prod/bin/activate  
pip install -r requirements.txt

# this is the static files bit, collect the files and copy them to s3 using the fast s3cmd utility
python manage.py collectstatic --noinput
s3cmd sync /tmp/myapp-staticfiles/ s3://mys3bucket  # note the trailing slash, critical!

heroku maintenance:on
heroku pgbackups:capture HEROKU_POSTGRESQL_DB --expire
git push -f heroku hudsonmerge:refs/heads/master
heroku run python manage.py migrate --noinput --merge --ignore-ghost-migrations
heroku maintenance:off
&lt;/pre&gt;

&lt;p&gt;
That's it. Currently, my builds take about 90 seconds to deploy, and include zero lag on dyno restarts.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8788122505264468539/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/04/deploying-django-staticfiles-to-heroku.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8788122505264468539'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8788122505264468539'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/04/deploying-django-staticfiles-to-heroku.html' title='Deploying Django staticfiles to Heroku via Hudson/Jenkins'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5199751201247777520</id><published>2012-04-20T15:31:00.001-04:00</published><updated>2012-04-20T15:31:12.562-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django management command to list, filter and exclude models from a fixture</title><content type='html'>&lt;p&gt;
Dumping Django data to a fixture and loading it back up again are accomplished with the built-in management commands &lt;a href="https://docs.djangoproject.com/en/dev/ref/django-admin/?from=olddocs#dumpdata-appname-appname-appname-model"&gt;dumpdata&lt;/a&gt; and &lt;a href="https://docs.djangoproject.com/en/dev/ref/django-admin/?from=olddocs#loaddata-fixture-fixture"&gt;loaddata&lt;/a&gt;. However, loading a fixture into an existing database is a little trickier than loading it into an empty database. Because the fixture json contains the original primary keys of the records, you can get integrity errors.
&lt;/p&gt;

&lt;p&gt;
Recently, I had a use case where I wanted to recover from this situation by excluding some models from the fixture. What I came up with is a new management command called copydata that takes an existing fixture file and can list, filter and exclude a subset of the models. 
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.core.management.base import BaseCommand
from optparse import make_option
import json


class Command(BaseCommand):

    operation = None
    filters = []
    excludes = []

    args = '&amp;lt;file [--list|--filter|--exclude]&amp;gt;'
    help = 'Copy/filter JSON fixture data to strip out certain models. ' \
        'Useful if certain parts of a fixture are failing.'

    option_list = BaseCommand.option_list + (
            make_option('--list',
                action='store_true',
                dest='list',
                default=False,
                help='List the models in a fixture'),
            make_option('--filter',
                action='store',
                dest='filter',
                default=False,
                help='Output the fixture with only these models, ' \
                    'comma-separated list.'),
            make_option('--exclude',
                action='store',
                dest='exclude',
                default=False,
                help='Output the fixture without these models, ' \
                    'comma-separated list.'),
            )

    def handle(self, file_path=None, list=False, filter=None, exclude=None, **options):

        if list:
            self.operation = 'list'
        if filter:
            self.filters = filter.split(',')
            self.operation = 'copy'
        if exclude:
            self.excludes = exclude.split(',')
            self.operation = 'copy'

        self.call('init')
        for record in json.load(open(file_path)):
            self.call('iter', record)
        self.call('final')

    def call(self, func_postfix, *args, **kwargs):
        func_name = self.operation + '_' + func_postfix
        if hasattr(self, func_name):
            func = getattr(self, func_name)
            func(*args, **kwargs)

    def list_init(self):
        self.model_set = set()

    def list_iter(self, record):
        self.model_set.add(record.get('model'))

    def list_final(self):
        for model in list(self.model_set):
            print model

    def copy_init(self):
        self.json_out = []

    def copy_iter(self, record):

        if self.filters and record.get('model') not in self.filters:
            return

        if self.excludes and record.get('model') in self.excludes:
            return

        self.json_out.append(record)

    def copy_final(self):
        print json.dumps(self.json_out, indent=4)
&lt;/pre&gt;

&lt;p&gt;
After saving this file as copydata.py inside the &lt;a href="https://docs.djangoproject.com/en/dev/howto/custom-management-commands/"&gt;management/commands&lt;/a&gt; directory of your Django application, you can do the following.
&lt;p&gt;

&lt;pre name="code" class="bash"&gt;
&amp;gt;./manage.py dumpdata myapp &amp;gt; /tmp/fixture.json

&amp;gt;./manage.py copydata /tmp/fixture.json --list
myapp.friend
myapp.invite
myapp.profile

&amp;gt;./manage.py copydata /tmp/fixture.json --filter myapp.friend &amp;gt; /tmp/just_friends.json

&amp;gt;./manage.py copydata /tmp/fixture.json --exclude myapp.friend &amp;gt; /tmp/just_invites_and_profiles.json
&lt;/pre&gt;

&lt;p&gt;
If you still have access to the database where the fixture was dumped from, it's more straight forward to just dump the data again and use the built-in appname.Model arguments on the command-line, though you will need to list ALL of them in the exclude case.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5199751201247777520/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/04/django-management-command-to-list.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5199751201247777520'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5199751201247777520'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/04/django-management-command-to-list.html' title='Django management command to list, filter and exclude models from a fixture'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4839850598604668972</id><published>2012-04-13T16:15:00.001-04:00</published><updated>2012-04-27T12:49:41.084-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='heroku'/><title type='text'>Django/Heroku quickstart for existing applications</title><content type='html'>&lt;p&gt;
Getting a brand new Django application running on Heroku is fairly simple. There is a great tutorial for it on &lt;a href="https://devcenter.heroku.com/articles/django"&gt;devcenter.heroku.com&lt;/a&gt;. I would recommend going through that, and getting it working. Here is my short version of their getting started notes, without the &lt;a href="http://pypi.python.org/pypi/virtualenv"&gt;virtualenv&lt;/a&gt; and &lt;a href="https://docs.djangoproject.com/en/dev/ref/django-admin/?from=olddocs"&gt;Django command&lt;/a&gt; stuff you probably already know.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
wget -qO- https://toolbelt.heroku.com/install.sh | sh
heroku login
heroku create --stack cedar
echo 'web: python manage.py runserver 0:$PORT' &gt; Procfile
heroku addons:add shared-database 
git push heroku master  # if you're in a branch locally, you can git push -f heroku localbranch:refs/heads/master
heroku run python manage.py syncdb
heroku ps:scale web=1
heroku ps
heroku logs
&lt;/pre&gt;

&lt;p&gt;
That should be enough to get a brand new Django app running. If you have an existing Django application, however, their documentation doesn't provide much guidance on common pitfalls.
&lt;/p&gt;

&lt;p&gt;
First of all, you may need a mechanism to over-ride settings.py on the production Heroku instance. First, you can add an environment variable:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
heroku config:add ENVIRONMENT=production
&lt;/pre&gt;

&lt;p&gt;
With that variable, you can easily create an over-ride for settings.py called settings_production.py:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
# at the END of settings.py:
import os
ENVIRONMENT = os.environ.get('ENVIRONMENT', 'dev')  # dev, production, qa, etc
exec('from settings_%s import *' % ENVIRONMENT)
&lt;/pre&gt;

&lt;p&gt;
Heroku gives you a shared database for free. You can see the connect string on it with the heroku config command:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
...
DATABASE_URL =&gt; postgres://foobar:password@ec2-ip-address.amazonaws.com/instance
...
&lt;/pre&gt;

&lt;p&gt;
This would translate into the following in settings_production.py
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
DATABASES = {
    'default': {
        'ENGINE': 'postgresql_psycopg2',
        'NAME': 'instance',
        'USER': 'foobar',
        'PASSWORD': 'password',
        'HOST': 'ec2-ip-address.amazonaws.com',
        'PORT': '',  # leave blank
    }
}
&lt;/pre&gt;

&lt;p&gt;
The Heroku directions for switching from Django's development web server to gunicorn don't work for Django 1.3, where there is no WSGI file. After adding gunicorn to requirements.txt, and 'gunicorn' to INSTALLED_APPS, I changed Procfile to the following:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
web: python manage.py run_gunicorn -b 0.0.0.0:$PORT
&lt;/pre&gt;

&lt;p&gt;
Getting Django's &lt;a href="https://docs.djangoproject.com/en/dev/ref/contrib/staticfiles/"&gt;staticfiles&lt;/a&gt; feature working was a little trickier. Heroku gives you a "ephemeral" file system, meaning that any changes you write to disk will not survive the next deploy, and may not even survive between heroku command-line sessions. This means that collectstatic must be run as part of the deploy, which you can also do in Profile:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
web: python manage.py collectstatic --noinput; python manage.py run_gunicorn -b 0.0.0.0:$PORT
&lt;/pre&gt;

&lt;p&gt;
Lastly, I wanted gunicorn to (at least temporarily) serve up the static resources itself. To do that, you will need to add the following to your urls.py:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
urlpatterns += patterns('',
    (r'^static/(?P&amp;lt;path&amp;gt;.*)$', 'django.views.static.serve', {'document_root': settings.STATIC_ROOT}),
)
&lt;/pre&gt;

&lt;p&gt;
Heroku gives you SSL for free, at least when you're on *.herokuapp.com. The only tricky bit is that you need to tell Django which header to look at to determine if the original request was in SSL (Heroku will only speak plain HTTP to Django). Without this, any redirect from an HTTPS URL will direct the user back to HTTP. Just put the following in settings.py:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
SECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https') 
&lt;/pre&gt;

&lt;p&gt;
Finally, I had to migrate my old data. If you're going from Postgres -&gt; Postres, or MySQL -&gt; MySQL, just use the herokup database restore tools. If you need to migrate from one to the other, things get a lot trickier. In my case, I ended up exporting to a JSON file, and re-importing. This was very buggy; I would not recommend it. 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4839850598604668972/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/04/djangoheroku-quickstart-for-existing.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4839850598604668972'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4839850598604668972'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/04/djangoheroku-quickstart-for-existing.html' title='Django/Heroku quickstart for existing applications'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5122719166507801275</id><published>2012-04-06T13:36:00.000-04:00</published><updated>2012-04-06T13:36:07.217-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='varnish'/><title type='text'>varnishlog top pages by IP address</title><content type='html'>&lt;p&gt;
Here are some quick recipes for getting information from varnish about top offending IP addresses, which pages those IP addresses are accessing, and which IPs are hitting particular pages.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# top IP addresses
varnishtop -i TxHeader -I '^X-Forwarded-For:'
&lt;/pre&gt;

&lt;img src='https://lh6.googleusercontent.com/-2tE7nUA43Qg/T38pAGjKU7I/AAAAAAAALqk/NXBBxhIH0iY/s729/top_ips.png'&gt;

&lt;pre name="code" class="bash"&gt;
# which pages the IP address 66.249.68.228 is hitting
varnishncsa |grep 66.249.68.228 |awk '{print $7}'
&lt;/pre&gt;

&lt;img src='https://lh3.googleusercontent.com/-Xq-zbQdQDwY/T38pAB-f-TI/AAAAAAAALqo/Q7BZjkg9cq8/s819/pages_for_an_ip.png'&gt;

&lt;pre name="code" class="bash"&gt;
# IP addresses hitting the /client-perf URL
varnishlog -m 'RxURL:/client-perf' |grep 'X-Forwarded-For'
&lt;/pre&gt;

&lt;img src='https://lh4.googleusercontent.com/-OjouxTryItI/T38pAC75DTI/AAAAAAAALqg/hw89ekpF8RQ/s764/ips_for_a_url.png'&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5122719166507801275/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/04/varnishlog-top-pages-by-ip-address.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5122719166507801275'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5122719166507801275'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/04/varnishlog-top-pages-by-ip-address.html' title='varnishlog top pages by IP address'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh6.googleusercontent.com/-2tE7nUA43Qg/T38pAGjKU7I/AAAAAAAALqk/NXBBxhIH0iY/s72-c/top_ips.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3494014562523770206</id><published>2012-03-28T16:58:00.001-04:00</published><updated>2012-03-28T16:58:56.522-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='ssh'/><title type='text'>testing facebook apps with ssh reverse tunnels</title><content type='html'>&lt;p&gt;
If you're writing a Facebook app, you may have to jump through hoops to test it out against your local development machine. Facebook requires that you configure a static host name where all your login requests will originate. For logins, it will let you specify a localhost address. But other features, like OpenGraph objects, require that Facebook be able to download that webpage to see the meta tags.
&lt;/p&gt;

&lt;p&gt;
At this point, you may have a problem. Most developer desktops are behind a firewall. If you're in a corporate setting, it may be difficult to get someone to open up port 80 on a static IP and temporarily point it to your desktop. However, many of those same developers will have access to one or more servers "in the cloud". You could deploy your code there to test, but then every change would require a re-deploy. 
&lt;/p&gt;

&lt;p&gt;
Instead, it's fairly simple to setup a reverse tunnel over SSH to forward port 80 inbound traffic from a cloud server to your local desktop. It's a two step process. First, you ssh into that server as normal, but tell it to also forward a new port on its end to your local ssh port. Then, from inside that new ssh session, you forward port 80 (HTTP) connections to your local port 80.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
ssh -R 19999:localhost:22 root@myserver.cloudhost.com
ssh -L 80:localhost:80 -p 19999 myuser@localhost
&lt;/pre&gt;

&lt;p&gt;
At this point, you should be able to open http://myserver.cloudhost.com in a browser and have the pages served up from your local port 80. You can also change the localhost:80 part to something else, like localhost:8000 for Django apps.
&lt;/p&gt;

&lt;p&gt;
&lt;b&gt;Trouble-shooting: &lt;/b&gt; 
&lt;ul&gt;
&lt;li&gt;Make sure you can ssh into the server normally with ssh root@myserver.cloudhost.com.&lt;/li&gt;
&lt;li&gt;Make sure you can ssh into yourself (from yourself) with ssh myuser@localhost. If not, make sure you have installed sshd (sudo apt-get install openssh-server).&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3494014562523770206/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/03/testing-facebook-apps-with-ssh-reverse.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3494014562523770206'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3494014562523770206'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/03/testing-facebook-apps-with-ssh-reverse.html' title='testing facebook apps with ssh reverse tunnels'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8939472425504990126</id><published>2012-03-23T11:18:00.001-04:00</published><updated>2012-03-23T11:18:21.917-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='jquery'/><title type='text'>waiting while a jQuery UI animation is running</title><content type='html'>&lt;p&gt;
A common pattern for less than instantaneous ajax calls is to show the user a "loading" animation while the ajax response is pending. If your animation is a loading spinner graphic, then it makes sense to stop that animation immediately when the response is ready. But what if you're using a &lt;a href="http://api.jquery.com/slideToggle/"&gt;slide&lt;/a&gt; or a &lt;a href="http://api.jquery.com/fadeOut/"&gt;fade&lt;/a&gt; animation? In that case, it might be a better experience to let the initial animation finish, especially if it's pretty fast anyway. Otherwise, you would get a jarring half-animation.
&lt;/p&gt;

&lt;p&gt;
jQuery has a handy &lt;a href="http://api.jquery.com/animated-selector/"&gt;:animated&lt;/a&gt; selector which you can use to test if an element's animation is still running. But doing some kind of while/sleep loop turns out to be a little tricky. Javascript doesn't have a sleep method, and if you implement your own &lt;a href="http://api.jquery.com/animated-selector/"&gt;naive busy-wait loop&lt;/a&gt;, it will actually block the browser from rendering the animation, defeating the purpose. Firefox will actually lock up completely, because javascript execution happens in the main UI thread.
&lt;/p&gt;

&lt;p&gt;
However, there is an easy work-around in the form of &lt;a href="http://www.elated.com/articles/javascript-timers-with-settimeout-and-setinterval/"&gt;setInterval/clearInterval&lt;/a&gt;. Here is an example:
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
$("#content").hide("slide", { direction: "left" });

$.ajax({
    type: "GET",
    url: "/foobar",
    success: function (data) {

     // need to wait for the first animation to 
        // stop before showing the new data/second animation

     var wait = setInterval(function() {

            if ($("#content:not(animated)")) {

             clearInterval(wait);

                $("#content").html(data);
                $("#content").show("slide", { direction: "right" });

            }
     }, 100);
    }
})

&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8939472425504990126/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/03/waiting-while-jquery-ui-animation-is.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8939472425504990126'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8939472425504990126'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/03/waiting-while-jquery-ui-animation-is.html' title='waiting while a jQuery UI animation is running'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1955505654644120966</id><published>2012-03-16T17:37:00.001-04:00</published><updated>2012-03-17T10:14:49.136-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Adding a .first() method to Django's QuerySet</title><content type='html'>&lt;p&gt;
In my last Django project, we had a set of helper functions that we used a lot. The most used was helpers.first, which takes a query set and returns the first element, or None if the query set was empty.
&lt;/p&gt;

&lt;p&gt;
Instead of writing this:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
try:
    object = MyModel.objects.get(key=value)
except model.DoesNotExist:
    object = None
&lt;/pre&gt;

&lt;p&gt;
You can write this:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def first(query):
    try:
        return query.all()[0]
    except:
        return None

object = helpers.first(MyModel.objects.filter(key=value))
&lt;/pre&gt;

&lt;p&gt;
Note, that this is not identical. The &lt;a href="https://docs.djangoproject.com/en/dev/topics/db/queries/#retrieving-a-single-object-with-get"&gt;get method&lt;/a&gt; will ensure that there is exactly one row in the database that matches the query. The helper.first() method will silently eat all but the first matching row. As long as you're aware of that, you might choose to use the second form in some cases, primarily for style reasons.
&lt;/p&gt;

&lt;p&gt;
But the synax on the helper is a little verbose, plus you're constantly including helpers.py. Here is a version that makes this available as a method on the end of your query set chain. All you have to do is have your models inherit from this AbstractModel.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class FirstQuerySet(models.query.QuerySet):

    def first(self):
        try:
            return self[0]
        except:
            return None


class ManagerWithFirstQuery(models.Manager):

    def get_query_set(self):
        return FirstQuerySet(self.model)


class AbstractModel(models.Model):
    objects = ManagerWithFirstQuery()

    class Meta:
        abstract = True


class MyModel(AbstractModel):
    ...
&lt;/pre&gt;

&lt;p&gt;
Now, you can do the following.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
object = MyModel.objects.filter(key=value).first()
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1955505654644120966/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/03/adding-first-method-to-djangos-queryset.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1955505654644120966'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1955505654644120966'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/03/adding-first-method-to-djangos-queryset.html' title='Adding a .first() method to Django&apos;s QuerySet'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3448555493123351740</id><published>2012-02-24T11:42:00.000-05:00</published><updated>2012-02-24T11:42:12.336-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='postgres'/><title type='text'>Django aggregation, group by day</title><content type='html'>&lt;p&gt;
This week we had a hackathon to develop a better internal dashboard page that shows things like records added to the system over time. Not having generated many reports in Django, we had to learn how to get the Django ORM to group records by day. It's a little bit of a weak spot in the still relatively new &lt;a href="https://docs.djangoproject.com/en/dev/topics/db/aggregation/"&gt;aggregation feature&lt;/a&gt;, so it wasn't as easy as we expected.
&lt;/p&gt;

&lt;p&gt;
The first pass got the job done, but was pretty slow.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import datetime
import itertools
last_14_days = datetime.datetime.today() - datetime.timedelta(14)
jobs = Job.objects.filter(date_added__gte=last_14_days)
grouped = itertools.groupby(jobs, lambda record: record.date_added.strftime("%Y-%m-%d"))
jobs_by_day = [(day, len(list(jobs_this_day))) for day, jobs_this_day in grouped]
#[('2012-02-22', 1), ('2012-02-21', 1503), ('2012-02-20', 1351), ('2012-02-19', 200), ('2012-02-18', 157), ('2012-02-17', 1423), ('2012-02-16', 1665), ('2012-02-15', 1774), ('2012-02-14', 1533), ('2012-02-13', 1635), ('2012-02-12', 170), ('2012-02-11', 147), ('2012-02-10', 958)]
&lt;/pre&gt;

&lt;p&gt;
That works, but it's a little slow if you have hundreds of thousands of records in the dataset. The slowness is partially due to the ORM grabbing every field in the Job record, even though you only need date_added. Here is an optimization, assuming all you need are counts:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
jobs = Job.objects.filter(date_added__gte=last_14_days).values("date_added")
grouped = itertools.groupby(jobs, lambda record: record.get("date_added").strftime("%Y-%m-%d"))
jobs_by_day = [(day, len(list(jobs_this_day))) for day, jobs_this_day in grouped]
&lt;/pre&gt;

&lt;p&gt;
Even that is a lot slower than it needs to be. For the best performance, you want the grouping to happen in your database. In raw SQL, you would do something like:
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
-- this syntax is Postgres specific
  select date_trunc('day', date_added),
         count(*)
    from website_job
   where date_added &gt; now() - interval '14 days'
group by date_trunc('day', date_added)
order by date_trunc('day', date_added)

/*
2012-02-10 00:00:00:000;916
2012-02-11 00:00:00:000;147
2012-02-12 00:00:00:000;170
2012-02-13 00:00:00:000;1635
2012-02-14 00:00:00:000;1533
2012-02-15 00:00:00:000;1774
2012-02-16 00:00:00:000;1665
2012-02-17 00:00:00:000;1423
2012-02-18 00:00:00:000;157
2012-02-19 00:00:00:000;200
2012-02-20 00:00:00:000;1351
2012-02-21 00:00:00:000;1503
2012-02-22 00:00:00:000;1
*/
&lt;/pre&gt;

&lt;p&gt;
You can have the Django ORM pass this raw SQL for a group by as well, as long as you don't mind that you're violating the database-independence barrier.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.db.models.aggregates import Count
jobs = Job.objects.filter(date_added__gte=last_14_days).extra({"day": "date_trunc('day', date_added)"}).values("day").order_by().annotate(count=Count("id"))
#[{'count': 1423, 'day': datetime.datetime(2012, 2, 17, 0, 0)}, {'count': 147, 'day': datetime.datetime(2012, 2, 11, 0, 0)}, {'count': 1351, 'day': datetime.datetime(2012, 2, 20, 0, 0)}, {'count': 1665, 'day': datetime.datetime(2012, 2, 16, 0, 0)}, {'count': 1774, 'day': datetime.datetime(2012, 2, 15, 0, 0)}, {'count': 200, 'day': datetime.datetime(2012, 2, 19, 0, 0)}, {'count': 157, 'day': datetime.datetime(2012, 2, 18, 0, 0)}, {'count': 1, 'day': datetime.datetime(2012, 2, 22, 0, 0)}, {'count': 958, 'day': datetime.datetime(2012, 2, 10, 0, 0)}, {'count': 1503, 'day': datetime.datetime(2012, 2, 21, 0, 0)}, {'count': 1635, 'day': datetime.datetime(2012, 2, 13, 0, 0)}, {'count': 1533, 'day': datetime.datetime(2012, 2, 14, 0, 0)}, {'count': 170, 'day': datetime.datetime(2012, 2, 12, 0, 0)}]
&lt;/pre&gt;

&lt;p&gt;
There is some trickiness here. We're defining a new column on each result called "day", which is calculated with the &lt;a href="http://www.postgresql.org/docs/8.1/static/functions-datetime.html"&gt;date_trunc() method&lt;/a&gt; by Postgres. Then we're using the standard values/annotate functionality in the Django ORM aggregation framework. Notice, however, that we must clear the default ordering with an explicit order_by() in between, &lt;a href="https://docs.djangoproject.com/en/dev/topics/db/aggregation/#interaction-with-default-ordering-or-order-by"&gt;otherwise the grouping will not work&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Another solution would be to denormalize day into its own field in your model, and just use the vanilla aggregation syntax. Hopefully these kinds of aggregations will get easier in future versions of Django.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3448555493123351740/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/02/django-aggregation-group-by-day.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3448555493123351740'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3448555493123351740'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/02/django-aggregation-group-by-day.html' title='Django aggregation, group by day'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5817010761232527020</id><published>2012-02-17T15:38:00.000-05:00</published><updated>2012-02-17T15:38:24.709-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='bash'/><title type='text'>Save a screenshot to Dropbox with a keyboard shortcut</title><content type='html'>&lt;p&gt;
It's not uncommon for me to call my product manager over to my desk half a dozen times on a given day to look at what I'm working on. To speed things up, I decided to start IMing him screen shots instead. Here is a BASH script that builds on &lt;a href="http://drjnet.wordpress.com/2010/05/19/dropbox-screenshots-ubuntu/"&gt;Drjnet's excellent script&lt;/a&gt;, but which also allows you to select just a small region of your screen to capture.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
#!/bin/bash

# Setup filename for the screenshot
myfile=$(date +%Y%m%d%S).png

#Setup paths to dropbox &amp; full url to new screenshot
dropboxwebpath='http://dl.dropbox.com/u/422013/temp/' # PUT YOUR DROPBOX USERID HERE
dropboxfileurl=$dropboxwebpath$myfile

# see: http://code.google.com/p/xmonad/issues/detail?id=476
sleep 0.2

# Use scrot to take a screenshot and stick it in your dropbox screenshots folder
scrot $myfile -e 'mv $f ~/Dropbox/Public/temp/' -s

#  Put full URL to new screenshot into clipboard
echo $dropboxfileurl | xclip -selection c
&lt;/pre&gt;

&lt;p&gt;
Note the sleep; that's important to get around a race condition between scrot and your window manager for access to your mouse/keyboard.
&lt;/p&gt;

&lt;p&gt;
To install as a keyboard shortcut (I have mine bound to Windows + PrtScr), just launch the "Keyboard" app in Ubuntu, and add it under Shortcuts -&gt; Custom Shortcuts.
&lt;/p&gt;

&lt;img src="https://lh4.googleusercontent.com/-P0rj25xO-9w/Tz66cDghKQI/AAAAAAAALog/4U_yVTnbZhc/s757/keyboard_shortcut.png"&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5817010761232527020/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/02/save-screenshot-to-dropbox-with.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5817010761232527020'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5817010761232527020'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/02/save-screenshot-to-dropbox-with.html' title='Save a screenshot to Dropbox with a keyboard shortcut'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh4.googleusercontent.com/-P0rj25xO-9w/Tz66cDghKQI/AAAAAAAALog/4U_yVTnbZhc/s72-c/keyboard_shortcut.png' height='72' width='72'/><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-54459706974455461</id><published>2012-02-10T13:00:00.000-05:00</published><updated>2012-02-10T13:05:37.632-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='cron'/><title type='text'>How to use a cron job to open a web page in a browser</title><content type='html'>&lt;p&gt;
At work, I have a set of long-term goals I'm supposed to be making progress on over the year. As a way to remind myself about them, I have a &lt;a href="http://en.wikipedia.org/wiki/Cron"&gt;cron job &lt;/a&gt;setup to open the URL with the goals on them every morning.
&lt;/p&gt;

&lt;p&gt;
First, you need to create a bash script to open a webpage. Note that I'm setting the display so that when cron runs the job behind the scenes, it knows which display to use. I'm also using &lt;a href="http://portland.freedesktop.org/xdg-utils-1.0/xdg-open.html"&gt;xdg-open&lt;/a&gt;, which will open a URL (or any document) in the currently registered application. In my case, that's Chrome.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
#!/bin/bash
export DISPLAY=:0
xdg-open https://docs.google.com/document/d/some_document_id
&lt;/pre&gt;

&lt;p&gt;
I saved this as ~/bin/outcomes.sh. Next, you need to make it executable.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
chmod +x ~/bin/outcomes.sh
&lt;/pre&gt;


&lt;p&gt;
Finally, you need to schedule it in cron. Here is the syntax for running it every morning at 8AM.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
&amp;gt;crontab -e
* 8 * * * /home/chase/bin/outcomes.sh
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/54459706974455461/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/02/how-to-use-cron-job-to-open-web-page-in.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/54459706974455461'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/54459706974455461'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/02/how-to-use-cron-job-to-open-web-page-in.html' title='How to use a cron job to open a web page in a browser'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6948458545105373250</id><published>2012-02-03T11:56:00.001-05:00</published><updated>2012-02-03T11:56:53.689-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='screenscraping'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='jquery'/><title type='text'>jQuery: remove (script) tags from a string of html</title><content type='html'>&lt;p&gt;
I'm in the middle of writing a bookmarklet to screen scrape web pages. My back-end piece is having trouble parsing pages with lots of script tags. Since I don't actually need the script tags, I thought I would remove them before it even gets to the back-end. Here is how to grab the current page HTML and strip some tags from it, without changing the DOM the user is actually viewing.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
var page_content = $(&amp;quot;html&amp;quot;).clone().find(&amp;quot;script,noscript,style&amp;quot;).remove().end().html();
&lt;/pre&gt;

&lt;p&gt;
That's it! I then POST the html content to the back-end with an ajax call. The key bit is the clone(), which copies the entire page so that we can remove element from the copy and not without removing it from the UI the users if viewing. 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6948458545105373250/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/02/jquery-remove-script-tags-from-string.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6948458545105373250'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6948458545105373250'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/02/jquery-remove-script-tags-from-string.html' title='jQuery: remove (script) tags from a string of html'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5237569426547034714</id><published>2012-01-27T14:42:00.000-05:00</published><updated>2012-01-27T14:42:29.707-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='security'/><title type='text'>Using Access-Control-Allow-Origin to make cross domain POST requests from javsacript</title><content type='html'>&lt;p&gt;
Making ajax calls from javascript, even without a framework like jQuery, is pretty trivial. However, once you try to make the same request cross-domain, it gets hard fast. This is due to the security model all modern browsers use, known as the &lt;a href="http://en.wikipedia.org/wiki/Same_origin_policy"&gt;same origin policy&lt;/a&gt;. This policy makes sense in a lot of ways, but it's also somewhat broken and antiquated on the web today. 
&lt;/p&gt;

&lt;p&gt;
Why might you want to make cross domain requests? Just take a look at some examples:
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Google Analytics sends metrics from your page to their central servers.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.housingmaps.com/"&gt;HousingMaps&lt;/a&gt;, a mashup of craigslist and GoogleMaps.&lt;/li&gt;
&lt;li&gt;The &lt;a href="http://www.instapaper.com/extras"&gt;Read Later&lt;/a&gt; Instapaper bookmarklet.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
For cross domain ajax requests, the same origin policy is "broken" in the sense that there have been work-arounds available for a years. First there were &lt;a href="http://ajaxpatterns.org/Cross-Domain_Proxy"&gt;proxy pages&lt;/a&gt;, where you wrap a remote URL in a page being served by the site the user is actually on. The proxy requires that you be in control of the page the user is on. Then there was a &lt;a href="http://softwareas.com/cross-domain-communication-with-iframes"&gt;dual IFRAME hack&lt;/a&gt;, but that requires that you be in control of both ends.
&lt;/p&gt;

&lt;p&gt;
Recently, &lt;a href="http://www.ibm.com/developerworks/library/wa-aj-jsonp1"&gt;JSONP&lt;/a&gt; has emerged as a standard 
to allow cross domain requests. It's something of a hack that works by returning an executable javascript function from a script tag request. It also exposes you to potential javascript injection vulnerabilities if you are not in control of the remote host. On the plus side, it's provided seamlessly as a &lt;a href="http://api.jquery.com/jQuery.getJSON/"&gt;feature in recent jQuery&lt;/a&gt; versions.
&lt;/p&gt;

&lt;p&gt;
Luckily, there is a true standard emerging that's not built on top of a hack. In 2004, the W3C started work on a draft called Cross-Origin Resource Sharing (CORS). In 2009, &lt;a href="https://developer.mozilla.org/En/HTTP_access_control"&gt;Mozilla&lt;/a&gt; was the first browser to implement support for CORS. Currently Chrome also supports it. It allows a HTTP server to set some new headers that tell the browser to modify its same origin policy.
&lt;/p&gt;

&lt;p&gt;
For example, the following &lt;a href="http://stackoverflow.com/questions/298745/how-do-i-send-a-cross-domain-post-request-via-javascript"&gt;Django code&lt;/a&gt; with allow an ajax request from another domain to your server.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def myview(_request):
    response = HttpResponse(json.dumps({&amp;quot;key&amp;quot;: &amp;quot;value&amp;quot;, &amp;quot;key2&amp;quot;: &amp;quot;value&amp;quot;}))
    response[&amp;quot;Access-Control-Allow-Origin&amp;quot;] = &amp;quot;*&amp;quot;
    response[&amp;quot;Access-Control-Allow-Methods&amp;quot;] = &amp;quot;POST, GET, OPTIONS&amp;quot;
    response[&amp;quot;Access-Control-Max-Age&amp;quot;] = &amp;quot;1000&amp;quot;
    response[&amp;quot;Access-Control-Allow-Headers&amp;quot;] = &amp;quot;*&amp;quot;
    return response
&lt;/pre&gt;

&lt;p&gt;
In typical fashion, Microsoft went ahead and implemented their own incompatible version of the same thing, which they call &lt;a href="http://msdn.microsoft.com/en-us/library/ie/cc288060(v=vs.85).aspx"&gt;XDR&lt;/a&gt;. If you're masochistic, you can try to use it. Otherwise, you can wait until IE10 when &lt;a href="http://blogs.msdn.com/b/ie/archive/2011/11/29/html5-for-applications-the-fourth-ie10-platform-preview.aspx"&gt;they will support CORS&lt;/a&gt;, too.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5237569426547034714/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/01/using-access-control-allow-origin-to.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5237569426547034714'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5237569426547034714'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/01/using-access-control-allow-origin-to.html' title='Using Access-Control-Allow-Origin to make cross domain POST requests from javsacript'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9093364962105922191</id><published>2012-01-20T13:31:00.000-05:00</published><updated>2012-01-20T13:31:15.253-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Python class attributes are evaluated on declaration</title><content type='html'>&lt;p&gt;
In Python, class attributes are evaluated and put into memory when the class is defined (or imported). For example, if you run the following code in an interactive interpreter, it will print out "Something __init__() called":
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class Something:
    def __init__(self):
        print &amp;quot;Something __init__() called&amp;quot;

class UsesSomething:
    field = Something()
&lt;/pre&gt;

&lt;p&gt;
This surprised me, even though I've been coding almost entirely in Python for two years. I expected the print statement to execute if I instantiated a UsesSomething object, but I did not expect it to execute by simply declaring the class definition. In practice, the declaration is likely to be when you import the module containing the code.
&lt;/p&gt;

&lt;p&gt;
This came up in a &lt;a href="http://stackoverflow.com/questions/8944403/why-are-form-field-init-methods-being-called-on-django-startup"&gt;real world scenario&lt;/a&gt; when my Django app suddenly began taking a lot longer to start up. On a hunch, I started removing imports from urls.py until I found the one that was causing the slowness. Then I started removing code in that module, until I traced the problem to something like the following:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class MyForm(ModelForm):
    class Meta:
        model = MyModel
    field1 = MyChoiceField()

class MyChoiceField(ChoiceField):
    def __init__(self, choices=(), required=True, widget=None, label=None,
             initial=None, help_text=None, *args, **kwargs):
    super(ChoiceField, self).__init__(required, widget, label, initial,
                                      help_text, *args, **kwargs)     
    self.choices = [(m.id, m.name) for m in ReallyLargeTableModel.objects.all()] 
&lt;/pre&gt;

&lt;p&gt;
For me, this was a pretty standard pattern. I had a custom field that was pulling its set of valid choices from the database. As the full ReallyLargeTableModel data set got larger and larger, it eventually got larger than the maximum size our caching back-end would store, and thus the query started getting run every time the run time started up.
&lt;/p&gt;

&lt;p&gt;
In this case, it's not hard to work around. Simply removing the list comprehension will allow Django to hold off on running the query until it actually requests the choices property (ie, when the field is displayed to the user). Alternatively, you could pass the data in from the MyForm constructor, which I gather is more idiomatic anyway. 
&lt;/p&gt;

&lt;p&gt;
Solutions are besides the point. In this case, the important take away is to be aware that class attributes will be evaluated on import, NOT when they are instantiated. So you want to avoid heavy weight operations or external dependencies in class attribute definitions.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/9093364962105922191/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/01/python-class-attributes-are-evaluated.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/9093364962105922191'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/9093364962105922191'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/01/python-class-attributes-are-evaluated.html' title='Python class attributes are evaluated on declaration'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2350560136416206280</id><published>2012-01-06T14:15:00.002-05:00</published><updated>2012-01-06T14:15:43.550-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='postgres'/><title type='text'>Django reset database connection</title><content type='html'>&lt;p&gt;
Django handles database connections transparently in almost all cases. It will &lt;a href="https://docs.djangoproject.com/en/dev/ref/databases/#transaction-handling"&gt;start a new connection&lt;/a&gt; when your request starts up, and commit it at the end of the request lifetime. Other times you need to dive in further and do your own granular &lt;a href="https://docs.djangoproject.com/en/dev/topics/db/transactions/"&gt;transaction management&lt;/a&gt;. But for the most part, it's fully automatic.
&lt;/p&gt;

&lt;p&gt;
However, sometimes your use case may require that you close the current database connection and open a new one. While this is possible in Django, it's &lt;a href="http://stackoverflow.com/questions/1303654/threaded-django-task-doesnt-automatically-handle-transactions-or-db-connections"&gt;not well documented&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Why would you want to do this? I my case, I was writing an automation test framework. Some of the automation tests make database calls through the Django ORM to setup records, clean up after the test, etc. Each test is executed in the same process space, via a thread pool. We found that if one of the early tests threw an unrecoverable database error, such as an &lt;a href="https://code.djangoproject.com/wiki/IntegrityError"&gt;IntegrityError&lt;/a&gt; due to violating a unique constraint, the database connection would be aborted. Subsequent tests that tried to use the database would raise a &lt;a href="https://docs.djangoproject.com/en/1.2/ref/exceptions/#django.db.DatabaseError"&gt;DatabaseError&lt;/a&gt;:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
Traceback (most recent call last):
  File /home/user/project/app/test.py, line 73, in tearDown
    MyModel.objects.all()
  File /usr/local/lib/python2.6/dist-packages/django/db/models/query.py, line 444, in delete
    collector.collect(del_query)
  File /usr/local/lib/python2.6/dist-packages/django/db/models/deletion.py, line 146, in collect
    reverse_dependency=reverse_dependency)
  File /usr/local/lib/python2.6/dist-packages/django/db/models/deletion.py, line 91, in add
    if not objs:
  File /usr/local/lib/python2.6/dist-packages/django/db/models/query.py, line 113, in __nonzero__
    iter(self).next()
  File /usr/local/lib/python2.6/dist-packages/django/db/models/query.py, line 107, in _result_iter
    self._fill_cache()
  File /usr/local/lib/python2.6/dist-packages/django/db/models/query.py, line 772, in _fill_cache
    self._result_cache.append(self._iter.next())
  File /usr/local/lib/python2.6/dist-packages/django/db/models/query.py, line 273, in iterator
    for row in compiler.results_iter():
  File /usr/local/lib/python2.6/dist-packages/django/db/models/sql/compiler.py, line 680, in results_iter
    for rows in self.execute_sql(MULTI):
  File /usr/local/lib/python2.6/dist-packages/django/db/models/sql/compiler.py, line 735, in execute_sql
    cursor.execute(sql, params)
  File /usr/local/lib/python2.6/dist-packages/django/db/backends/postgresql_psycopg2/base.py, line 44, in execute
    return self.cursor.execute(query, args)
DatabaseError: server closed the connection unexpectedly
 This probably means the server terminated abnormally
 before or while processing the request.
&lt;/pre&gt;

&lt;p&gt;
It turns out that it's relatively easy to reset the database connection. We just called the following function at the start of every test. Django is smart enough to re-initialize the connection the next time it's used, assuming that it's disconnected properly.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def reset_database_connection():
    from django import db
    db.close_connection()
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2350560136416206280/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html#comment-form' title='4 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2350560136416206280'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2350560136416206280'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html' title='Django reset database connection'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>4</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2931607925239394080</id><published>2011-12-21T16:40:00.000-05:00</published><updated>2011-12-21T16:40:27.678-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='nginx'/><category scheme='http://www.blogger.com/atom/ns#' term='ssl'/><title type='text'>nginx + SSL reverse proxy tutorial</title><content type='html'>&lt;p&gt;
If you have an existing HTTP application that you want to enable SSL for, &lt;a href="http://nginx.org/"&gt;nginx&lt;/a&gt; provides a convenient &lt;a href="http://en.wikipedia.org/wiki/Reverse_proxy"&gt;reverse proxy&lt;/a&gt; mode. In this mode, nginx is just responsible for providing SSL encryption; the actual HTTP content is still being served from your existing web server or load balancer.
&lt;/p&gt;

&lt;p&gt;
First, you need to install nginx. On Ubuntu 11.10, you can install it directly from the Ubuntu repositories.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
sudo apt-get install nginx
&lt;/pre&gt;

&lt;p&gt;
On older Ubuntu distributions, you will need to add a custom PPA.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
sudo -s
nginx=stable # use nginx=development for latest development version
echo &amp;quot;deb http://ppa.launchpad.net/nginx/$nginx/ubuntu lucid main&amp;quot; &amp;gt; /etc/apt/sources.list.d/nginx-$nginx-lucid.list
apt-key adv --keyserver keyserver.ubuntu.com --recv-keys C300EE8C
apt-get update 
apt-get install nginx
&lt;/pre&gt;

&lt;p&gt;
Next, you need to generate a &lt;a href="http://en.wikipedia.org/wiki/Certificate_signing_request"&gt;Certificate Signing Request&lt;/a&gt; and a secret key file. I created mine directly inside a new directory that we will point nginx to.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
sudo mkdir /usr/local/nginx
sudo mkdir /usr/local/nginx/conf
cd /usr/local/nginx/conf
sudo openssl genrsa -des3 -out server.key 2048
sudo openssl req -new -key server.key -out server.csr
&lt;/pre&gt;

&lt;p&gt;
You will be asked a bunch of questions about the SSL certificate. This is semi-official information, so you want it to be accurate. The certificate authority may actually call/email people to verify some of the information. Technically, the only important field is the Common Name, which is the domain name you want the certificate for. You should look up some &lt;a href="http://www.digicert.com/csr-creation.htm"&gt;SSL creation tutorials&lt;/a&gt; to make sure you have the correct values.
&lt;/p&gt;

&lt;p&gt;
In my case, I wanted a wildcard certificate, which can be used for all subdomains on the domain in question, so I entered *.example.com for the common name.
&lt;/p&gt;

&lt;p&gt;
Now you get out your credit card. You need to purchase a certificate based on this .csr file. I chose &lt;a href="http://www.digicert.com/"&gt;Digicert&lt;/a&gt;. A wildcard certificate cost about $1300 for three years.
&lt;/p&gt;

&lt;p&gt;
They will ask you for the csr file. You can also paste in the text of the file, which looks something like this.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
-----BEGIN CERTIFICATE REQUEST-----
MIIC3zCCAccCAQAwgZkxCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJNQTEPMA0GA1UE
BxMGQm9zdG9uMRcwFQYDVQQKEw5CdWxsaG9ybiwgSW5jLjEOMAwGA1UECxMFUmVh
Y2gxHDAaBgNVBAMUEyouYnVsbGhvcm5yZWFjaC5jb20xJTAjBgkqhkiG9w0BCQEW
FnJlYWNoYmV0YUBidWxsaG9ybi5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQCqayVplOo/PJhoufXSaFD7q66pmIfveWW3dlRNxltgk7l2jhusnsVz
37P9F/qwxUjn6ijgZnopXNMQn2UEPKr8J65DgdSyLEFYFIO1DtLEYxS4myL2Bjc+
mDEPirC05jDLOMMP7tr+607jWxOaM9p5G+kNjUc+gFCN4T7BSYKn1gnpmUPJDdYO
FOD0sZ4G0SWrEDWNhzp5fNAqtviApDWfFWcDL2FJIiYKethp3moLsu5eAycji3PE
hLqDZPXO3AQ+eaFAmRbkjB0imlbYgLn4MHWQWZHuPjvTV1puJfbnb4auMmu1xBCE
wKgTS7ZgHp/9RbR19W5aDNBkiM+WkdMhAgMBAAGgADANBgkqhkiG9w0BAQUFAAOC
AQEAkfuZ5GU7f1sxECH3hP2TOVRCvPay4R6J3Ql2782DaGjmqix8KsJMXNymVE8B
9+09NFKo9Mv+Rwb/bZCjwviEADLXeMCjm503UMgWjyH+ONY4bNOs6k6hZYM7rmVb
WnRgk2FXi9Kxgp5YMDQrTV1o2o6eykObqAfnWlG8Awka7w9aPNnp+HiFNtygB78R
oFP/8v4KGVbSOGsvXRNPGs7y6dYCBnPxd5OxoXlc06j7gnuPbHKh69Bo7e2gTRYp
T2g6GC3fgglMmq7pku775adR30E3CnS/Huc+MmBWC/TYYZv1Uv+8+sLnBZUDHgrH
oeMl/QXd6Nnev+IVx0am4moU0Q==
-----END CERTIFICATE REQUEST-----
&lt;/pre&gt;

&lt;p&gt;
The certificate authority vendor will produce a &lt;a href="http://serverfault.com/questions/9708/what-is-a-pem-file-and-how-does-it-differ-from-other-openssl-generated-key-file"&gt;.pem file&lt;/a&gt;, which has both your new certificate and the vendor's certificate bundled together. Once you get the certificate via email, you can proceed to setup a reverse proxy in nginx. First, remove the passphrase from the .key file. Otherwise, nginx will prompt for it interactively every time the service starts.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
sudo cp server.key server.key.org
sudo openssl rsa -in server.key.org -out server.key
&lt;/pre&gt;

&lt;p&gt;
Then you have to configure nginx to use the .pem file from the certificate authority, as well as your secret .key file. There is an &lt;a href="http://wiki.nginx.org/Configuration"&gt;excellent wiki&lt;/a&gt; for other configurations that nginx supports.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
server {

    listen 443 default_server;
    server_name www.example.com;

    ssl on;
    ssl_certificate /usr/local/nginx/conf/server.pem;
    ssl_certificate_key /usr/local/nginx/conf/server.key;
    ssl_session_cache shared:SSL:10m;

    location / {

        proxy_pass http://localhost:8000; # my existing apache instance
        proxy_set_header Host $host;

        # re-write redirects to http as to https, example: /home
        proxy_redirect http:// https://;
    }
}
&lt;/pre&gt;

&lt;p&gt;
Note the proxy_redirect directive. I noticed that when my application performed a redirect internally, it was using the global URL, ie http://www.example.com. To keep the user on the SSL version w/o having to make my application SSL aware, or change to &lt;a href="http://blog.httpwatch.com/2010/02/10/using-protocol-relative-urls-to-switch-between-http-and-https/"&gt;protocol relative&lt;/a&gt; redirects, I simply told nginx to re-write the redirect on the fly. Since I am only asking nginx to handle SSL traffic, it can safely use https for all redirects, given that I'm not redirecting to other sites.
&lt;/p&gt;

&lt;p&gt;
That's it. You just need to start the server with "service nginx start". You can test that it's working in a browser, or "openssl s_client -connect localhost:443" for a more verbose test.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2931607925239394080/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/12/nginx-ssl-reverse-proxy-tutorial.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2931607925239394080'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2931607925239394080'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/12/nginx-ssl-reverse-proxy-tutorial.html' title='nginx + SSL reverse proxy tutorial'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4999321571416362051</id><published>2011-12-16T11:28:00.000-05:00</published><updated>2011-12-16T11:28:21.146-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='facebook'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><category scheme='http://www.blogger.com/atom/ns#' term='oauth'/><title type='text'>Migrate your Python app to Facebook OAuth 2.0</title><content type='html'>&lt;p&gt;
Facebook recently started enforcing OAuth 2.0 on app developers. Supposedly &lt;a href="http://developers.facebook.com/docs/oauth2-https-migration/"&gt;this was slated&lt;/a&gt; for Oct 1, 2011, but in practice it seems to have not started until Dec 15. If, like me, you didn't realize the change was coming until it was already broken, then you might be scrambling for a fix. Here are the changes I needed to make in our Django app using the Facebook &lt;a href="https://github.com/facebook/python-sdk"&gt;python sdk&lt;/a&gt; and &lt;a href="http://developers.facebook.com/docs/reference/javascript/"&gt;javascript sdk&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
On the javascript side, there are some new &lt;a href="http://developers.facebook.com/docs/reference/javascript/FB.init/"&gt;FB.init&lt;/a&gt; options. Here is our old code:
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
window.fbAsyncInit = function() {
 FB.init({appId: window.FACEBOOK_TOKEN, status: true, cookie: true, xfbml: true});
 FB.Canvas.setAutoResize();
};
&lt;/pre&gt;

&lt;p&gt;
And here is the new code:
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
window.fbAsyncInit = function() {
    FB.init({
      appId      : window.FACEBOOK_TOKEN,
      channelUrl : window.SITE_URL + &amp;quot;/static/channel.html&amp;quot;,
      status     : true,
      cookie     : true,
      oauth      : true,
      xfbml      : false
    });
    FB.Canvas.setAutoResize();
  };
&lt;/pre&gt;

&lt;p&gt;
Notice the "oauth" setting, and the "channelUrl" setting. channelUrl references a static file on your server, and is used to work-around cross domain scripting issues. It just needs to have the following static content in it:
&lt;/p&gt;


&lt;pre name="code" class="html"&gt;
&amp;lt;script src=&amp;quot;//connect.facebook.net/en_US/all.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Besides the init method, the &lt;a href="http://developers.facebook.com/docs/reference/javascript/FB.login/"&gt;FB.login&lt;/a&gt; changed the name on the permissions attribute from "perms" to "scope":
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
FB.login(function(response) {
    /* ... do stuff here */
}, { scope: &amp;quot;publish_stream,offline_access&amp;quot; }); /* used to be &amp;quot;perms&amp;quot;
&lt;/pre&gt;

&lt;p&gt;
The more troublesome change was on the Python SDK side. Previously, when the javascript sdk authenticated a user, it would add a "_fbs_APP_ID" cookie to the response, which you would use get_user_from_cookie() from the python sdk to parse. With the OAuth 2.0 change, they moved to a new _fb&lt;em&gt;r&lt;/em&gt;_APP_ID cookie (note the "r"), with a new format. As of Dec 15, the official &lt;a href="https://github.com/facebook/python-sdk"&gt;python sdk&lt;/a&gt; has not been updated to support this new format. 
&lt;/p&gt;

&lt;p&gt;
Luckily, I was &lt;a href="http://facebook.stackoverflow.com/questions/7585488/python-oauth-2-0-new-fbsr-facebook-cookie-error-validating-verification-code"&gt;able to find&lt;/a&gt; a &lt;a href="https://gist.github.com/1190267"&gt;community produced version&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
#!/usr/bin/env python
#
# Copyright 2010 Facebook
#
# Licensed under the Apache License, Version 2.0 (the &amp;quot;License&amp;quot;); you may
# not use this file except in compliance with the License. You may obtain
# a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &amp;quot;AS IS&amp;quot; BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.

&amp;quot;&amp;quot;&amp;quot;Python client library for the Facebook Platform.

This client library is designed to support the Graph API and the official
Facebook JavaScript SDK, which is the canonical way to implement
Facebook authentication. Read more about the Graph API at
http://developers.facebook.com/docs/api. You can download the Facebook
JavaScript SDK at http://github.com/facebook/connect-js/.

If your application is using Google AppEngine's webapp framework, your
usage of this module might look like this:

    user = facebook.get_user_from_cookie(self.request.cookies, key, secret)
    if user:
        graph = facebook.GraphAPI(user[&amp;quot;access_token&amp;quot;])
        profile = graph.get_object(&amp;quot;me&amp;quot;)
        friends = graph.get_connections(&amp;quot;me&amp;quot;, &amp;quot;friends&amp;quot;)

&amp;quot;&amp;quot;&amp;quot;

import cgi
import hashlib
import time
import urllib

# Find a JSON parser
try:
    import json
    _parse_json = lambda s: json.loads(s)
except ImportError:
    try:
        import simplejson
        _parse_json = lambda s: simplejson.loads(s)
    except ImportError:
        # For Google AppEngine
        from django.utils import simplejson
        _parse_json = lambda s: simplejson.loads(s)


class GraphAPI(object):
    &amp;quot;&amp;quot;&amp;quot;A client for the Facebook Graph API.

    See http://developers.facebook.com/docs/api for complete documentation
    for the API.

    The Graph API is made up of the objects in Facebook (e.g., people, pages,
    events, photos) and the connections between them (e.g., friends,
    photo tags, and event RSVPs). This client provides access to those
    primitive types in a generic way. For example, given an OAuth access
    token, this will fetch the profile of the active user and the list
    of the user's friends:

       graph = facebook.GraphAPI(access_token)
       user = graph.get_object(&amp;quot;me&amp;quot;)
       friends = graph.get_connections(user[&amp;quot;id&amp;quot;], &amp;quot;friends&amp;quot;)

    You can see a list of all of the objects and connections supported
    by the API at http://developers.facebook.com/docs/reference/api/.

    You can obtain an access token via OAuth or by using the Facebook
    JavaScript SDK. See http://developers.facebook.com/docs/authentication/
    for details.

    If you are using the JavaScript SDK, you can use the
    get_user_from_cookie() method below to get the OAuth access token
    for the active user from the cookie saved by the SDK.
    &amp;quot;&amp;quot;&amp;quot;
    def __init__(self, access_token=None):
        self.access_token = access_token

    def get_object(self, id, **args):
        &amp;quot;&amp;quot;&amp;quot;Fetchs the given object from the graph.&amp;quot;&amp;quot;&amp;quot;
        return self.request(id, args)

    def get_objects(self, ids, **args):
        &amp;quot;&amp;quot;&amp;quot;Fetchs all of the given object from the graph.

        We return a map from ID to object. If any of the IDs are invalid,
        we raise an exception.
        &amp;quot;&amp;quot;&amp;quot;
        args[&amp;quot;ids&amp;quot;] = &amp;quot;,&amp;quot;.join(ids)
        return self.request(&amp;quot;&amp;quot;, args)

    def get_connections(self, id, connection_name, **args):
        &amp;quot;&amp;quot;&amp;quot;Fetchs the connections for given object.&amp;quot;&amp;quot;&amp;quot;
        return self.request(id + &amp;quot;/&amp;quot; + connection_name, args)

    def put_object(self, parent_object, connection_name, **data):
        &amp;quot;&amp;quot;&amp;quot;Writes the given object to the graph, connected to the given parent.

        For example,

            graph.put_object(&amp;quot;me&amp;quot;, &amp;quot;feed&amp;quot;, message=&amp;quot;Hello, world&amp;quot;)

        writes &amp;quot;Hello, world&amp;quot; to the active user's wall. Likewise, this
        will comment on a the first post of the active user's feed:

            feed = graph.get_connections(&amp;quot;me&amp;quot;, &amp;quot;feed&amp;quot;)
            post = feed[&amp;quot;data&amp;quot;][0]
            graph.put_object(post[&amp;quot;id&amp;quot;], &amp;quot;comments&amp;quot;, message=&amp;quot;First!&amp;quot;)

        See http://developers.facebook.com/docs/api#publishing for all of
        the supported writeable objects.

        Most write operations require extended permissions. For example,
        publishing wall posts requires the &amp;quot;publish_stream&amp;quot; permission. See
        http://developers.facebook.com/docs/authentication/ for details about
        extended permissions.
        &amp;quot;&amp;quot;&amp;quot;
        assert self.access_token, &amp;quot;Write operations require an access token&amp;quot;
        return self.request(parent_object + &amp;quot;/&amp;quot; + connection_name, post_args=data)

    def put_wall_post(self, message, attachment={}, profile_id=&amp;quot;me&amp;quot;):
        &amp;quot;&amp;quot;&amp;quot;Writes a wall post to the given profile's wall.

        We default to writing to the authenticated user's wall if no
        profile_id is specified.

        attachment adds a structured attachment to the status message being
        posted to the Wall. It should be a dictionary of the form:

            {&amp;quot;name&amp;quot;: &amp;quot;Link name&amp;quot;
             &amp;quot;link&amp;quot;: &amp;quot;http://www.example.com/&amp;quot;,
             &amp;quot;caption&amp;quot;: &amp;quot;{*actor*} posted a new review&amp;quot;,
             &amp;quot;description&amp;quot;: &amp;quot;This is a longer description of the attachment&amp;quot;,
             &amp;quot;picture&amp;quot;: &amp;quot;http://www.example.com/thumbnail.jpg&amp;quot;}

        &amp;quot;&amp;quot;&amp;quot;
        return self.put_object(profile_id, &amp;quot;feed&amp;quot;, message=message, **attachment)

    def put_comment(self, object_id, message):
        &amp;quot;&amp;quot;&amp;quot;Writes the given comment on the given post.&amp;quot;&amp;quot;&amp;quot;
        return self.put_object(object_id, &amp;quot;comments&amp;quot;, message=message)

    def put_like(self, object_id):
        &amp;quot;&amp;quot;&amp;quot;Likes the given post.&amp;quot;&amp;quot;&amp;quot;
        return self.put_object(object_id, &amp;quot;likes&amp;quot;)

    def delete_object(self, id):
        &amp;quot;&amp;quot;&amp;quot;Deletes the object with the given ID from the graph.&amp;quot;&amp;quot;&amp;quot;
        self.request(id, post_args={&amp;quot;method&amp;quot;: &amp;quot;delete&amp;quot;})

    def request(self, path, args=None, post_args=None):
        &amp;quot;&amp;quot;&amp;quot;Fetches the given path in the Graph API.

        We translate args to a valid query string. If post_args is given,
        we send a POST request to the given path with the given arguments.
        &amp;quot;&amp;quot;&amp;quot;
        if not args: args = {}
        if self.access_token:
            if post_args is not None:
                post_args[&amp;quot;access_token&amp;quot;] = self.access_token
            else:
                args[&amp;quot;access_token&amp;quot;] = self.access_token
        post_data = None if post_args is None else urllib.urlencode(post_args)
        file = urllib.urlopen(&amp;quot;https://graph.facebook.com/&amp;quot; + path + &amp;quot;?&amp;quot; +
                              urllib.urlencode(args), post_data)
        try:
            response = _parse_json(file.read())
        finally:
            file.close()
        if response.get(&amp;quot;error&amp;quot;):
            raise GraphAPIError(response[&amp;quot;error&amp;quot;][&amp;quot;type&amp;quot;],
                                response[&amp;quot;error&amp;quot;][&amp;quot;message&amp;quot;])
        return response


class GraphAPIError(Exception):
    def __init__(self, type, message):
        Exception.__init__(self, message)
        self.type = type


##### NEXT TWO FUNCTIONS PULLED FROM https://github.com/jgorset/facepy/blob/master/facepy/signed_request.py

import base64
import hmac


def urlsafe_b64decode(str):
    &amp;quot;&amp;quot;&amp;quot;Perform Base 64 decoding for strings with missing padding.&amp;quot;&amp;quot;&amp;quot;

    l = len(str)
    pl = l % 4
    return base64.urlsafe_b64decode(str.ljust(l+pl, &amp;quot;=&amp;quot;))


def parse_signed_request(signed_request, secret):
    &amp;quot;&amp;quot;&amp;quot;
    Parse signed_request given by Facebook (usually via POST),
    decrypt with app secret.

    Arguments:
    signed_request -- Facebook's signed request given through POST
    secret -- Application's app_secret required to decrpyt signed_request
    &amp;quot;&amp;quot;&amp;quot;

    if &amp;quot;.&amp;quot; in signed_request:
        esig, payload = signed_request.split(&amp;quot;.&amp;quot;)
    else:
        return {}

    sig = urlsafe_b64decode(str(esig))
    data = _parse_json(urlsafe_b64decode(str(payload)))

    if not isinstance(data, dict):
        raise SignedRequestError(&amp;quot;Pyload is not a json string!&amp;quot;)
        return {}

    if data[&amp;quot;algorithm&amp;quot;].upper() == &amp;quot;HMAC-SHA256&amp;quot;:
        if hmac.new(secret, payload, hashlib.sha256).digest() == sig:
            return data

    else:
        raise SignedRequestError(&amp;quot;Not HMAC-SHA256 encrypted!&amp;quot;)

    return {}



def get_user_from_cookie(cookies, app_id, app_secret):
    &amp;quot;&amp;quot;&amp;quot;Parses the cookie set by the official Facebook JavaScript SDK.

    cookies should be a dictionary-like object mapping cookie names to
    cookie values.

    If the user is logged in via Facebook, we return a dictionary with the
    keys &amp;quot;uid&amp;quot; and &amp;quot;access_token&amp;quot;. The former is the user's Facebook ID,
    and the latter can be used to make authenticated requests to the Graph API.
    If the user is not logged in, we return None.

    Download the official Facebook JavaScript SDK at
    http://github.com/facebook/connect-js/. Read more about Facebook
    authentication at http://developers.facebook.com/docs/authentication/.
    &amp;quot;&amp;quot;&amp;quot;

    cookie = cookies.get(&amp;quot;fbsr_&amp;quot; + app_id, &amp;quot;&amp;quot;)
    if not cookie:
        return None

    response = parse_signed_request(cookie, app_secret)
    if not response:
        return None

    args = dict(
        code = response['code'],
        client_id = app_id,
        client_secret = app_secret,
        redirect_uri = '',
    )

    file = urllib.urlopen(&amp;quot;https://graph.facebook.com/oauth/access_token?&amp;quot; + urllib.urlencode(args))
    try:
        token_response = file.read()
    finally:
        file.close()

    access_token = cgi.parse_qs(token_response)[&amp;quot;access_token&amp;quot;][-1]

    return dict(
        uid = response[&amp;quot;user_id&amp;quot;],
        access_token = access_token,
    )
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4999321571416362051/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/12/migrate-your-python-app-to-facebook.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4999321571416362051'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4999321571416362051'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/12/migrate-your-python-app-to-facebook.html' title='Migrate your Python app to Facebook OAuth 2.0'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6322515051376180768</id><published>2011-12-09T14:12:00.001-05:00</published><updated>2011-12-09T14:16:08.821-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='jquery'/><category scheme='http://www.blogger.com/atom/ns#' term='twitter'/><title type='text'>jQuery hashtag input control</title><content type='html'>&lt;p&gt;
This jQuery snippet will turn an INPUT element into a hashtag input control. For example, if the user type "jobs business networking", it will translate it into "#jobs #business #networking" as they are typing it. It will also string commas and whitespace. 
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
$(document).ready(function() {

 $(&amp;quot;input.hastags&amp;quot;).bind(&amp;quot;keyup&amp;quot;, function () {

  /* replaces text as you type with hashtags */

  var input = $(this);
  var value = input.val();
  var ends_with_space = (value.substr(-1) == &amp;quot; &amp;quot;);

  var hashed_value = &amp;quot;&amp;quot;;
  var parts = value.split(&amp;quot; &amp;quot;);
  for (var i = 0; i &amp;lt; parts.length; i++) {
   var part = parts[i];
   if (part.indexOf(&amp;quot;#&amp;quot;) != 0) {
    part = &amp;quot;#&amp;quot; + part;
   }
   if (part != &amp;quot;#&amp;quot;) {
    if (hashed_value == &amp;quot;&amp;quot;) {
     hashed_value = part;
    } else {
     hashed_value += &amp;quot; &amp;quot; + part;
    }
   }
  }
  if (ends_with_space) {
   hashed_value = hashed_value + &amp;quot; &amp;quot;;
  }
  input.val(hashed_value.replace(&amp;quot;,&amp;quot;, &amp;quot;&amp;quot;));
 });

});
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6322515051376180768/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/12/jquery-hashtag-input-control.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6322515051376180768'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6322515051376180768'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/12/jquery-hashtag-input-control.html' title='jQuery hashtag input control'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6065996837675232312</id><published>2011-12-02T10:14:00.001-05:00</published><updated>2011-12-02T10:32:07.026-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='unity'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><title type='text'>Ubuntu 11.10 Lock Screen - Suspend Monitors</title><content type='html'>&lt;p&gt;
Whenever I get up from my desk, I reflexively &lt;a href="http://www.codinghorror.com/blog/2007/11/dont-forget-to-lock-your-computer.html"&gt;lock my workstation&lt;/a&gt;. Ever since upgrading to Ubuntu 11.10, this has failed to put my monitors into suspend mode. In addition, it also continues to display some parts of the Unity interface, most critically the title of the currently active window.
&lt;/p&gt;

&lt;img src='https://lh3.googleusercontent.com/-qvBtXw5FT7M/Ttjo8Q9-ggI/AAAAAAAALn8/jvH7fz5HPEo/s600/lockscreen.png'&gt;

&lt;p&gt;
I assume that it's related to using the proprietary ATI drivers, possibly also with multiple monitors. I've actually &lt;a href="https://bugs.launchpad.net/ubuntu/+source/gnome-screensaver/+bug/899201"&gt;filed a bug&lt;/a&gt; for it, and I'm not the &lt;a href="https://bugs.launchpad.net/ubuntu/+source/unity-2d/+bug/830348"&gt;only&lt;/a&gt; &lt;a href="https://bugs.launchpad.net/ubuntu/+source/unity-2d/+bug/820041"&gt;one&lt;/a&gt;. In the meantime, there is a work-around, at least for the power saving component. Here is the bash script:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
#!/bin/bash
gnome-screensaver-command -l
sleep 3
xset dpms force off
&lt;/pre&gt;

&lt;p&gt;
Save this as a file, mark it as executable (chmod +x), and they you can map a custom keyboard shortcut to it.
&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Open the keyboard shortcut configuration ("keyboard" from the dash)&lt;/li&gt;
&lt;li&gt;Go to "Custom Shortcuts"&lt;/li&gt;
&lt;li&gt;Add a shortcut called "Lock Screen + Sleep Monitor", and point it to the bash script.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;
On my machine, I've mapped it to Control + ALT + L. It doesn't solve the security issue, but at least you're not burning out your monitors.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6065996837675232312/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/12/ubuntu-1110-lock-screen-suspend.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6065996837675232312'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6065996837675232312'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/12/ubuntu-1110-lock-screen-suspend.html' title='Ubuntu 11.10 Lock Screen - Suspend Monitors'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh3.googleusercontent.com/-qvBtXw5FT7M/Ttjo8Q9-ggI/AAAAAAAALn8/jvH7fz5HPEo/s72-c/lockscreen.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3896096374193936146</id><published>2011-11-23T14:22:00.001-05:00</published><updated>2011-11-28T13:25:34.975-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Python/Django: disk based caching decorator</title><content type='html'>&lt;p&gt;
One of the great things about Django's caching framework is that you can cache complex objects. Say you have a list of dictionaries representing favorite movies from Netflix. You can jam that sucker right into the cache as is. No need to normalize it into a relational database schema, unless you actually need to deal with it relationaly. 
&lt;/p&gt;

&lt;p&gt;
The most popular Django cache back-end is memcached. If you do such caching a lot, you will eventually run into a limit on the maximum size of those objects, &lt;a href="http://code.google.com/p/memcached/wiki/FAQ#Why_are_items_limited_to_1_megabyte_in_size?"&gt;which is 1MB&lt;/a&gt;. Now, you could just up the configured limit. But you need to worry about potentially kicking other items out of the cache early as you increase the average cached object's size.
&lt;/p&gt;

&lt;p&gt;
In the case of Netflix movies, maybe the speed of the cache isn't important. If you're just caching them to save an API hit, and you only need the data occasionally, maybe you can get away to caching to disk. This will keep the hit rate on your regular cache high.
&lt;/p&gt;

&lt;p&gt;
Here is a quick a dirty decorator that takes any object that pickle can serialize, and writes it to a file. Subsequent calls to the decorator just bring backed the cached object for a configurable duration of time.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def cache_disk(seconds = 900, cache_folder=&amp;quot;/tmp&amp;quot;):
    def doCache(f):
        def inner_function(*args, **kwargs):

            # calculate a cache key based on the decorated method signature
            key = sha1(str(f.__module__) + str(f.__name__) + str(args) + str(kwargs)).hexdigest()
            filepath = os.path.join(cache_folder, key)

            # verify that the cached object exists and is less than $seconds old
            if os.path.exists(filepath):
                modified = os.path.getmtime(filepath)
                age_seconds = time.time() - modified
                if age_seconds &amp;lt; seconds:
                    return pickle.load(open(filepath, &amp;quot;rb&amp;quot;))

            # call the decorated function...
            result = f(*args, **kwargs)

            # ... and save the cached object for next time
            pickle.dump(result, open(filepath, &amp;quot;wb&amp;quot;))

            return result
        return inner_function
    return doCache
&lt;/pre&gt;

&lt;p&gt;
You can then wrap any function in this decorator to cache the results to disk.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
@cache_disk(seconds = 900, cache_folder=&amp;quot;/tmp&amp;quot;):
def get_netflix_favorites(account_id):
   ... do somthing really expensive
   return {
      "account_id": account_id,
      "data": {
           ... more stuff here
      }
   }
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3896096374193936146/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/11/pythondjango-disk-based-caching.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3896096374193936146'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3896096374193936146'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/11/pythondjango-disk-based-caching.html' title='Python/Django: disk based caching decorator'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3790413482480444373</id><published>2011-11-18T11:53:00.001-05:00</published><updated>2011-11-18T12:02:04.469-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><category scheme='http://www.blogger.com/atom/ns#' term='upstart'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><title type='text'>Running a JAR as a service (Linux/upstart)</title><content type='html'>&lt;p&gt;
Running a java JAR as a daemon in Linux is fairly easy, but it took me some digging to figure out how. This is using the new &lt;a href="http://upstart.ubuntu.com/"&gt;upstart&lt;/a&gt; init script functionality, which is included in recent distributions of Ubuntu. 
&lt;/p&gt;

&lt;p&gt;
Instead of creating a script in /etc/init.d, as with &lt;a href="http://en.wikipedia.org/wiki/Init"&gt;System-V init&lt;/a&gt;, you create a .conf file in /etc/init. The syntax is much simpler, and upstart takes care of PID files and killing the process for you. You don't have to mark the file as executable.
&lt;/p&gt;

&lt;p&gt;
This particular example is for a java JAR by SauceLabs for their &lt;a href="http://saucelabs.com/docs/sauce-connect"&gt;SauceConnect&lt;/a&gt; service. All you have to do is create the following as /etc/init/sauceconnect.conf, where "sauceconnect" is the name of the service you will be invoking with service start/stop.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
description "SauceLabs SauceConnect Service"
author "Chase Seibert"

start on runlevel [3]
stop on shutdown

expect fork

script   
    cd /home/chase/bullhorn/tools/sauceconnect
    java -jar /home/chase/bullhorn/tools/sauceconnect/Sauce-Connect.jar USERNAME PASSWORD &gt;/var/log/sauceconnect.log 2&gt;&amp;1
    emit sauceconnect_running
end script
&lt;/pre&gt;

&lt;p&gt;
That's it. Now you can issue the "service sauceconnect start" and "service sauceconnect stop" commands. You can tail /var/log/sauceconnect.log to verify that it's working.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3790413482480444373/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/11/running-jar-as-service-linuxupstart.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3790413482480444373'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3790413482480444373'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/11/running-jar-as-service-linuxupstart.html' title='Running a JAR as a service (Linux/upstart)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4474793241442740903</id><published>2011-11-10T13:09:00.001-05:00</published><updated>2011-11-10T13:09:12.621-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='backup'/><category scheme='http://www.blogger.com/atom/ns#' term='gmail'/><category scheme='http://www.blogger.com/atom/ns#' term='dropbox'/><title type='text'>Backing up gmail to Dropbox using getmail on Linux</title><content type='html'>&lt;p&gt;
What if gmail went away tomorrow, or at least deleted all your mail? It may &lt;a href="http://techcrunch.com/2006/12/28/gmail-disaster-reports-of-mass-email-deletions/"&gt;not be as far fetched&lt;/a&gt; as you think. It's always prudent to have a backup.
&lt;/p&gt;

&lt;p&gt;
On Linux, you can use the excellent &lt;a href="http://pyropus.ca/software/getmail/"&gt;getmail&lt;/a&gt; program to backup any POP3 or IMAP account. For gmail in particular, the first step is to &lt;a href="https://mail.google.com/support/bin/answer.py?answer=77695"&gt;enable IMAP access&lt;/a&gt;.
&lt;/p&gt;

&lt;img src='http://www.tipsfor.us/wp-content/uploads/2008/12/gmail-enable-imap.png'&gt;

&lt;p&gt;
Installing and configuring getmail is simple.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
sudo apt-get install getmail

# decide where you want you mail to live, and create an empty file there
touch ~/Dropbox/backup/gmail.mbox

mkdir ~/.getmail
vim ~/.getmail/getmailrc

# add the following
[retriever]
type = SimpleIMAPSSLRetriever
server = imap.gmail.com
username = YOURGMAILADDRESS
password = YOUGMAILPASSWORD
mailboxes = ("[Gmail]/All Mail",)

[destination]
type = Mboxrd
path = ~/Dropbox/backup/gmail.mbox

[options]
read_all = False # just get the new messages on subsequent runs
message_log_syslog = True
&lt;/pre&gt;

&lt;p&gt;
You can test whether your configuration working by running getmail manually from the command line. The initial download can take a while to begin if you have thousands of messages. The actual download will likewise take a long time for large mailboxes. While it's in progress, you will get a series of log messages on the console (and in syslog). 
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
getmail

... several minutes later ...

SimpleIMAPSSLRetriever:chase.seibert@gmail.com@imap.gmail.com:993:
  msg      1/105702 (325 bytes) delivered
  msg      2/105702 (335 bytes) delivered
  msg      3/105702 (363 bytes) delivered
  msg      4/105702 (180479 bytes) delivered
  msg      5/105702 (311 bytes) delivered
  msg      6/105702 (1057 bytes) delivered
  msg      7/105702 (818 bytes) delivered
  msg      8/105702 (331 bytes) delivered
  msg      9/105702 (321 bytes) delivered
  msg     10/105702 (882 bytes) delivered
  msg     11/105702 (1201 bytes) delivered
  msg     12/105702 (1614 bytes) delivered
  msg     13/105702 (359 bytes) delivered
  msg     14/105702 (359 bytes) delivered
  ...
&lt;/pre&gt;

&lt;p&gt;
I choose to configure getmail to use a single &lt;a href="http://en.wikipedia.org/wiki/Mbox"&gt;mbox file&lt;/a&gt;, but you can also use one file per message. In addition to this large file, getmail will keep a smaller index file in ~/.getmail. 
&lt;/p&gt;

&lt;p&gt;
If you want, you can setup a cron job to update your backup nightly.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
crontab -e

# add the following line, which will run the backup at 1AM every day
* 1 * * * /usr/bin/getmail &gt;/dev/null 2&gt;&amp;1
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4474793241442740903/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/11/backing-up-gmail-to-dropbox-using.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4474793241442740903'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4474793241442740903'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/11/backing-up-gmail-to-dropbox-using.html' title='Backing up gmail to Dropbox using getmail on Linux'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5224676343644674385</id><published>2011-10-28T14:56:00.002-04:00</published><updated>2011-10-28T14:56:48.787-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><category scheme='http://www.blogger.com/atom/ns#' term='nagios'/><category scheme='http://www.blogger.com/atom/ns#' term='varnish'/><title type='text'>Nagios check for Varnish Backends</title><content type='html'>&lt;p&gt;
We recently starting using &lt;a href="https://www.varnish-cache.org/"&gt;Varnish&lt;/a&gt; to cache un-authenticated requests to our web farm. It even has this great feature called &lt;a href="https://www.varnish-cache.org/docs/trunk/tutorial/handling_misbehaving_servers.html"&gt;grace mode&lt;/a&gt;, where it will keep serving a cached version of a page if the back-end server goes down. But we still want to be alerted that the back-end is down.
&lt;/p&gt;

&lt;p&gt;
I wrote a Nagios check to do just that. It's written in Python, and using the varnishadm command-line tool that ships with Varnish.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
#!/usr/bin/python
# save as /usr/lib/nagios/plugins/check_varnish_backends.py

from optparse import OptionParser
import subprocess

def getOptions():
    arguments = OptionParser()
    arguments.add_option(&amp;quot;--host&amp;quot;, dest=&amp;quot;host&amp;quot;, help=&amp;quot;Host varnishadm is running on&amp;quot;, type=&amp;quot;string&amp;quot;, default=&amp;quot;localhost&amp;quot;)
    arguments.add_option(&amp;quot;--port&amp;quot;, dest=&amp;quot;port&amp;quot;, help=&amp;quot;varnishadm port&amp;quot;, type=&amp;quot;string&amp;quot;, default=&amp;quot;6082&amp;quot;)
    arguments.add_option(&amp;quot;--secret&amp;quot;, dest=&amp;quot;secret&amp;quot;, help=&amp;quot;varnishadm secret file&amp;quot;, type=&amp;quot;string&amp;quot;, default=&amp;quot;/etc/varnish/secret&amp;quot;)
    arguments.add_option(&amp;quot;--command&amp;quot;, dest=&amp;quot;command&amp;quot;, help=&amp;quot;varnishadm backend health command&amp;quot;, type=&amp;quot;string&amp;quot;, default=&amp;quot;debug.health&amp;quot;)
    return arguments.parse_args()[0]

def run(command, exit_on_fail=True):
    # don't use check_output in order to supportPython 2.6
    process = subprocess.Popen(command.split(&amp;quot; &amp;quot;), stdout=subprocess.PIPE)
    output, unused_err = process.communicate()
    _retcode = process.poll()
    return output

if __name__ == '__main__':

    options = getOptions()
    varnishadm_raw = run(&amp;quot;varnishadm -T %(host)s:%(port)s -S %(secret)s %(command)s&amp;quot; % options.__dict__)

    lines = varnishadm_raw.split(&amp;quot;\n&amp;quot;)
    backends_sick, backends_healthy = [], []
    for line in lines:
        if line.startswith(&amp;quot;Backend&amp;quot;):
            if line.endswith(&amp;quot;Sick&amp;quot;):
                backends_sick.append(line)
            else:
                backends_healthy.append(line)

    if not backends_healthy and not backends_sick:
        print &amp;quot;There are NO backends&amp;quot;
        exit(2)

    if backends_sick:
        print &amp;quot;&amp;quot;.join(backends_sick)
        exit(2)

    print &amp;quot;All %s backends are healthy&amp;quot; % len(backends_healthy)
&lt;/pre&gt;

&lt;p&gt;
Because varnishadm uses a shared secret file, I decided to have the checks run on the actual Varnish hosts, using Nagios NRPE.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# add the following config line on the varnish hosts
vim /etc/nagios/nrpe.cfg
command[check_varnish_backends]=/usr/lib/nagios/plugins/check_varnish_backends.py

service nagios-nrpe-server restart

# and configure the Nagios server to look for that check
vim /etc/nagios3/conf.d/services_nagios2.cfg
define service {
        use                             generic-service
        hostgroup_name                  proxy-servers
        service_description             check_varnish_backends
        check_command                   check_nrpe_1arg!check_varnish_backends
}

service nagios3 restart
&lt;/pre&gt;

&lt;p&gt;
&lt;i&gt;Note:&lt;/i&gt; depending on your setup, you may need to use chmod to give the nagios user access to ready the shared secret file (/etc/varnish/secret) on the Varnish servers. 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5224676343644674385/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/10/nagios-check-for-varnish-backends.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5224676343644674385'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5224676343644674385'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/10/nagios-check-for-varnish-backends.html' title='Nagios check for Varnish Backends'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2249581504162030825</id><published>2011-10-21T15:43:00.002-04:00</published><updated>2011-10-21T15:47:57.364-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='unobtrusive'/><title type='text'>Reduce javascript UI code with Django forms</title><content type='html'>&lt;p&gt;
Typically, I try to implement a dynamic UI feature without javascript on the first pass. Then, I layer in a little javascript goodness to make it more responsive. Whenever I stray from this practice, I inevitably end up re-discovering why I started doing this in the first place. At some point, I become horrified at the amount of javascript I have written, and disheartened at how long it's taking to modify. In short, things have gotten complicated. 
&lt;/p&gt;

&lt;blockquote&gt;
Everything should be made as simple as possible, but no simpler. - &lt;a href="http://en.wikiquote.org/wiki/Albert_Einstein"&gt;Albert Einstein&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
Here is an example from just the other day. The requirements specified a form behavior that we didn't have already on the site. On a list of job records, there should be a close job link. Clicking the link reveals a new form that must be filled out successfully before the job is actually closed. When the form is successfully posted, hide the form and grey out the row. Here is the workflow:
&lt;/p&gt;

&lt;img src='http://lh4.googleusercontent.com/-lRGfcTgteRs/TqG6VGi-T6I/AAAAAAAALhk/TL5j8Y3b-JU/w545-h158-k/close_job1.png'&gt;

&lt;p&gt;
Clicking close job actually just reveals the real form.
&lt;/p&gt;

&lt;img src='http://lh5.googleusercontent.com/-Skmw31d1HY8/TqG6UzBwPMI/AAAAAAAALhk/XFSjL5cRnE4/w545-h158-k/close_job2.png'&gt;

&lt;img src='http://lh4.googleusercontent.com/-Iw0wFSXn4n0/TqG6U6FDLsI/AAAAAAAALhk/Qlj1h6DjetA/w544-h158-n-k/close_job3.png'&gt;

&lt;p&gt;
Attempting to post that form may throw validation exceptions.
&lt;/p&gt;

&lt;img src='http://lh3.googleusercontent.com/-CccK2SHiVT8/TqG6VaegA3I/AAAAAAAALhk/EhsF8xDAfV0/w544-h158-n-k/close_job4.png'&gt;

&lt;p&gt;
When the form is successfully posted, it goes away and the row gets grayed out.
&lt;/p&gt;

&lt;p&gt;
Of course, this is not an overly complicated example, but there are a few moving pieces. Nevertheless, I ended up with almost 100 lines of javascript code, even with the validation logic for the inner form being server side.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
$(document).ready(function() {

 // hitting the initial close link, GETs the form from the back-end and shows it
 $(&amp;quot;.jobs-record-list a.toggle-job-close&amp;quot;).click(function (){

  var link = $(this);
  var record = link.parents(&amp;quot;.record&amp;quot;);
  var form_box = record.find(&amp;quot;.job-close-form-box&amp;quot;);
  var job_link = record.find(&amp;quot;.title a&amp;quot;);

  $.ajax({
   url: link.attr(&amp;quot;href&amp;quot;) + &amp;quot;?ajax&amp;quot;,
   type: &amp;quot;GET&amp;quot;,
   success: function (data) {
    form_box.html(data);
    bind_job_close_form(form_box);
   },
   error: function (jqXHR, textStatus, errorThrown) {
    // fallback to closing the job from the job overview page
    window.location = form.attr(job_link.attr(&amp;quot;href&amp;quot;));
   }
  });

  link.remove();
  return false;
 });

 // process the inner form submit to actually close the job, then put the open link back on the page
 function bind_job_close_form(form_box) {

  var form = form_box.find(&amp;quot;form&amp;quot;);
  var parentRow = form.parents(&amp;quot;.record&amp;quot;);

  form.submit(function () {

   $.ajax({
    url: form.attr(&amp;quot;action&amp;quot;) + &amp;quot;?ajax&amp;quot;,
    type: &amp;quot;POST&amp;quot;,
    data: form.serialize(),
    success: function (data) {
     form_box.hide();
     parentRow.find(&amp;quot;.content&amp;quot;).toggleClass(&amp;quot;record-disabled&amp;quot;);
     parentRow.find(&amp;quot;.block&amp;quot;).toggleClass(&amp;quot;record-disabled&amp;quot;);
     var link = form.find(&amp;quot;a&amp;quot;);
     link.text(link.text() == &amp;quot;close job&amp;quot; ? &amp;quot;open job&amp;quot; : &amp;quot;close job&amp;quot;);
    },
    error: function (jqXHR, textStatus, errorThrown) {
     form_box.html(jqXHR.response);
     bind_job_close_form(form_box); // rebind event handler
    }
   });

   return false;
  });
 }

        // if the page is refresh after the inner form is shown, re-show it
 $(&amp;quot;form.toggle-job-open-closed&amp;quot;).submit(function () {
  var form = $(this);
  var questions = form.find(&amp;quot;.questions&amp;quot;);
  if (questions.is(&amp;quot;:hidden&amp;quot;)) {
   questions.show();
   return false;
  }
  return true;
 });

 // re-opening a job, POST to the server then gray out the row
 $(&amp;quot;a.toggle-job-open&amp;quot;).submit(function () {

  var form = $(this);
  var parentRow = form.parents(&amp;quot;.record&amp;quot;);

  $.ajax({
   url: form.attr(&amp;quot;action&amp;quot;) + &amp;quot;?ajax&amp;quot;,
   data: form.serialize(),
   type: form.attr(&amp;quot;method&amp;quot;),
   success: function (data) {
    parentRow.find(&amp;quot;.content&amp;quot;).toggleClass(&amp;quot;record-disabled&amp;quot;);
    parentRow.find(&amp;quot;.block&amp;quot;).toggleClass(&amp;quot;record-disabled&amp;quot;);    
   }
  });

  return false;
 });
});
&lt;/pre&gt;

&lt;p&gt;
At this stage, my form is rather simple, but I have a view that's trying to do a lot; processing both the Ajax and non-javascript versions of requests this page. I'm also doing some craziness to pass the current form around in the session scope. This is so that if the user refreshes, the form is still in the same state. Here is just the form:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class OpenCloseJobForm(Html5Form):

    candidate = forms.ChoiceField(required=True)

    def __init__(self, *args, **kwargs):

        kwargs = helpers.copy_to_self(self, &amp;quot;job&amp;quot;, kwargs)
        super(OpenCloseJobForm, self).__init__(*args, **kwargs)

        self.fields[&amp;quot;candidate&amp;quot;].label = &amp;quot;Who did you hire for this job?&amp;quot;
        self.fields[&amp;quot;candidate&amp;quot;].required = False
        self.fields[&amp;quot;candidate&amp;quot;].choices = [(&amp;quot;&amp;quot;, &amp;quot;-------------&amp;quot;)]
        candidates = Candidate.objects.filter(job=self.job)
        self.fields[&amp;quot;candidate&amp;quot;].choices += [(&amp;quot;Candidates&amp;quot;, [(c.id, c) for c in candidates] + [(&amp;quot;other&amp;quot;, &amp;quot;Someone else&amp;quot; if candidates else &amp;quot;Candidate not in %s&amp;quot; % settings.SITE_NAME)])]
        self.fields[&amp;quot;candidate&amp;quot;].choices += [(&amp;quot;none&amp;quot;, &amp;quot;No hire made&amp;quot;)]

    def clean_candidate(self):
        candidate = self.cleaned_data.get(&amp;quot;candidate&amp;quot;)
        if not candidate:
            raise forms.ValidationError(&amp;quot;This field is required.&amp;quot;)
        return candidate

    def save(self):

        choice = self.data.get(&amp;quot;candidate&amp;quot;)

        if not choice:
            return None

        Hire.objects.filter(job=self.job).delete()

        if choice == &amp;quot;none&amp;quot;:
            return None

        candidate_id = choice
        candidate = None if choice == &amp;quot;other&amp;quot; else Candidate.objects.get(id=candidate_id)

        hire = Hire(job=self.job, candidate=candidate)
        hire.save()
        return hire
&lt;/pre&gt;

&lt;p&gt;
At this point, I decide to refactor to move as much of the UI logic as possible into the form itself, and reduce the amount of javsacript. I end up with a widget and a form that implements the show/hide inner form behavior. That part grows from 40 lines to 90 lines.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class ToggleLinkWidget(widgets.HiddenInput):

    button_value = None

    def __init__(self, attrs=None, check_test=bool, button_value=&amp;quot;toggle&amp;quot;):
        super(ToggleLinkWidget, self).__init__(attrs)
        self.button_value = button_value

    def render(self, name, value, attrs=None):
        html = super(ToggleLinkWidget, self).render(name, value, attrs)
        link = &amp;quot;&amp;quot;
        if not value:
            button_value = self.button_value
            return &amp;quot;&amp;lt;input class='button-link' type='submit' name='%(name)s' value='%(button_value)s'&amp;gt;&amp;quot; % locals()
        return html

class OpenCloseJobForm(Html5Form):

    job_id = fields.CharField(required=True, widget=widgets.HiddenInput())
    expanded = fields.BooleanField(required=False, initial=False, widget=ToggleLinkWidget(button_value=&amp;quot;close&amp;quot;))
    candidate = fields.ChoiceField(required=True)

    def __init__(self, *args, **kwargs):

        super(OpenCloseJobForm, self).__init__(*args, **kwargs)
        self.job = Job.objects.get(id=self.data.get(&amp;quot;job_id&amp;quot;))

        self.fields[&amp;quot;candidate&amp;quot;].label = &amp;quot;Who did you hire for this job?&amp;quot;
        self.fields[&amp;quot;candidate&amp;quot;].required = False
        self.fields[&amp;quot;candidate&amp;quot;].choices = [(&amp;quot;&amp;quot;, &amp;quot;-------------&amp;quot;)]
        candidates = Candidate.objects.filter(job=self.job)
        self.fields[&amp;quot;candidate&amp;quot;].choices += [(&amp;quot;Candidates&amp;quot;, [(c.id, c) for c in candidates] + [(&amp;quot;other&amp;quot;, &amp;quot;Someone else&amp;quot; if candidates else &amp;quot;Candidate not in %s&amp;quot; % settings.SITE_NAME)])]
        self.fields[&amp;quot;candidate&amp;quot;].choices += [(&amp;quot;none&amp;quot;, &amp;quot;No hire made&amp;quot;)]

        # the close button is NOT toggled on; hide thother fields
        if not self.is_expanded():
            del self.fields[&amp;quot;candidate&amp;quot;]

        # don't show validation errors when first expanding the form
        if not self.data.get(&amp;quot;inner-submit&amp;quot;):
            self._errors = {}

    def is_valid(self):
        if self.data.get(&amp;quot;inner-submit&amp;quot;):
            return super(OpenCloseJobForm, self).is_valid()
        return False

    def is_expanded(self):
        return self.data and self.data.get(&amp;quot;expanded&amp;quot;) == &amp;quot;close&amp;quot;

    def as_ul(self):
        html = super(OpenCloseJobForm, self).as_ul()
        if self.is_expanded():
            button = &amp;quot;&amp;lt;input type='submit' name='inner-submit' value='Close Job'&amp;gt;&amp;quot;
            return mark_safe(&amp;quot;&amp;lt;div class='expanded-box'&amp;gt;%(html)s %(button)s&amp;lt;/div&amp;gt;&amp;quot; % locals())
        return html

    def clean_candidate(self):
        candidate = self.cleaned_data.get(&amp;quot;candidate&amp;quot;)
        if not candidate:
            raise forms.ValidationError(&amp;quot;This field is required.&amp;quot;)
        return candidate

    def save(self, request):

        self.job.is_open = not self.job.is_open

        if self.job.is_open:
            Hire.objects.filter(job=self.job).delete()
            messages.success(request, &amp;quot;%s was set to open and is publicly available.&amp;quot; % self.job)
        else:
            messages.success(request, &amp;quot;%s was closed and is no longer available publicly.&amp;quot; % self.job)

        self.job.save()

        choice = self.data.get(&amp;quot;candidate&amp;quot;)

        if not choice:
            return None

        Hire.objects.filter(job=self.job).delete()

        if choice == &amp;quot;none&amp;quot;:
            return None

        candidate_id = choice
        candidate = None if choice == &amp;quot;other&amp;quot; else Candidate.objects.get(id=candidate_id)

        hire = Hire(job=self.job, candidate=candidate)
        hire.save()
        return hire
&lt;/pre&gt;

&lt;p&gt;
But look at the javascript, which has shrunk from 90 lines to 40.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
$(document).ready(function() {

 function submit_handler() {

  var button = $(this);
  var record = button.parents(&amp;quot;.record&amp;quot;);
  var form = record.find(&amp;quot;.job-prompt-hire-form&amp;quot;);
  var form_box = form.parents(&amp;quot;.form-box&amp;quot;);
  var job_link = record.find(&amp;quot;.title a&amp;quot;);

  var form_data = form.serialize();
  // also record which input button was pressed
  if (button.is(&amp;quot;.button-link&amp;quot;)) {
   form_data = form_data += &amp;quot;&amp;amp;expanded=close&amp;quot;;
  } else {
   form_data = form_data += &amp;quot;&amp;amp;inner-submit=Close Job&amp;quot;;
  }

  $.ajax({
   url: form.attr(&amp;quot;action&amp;quot;) + &amp;quot;?ajax&amp;quot;,
   data: form_data,
   type: form.attr(&amp;quot;method&amp;quot;),
   success: function (data) {
    form_box.html(data);
    if (!data) {
     record.find(&amp;quot;.content&amp;quot;).toggleClass(&amp;quot;record-disabled&amp;quot;);
     record.find(&amp;quot;.block&amp;quot;).toggleClass(&amp;quot;record-disabled&amp;quot;);
    }
   },
   error: function (jqXHR, textStatus, errorThrown) {
    // fallback to closing the job from the job overview page
    window.location = form.attr(job_link.attr(&amp;quot;href&amp;quot;));
   }
  });

  return false;
 }

 // jQuery does not support live submit handling in IE
 // also, need to record actual pressed element
 $(&amp;quot;.jobs-record-list .job-prompt-hire-form .button-link&amp;quot;).live(&amp;quot;click&amp;quot;, submit_handler);
 $(&amp;quot;.jobs-record-list .job-prompt-hire-form input[type=submit]&amp;quot;).live(&amp;quot;click&amp;quot;, submit_handler);

});
&lt;/pre&gt;

&lt;p&gt;
Interestingly, the total line count has remained around the same. This suggests that for my style, the code density of python and jQuery is about the same. Personally, I find the python code to be more maintainable. In particular, I very much like that I'm minimizing the number of times jQuery is changing the DOM, and rebinding events. All of the state transitions are happening in the form. As a side effect, the show/hide behavior is totally functional without javascript enabled.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2249581504162030825/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/10/reduce-javascript-ui-code-with-django.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2249581504162030825'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2249581504162030825'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/10/reduce-javascript-ui-code-with-django.html' title='Reduce javascript UI code with Django forms'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2539465763679738225</id><published>2011-10-12T10:12:00.000-04:00</published><updated>2011-10-12T10:14:53.547-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='profile'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Profile and reduce memory use in Django with .iterator()</title><content type='html'>&lt;p&gt;
For the most part, objects allocated by Django are short-lived, and are eligible for garbage collection when the request ends. In our case, we also have some long running jobs using &lt;a href="http://celeryproject.org/"&gt;celery&lt;/a&gt;. One in particular, a job to create a several hundred megabyte XML file, was consistently using all the RAM on the machine.
&lt;/p&gt;

&lt;p&gt;
This wasn't too surprising because we were initially using Django templating to create the file, which keeps the entire response in memory while it's still being composed. But even after we &lt;a href="/2011/06/creating-large-xml-files-in-python-with.html"&gt;moved to a SAX parser&lt;/a&gt;, which is specifically designed for running with little memory by streaming the file, we were still running out of memory occasionally.
&lt;/p&gt;

&lt;p&gt;
We decided it was time to stop guessing, and profile the memory usage. Never having done this before, I did some research and came up with &lt;a href="http://www.lshift.net/blog/2008/11/14/tracing-python-memory-leaks"&gt;this excellent guide&lt;/a&gt; to using pdb for memory profiling.
&lt;/p&gt;

&lt;p&gt;
To get started, I needed something I could run from the command line, outside of the celery task framework. Using the &lt;a href="https://docs.djangoproject.com/en/dev/howto/custom-management-commands/"&gt;Django Command framework&lt;/a&gt;, I was easily able to compose a job that could run via manage.py.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
# in file myapp/management/commands/xmlmemtest.py
from django.core.management.base import BaseCommand
from myapp.helpers.scheduler import write_job_board_feed
import uuid

class Command(BaseCommand):    
    def handle(self, *args, **options):
        write_job_board_feed(&amp;quot;simplyhired&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;justjobs&amp;quot;, nocache=uuid.uuid4())

# can be run via: ./manage.py xmlmemtest
&lt;/pre&gt;

&lt;p&gt;
With that, I was set to launch this process using pdb, the &lt;a href="http://docs.python.org/library/pdb.html"&gt;Python debugger&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
chase@chase:~$ pdb ./manage.py xmlmemtest 
-&amp;gt; from django.core.management import execute_manager
(Pdb) r

#... wait for a while until memory is getting high (will be much slower than usual) ...

# pause execution
&amp;lt;Ctrl+C&amp;gt;

# evoke the garbage collector manually to make sure you&amp;#39;re only seeing referenced objects
(Pdb) import gc
(Pdb) gc.collect()
58
(Pdb) gc.collect()
0

# show the top items in memory
(Pdb) import objgraph
(Pdb) objgraph.show_most_common_types(limit=5)
Job                        184791
builtin_function_or_method 57542
tuple                      55478
list                       14900
dict                       8631
&lt;/pre&gt;

&lt;p&gt;
I was excepting to see some SAX parser objects at the top of the list. Instead, most of the memory was tied up in Job objects, which are a Django model in my application. Looking at the function, jobs were first referenced in the following code block.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
    for job in jobs:
        feed.write_entry(2, job)
&lt;/pre&gt;

&lt;p&gt;
Playing around a bit, I tried the following, which immediately solved the memory issue.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
    for _job in jobs:
        job = Job.objects.get(id=_job.id)
        feed.write_entry(2, job)
&lt;/pre&gt;

&lt;p&gt;
Basically, doing a separate query for each job, and making sure it &lt;b&gt;goes out of scope&lt;/b&gt; after we're done using it. In retrospect, this was pretty obvious. So obvious, that Django even provides a handy idiom called &lt;a href="https://docs.djangoproject.com/en/dev/ref/models/querysets/#iterator"&gt;.iterator()&lt;/a&gt; to do just this.
&lt;/p&gt;

&lt;blockquote&gt;Evaluates the QuerySet (by performing the query) and returns an iterator (see PEP 234) over the results. A QuerySet typically caches its results internally so that repeated evaluations do not result in additional queries. In contrast, iterator() will read results directly, without doing any caching at the QuerySet level (internally, the default iterator calls iterator() and caches the return value). For a QuerySet which returns a large number of objects that you only need to access once, this can results in better performance and a significant reduction in memory.&lt;/blockquote&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2539465763679738225/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/10/profile-and-reduce-memory-use-in-django.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2539465763679738225'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2539465763679738225'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/10/profile-and-reduce-memory-use-in-django.html' title='Profile and reduce memory use in Django with .iterator()'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1736521519592727264</id><published>2011-10-07T15:07:00.002-04:00</published><updated>2011-11-08T12:07:23.092-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='performance'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='latency'/><title type='text'>Django Performance: Latency Kills</title><content type='html'>&lt;p&gt;
Do you know how many database queries your Django pages are making? If you're like me, you probably don't know exactly. That's the beauty of the ORM; it abstracts database access to such a level that you rarely have to think about it. But do yourself a favor, and invest a few minutes in getting &lt;a href="http://pypi.python.org/pypi/django-debug-toolbar/0.8.4"&gt;django-debug-toolbar&lt;/a&gt; up and running. Among other things, it will tell you exactly what queries and running on any given page.
&lt;/p&gt;

&lt;p&gt;
Here is some example debug output for a simple record list in my current application.
&lt;/p&gt;

&lt;img src='https://lh6.googleusercontent.com/-tep8D0yVXc8/To9HenzAl7I/AAAAAAAALg0/GLzgpODjK4Y/s800/ddtb-record-list.png'&gt;

&lt;p&gt;
Note that the page made 70 queries. The first three, shown on the left, averaged just under one millisecond each. In fact, if I scroll down, I can see that no single query is taking over two milliseconds. In fact, all 70 of them take only 50 milliseconds. Database time is dwarfed by the total CPU time, although with the debug toolbar enabled, CPU time tends to be much higher than normal.
&lt;/p&gt;

&lt;p&gt;
Where are all these queries coming from? Some are done automatically by the framework, such as the session lookup or model permissions checks. Some are done as soon as you access a property on a model, such as request.user. But most of them you're doing yourself, via statements such as Model.objects.filter(...), etc. 
&lt;/p&gt;

&lt;p&gt;
They pile up fast. In my experience, it's not unusual for relatively simple pages to get into the 50 to 100 query range. I have some report pages that are doing over 1,000 queries in under 300 milliseconds! 
&lt;/p&gt;

&lt;p&gt;
Compared to some other frameworks, especially those without an ORM, this may seem excessive. I remember writing web pages in JSP, PHP and ColdFusion with far fewer queries. Maybe 10 or 15 on a complicated page. However, those were written by hand. That's the key. When you're writing SQL by hand, the developer has a natural tendency to write fewer, but larger, queries. In Java, every query you write is wrapped in several lines of boilerplate code; hardly something you want to do too often.
&lt;/p&gt;

&lt;p&gt;
On balance, I think we're better off with more, smaller, queries. It's certainly better for database performance. I remember writing literally 1000+ line queries in ColdFusion that would take hundreds of milliseconds to run (if you were lucky), maybe even locking the table for writes all the while. Sure, Django may be running 70 queries, but they are all lightning quick. They are also easier to maintain. I think we can all agree that hand-written SQL is harder to maintain (and no fun, anyway).
&lt;/p&gt;

&lt;p&gt;
But the hidden killer here is server to server latency. We're used to thinking about latency between clients and servers. Over the internet, seeing a latency over 100 millisecond is not unusual. In fact, even at the speed of light, your packet &lt;a href="http://serverfault.com/questions/137348/how-much-network-latency-is-typical-for-east-west-coast-usa"&gt;cannot even theoretically&lt;/a&gt; get from the east coast of the united states to the west coast in under 40 milliseconds. Factor in sub-optimal routing, and you're easily in the hundreds of milliseconds.
&lt;/p&gt;

&lt;p&gt;
But inside your hosting environment, server to server latency should be much lower. Amazon EC2 hovers &lt;a href="https://forums.aws.amazon.com/message.jspa?messageID=189782"&gt;around .5 milliseconds&lt;/a&gt;. Yes, half of one millisecond. My experience on Slicehost/Rackspace has been similar. 
&lt;/p&gt;

&lt;p&gt;
However, what would happen if that latency spiked to "just" 10 milliseconds? Your 100 query page just jumped from 50 milliseconds of latency overhead to &lt;b&gt;one full second&lt;/b&gt;. The 1,000 query page? That just went from half a second to 10 full seconds! That kind of slowness can obliterate any other performance work you're doing. 
&lt;/p&gt;

&lt;p&gt;
The good news is that sub-millisecond latency is totally standard. However, you would be smart to setup some kind of server to server latency monitoring. We use Nagios with the built-in PING plug-in, set to alert us if it jumps over 10 milliseconds consistently. This can lead to some entertaining conversations with tech support. "Honestly, we do consider 18 msec ping times to be within standard operating parameters."
&lt;/p&gt;

&lt;p&gt;
If anyone tries to tell you that, feel free to send them to this blog post.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1736521519592727264/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/10/django-performance-latency-kills.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1736521519592727264'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1736521519592727264'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/10/django-performance-latency-kills.html' title='Django Performance: Latency Kills'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh6.googleusercontent.com/-tep8D0yVXc8/To9HenzAl7I/AAAAAAAALg0/GLzgpODjK4Y/s72-c/ddtb-record-list.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2558112176770067405</id><published>2011-09-30T13:24:00.000-04:00</published><updated>2011-09-30T13:24:58.126-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Using pgpool2 to timeout idle Postgres connections from Django</title><content type='html'>&lt;p&gt;
Django has a &lt;a href="http://thebuild.com/blog/2010/10/25/django-and-postgresql-idle-in-transaction-connections/"&gt;well known issue&lt;/a&gt; with "&amp;lt;IDLE&amp;gt; in transaction" queries piling up. I have found that simply "&amp;lt;IDLE&amp;gt;" queries also have a tendency to hang out. This can cause problems for a high traffic site, as you can run out of open connections slots on the database side.
&lt;/p&gt;

&lt;p&gt;
To see if you're affected, you can run a database query to see the status of open connections.
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
&amp;gt;select count(*), current_query from pg_stat_activity group by current_query;
 count |                                current_query                                 
-------+------------------------------------------------------------------------------
    31 | &amp;lt;IDLE&amp;gt; in transaction
    54 | &amp;lt;IDLE&amp;gt;
     1 | select count(*), current_query from pg_stat_activity group by current_query;
(3 rows)

&amp;gt;SHOW max_connections;
125
&lt;/pre&gt;

&lt;p&gt;
In this case, you can see that 86 out of a possible 125 connections are open, and there is only one "real" query running. After a while, you might start seeing the &lt;b&gt;OperationalError: FATAL:  sorry, too many clients already&lt;/b&gt; error from Postgres, by way of Django.
&lt;/p&gt;

&lt;p&gt;
Why are these connections hanging out? Maybe you're &lt;a href="http://stackoverflow.com/questions/1303654/threaded-django-task-doesnt-automatically-handle-transactions-or-db-connections"&gt;opening a transaction and not closing it&lt;/a&gt;. In my case, I have no idea. But I don't really care either, I just want them closed after say 90 seconds. Surprisingly, there is no configuration option in Django or Postgres for this. Instead, you have to rely on a Postgres add-on like &lt;a href="http://pgpool.projects.postgresql.org/"&gt;pgpool2&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Here are my notes for installing pgpool2 on Ubuntu, fixing a bug in the Ubuntu 11.04 init script and configuring a 90 second connection timeout. In this example, I'm installing pgpool2 on the Postgres database server itself, and having pgpool2 take over post 5432, moving Postgres itself to 5431 (to make it a seamless transition as far as Django config is concerned).
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
apt-get install pgpool2 

vim /etc/init.d/pgpool2 
PIDFILE=/var/run/pgpool/pgpool.pid 

vim /etc/pgpool.conf 
port = 5432 
connection_life_time = 90 
client_idle_limit = 90 
backend_hostname0 = &amp;#39;localhost&amp;#39; 
backend_port0 = 5431 
backend_weight0 = 1 

vim /etc/postgresql/8.4/main/postgresql.conf 
port = 5431 

/etc/init.d/postgresql-8.4 stop 
/etc/init.d/postgresql-8.4 start 
service pgpool2 restart
&lt;/pre&gt;
</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2558112176770067405/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/09/using-pgpool2-to-timeout-idle-postgres.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2558112176770067405'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2558112176770067405'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/09/using-pgpool2-to-timeout-idle-postgres.html' title='Using pgpool2 to timeout idle Postgres connections from Django'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4424278309739253838</id><published>2011-09-23T13:14:00.001-04:00</published><updated>2011-10-07T14:16:15.336-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='csrf'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='varnish'/><title type='text'>Varnish caching for unauthenticated Django views</title><content type='html'>&lt;blockquote&gt;
Varnish is an HTTP accelerator designed for content-heavy dynamic web sites. In contrast to other HTTP accelerators, such as Squid, which began life as a client-side cache, or Apache, which is primarily an origin server, Varnish was designed from the ground up as an HTTP accelerator. -- &lt;a href="http://en.wikipedia.org/wiki/Varnish_(software)"&gt;Wikipedia&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
Varnish is pretty awesome. Typical usage would be to stick a caching layer in front of a slow CMS like Drupal, and tell it cache all page requests for an hour. You can serve thousands of hits to the homepage over the course of that hour for just one back-end call. Not only are you taking a lot of load off the backend, but the actual responses will be lightning quick. By default, Varnish doesn't cache pages with cookies set, though.
&lt;/p&gt;

&lt;blockquote&gt;
A lot of people running Varnish are not aware of one simple fact. If the client sends you a cookie Varnish will not issue a cached page but instead fetch a new page from the backend servers. Varnish takes a cookie as a good indication that the content is specially adapted and will, with the default configuration, not cache it. So, having a cookie that is not handled correctly will completely kill your performance. -- &lt;a href="https://www.varnish-software.com/blog/cookie-monster"&gt;Varnish Blog&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
This makes complete sense. Most web frameworks use cookie based sessions. If you didn't look at the cookies to determine whether to cache, you would be sticking the private dynamic content for the first user to come along into the cache, and then serving it up for other users. If Facebook did that, you would login and see another users feed.
&lt;/p&gt;

&lt;p&gt;
To use Varnish with Django, you just have to be careful about when you're using the request.session scope. If you put anything in there, even if the user is not logged in, the user will get a sessionid cookie, and Varnish will stop caching. Similarly, if you show the user a form with CSRF protection enabled (which it is by default), they will get a &lt;a href="https://docs.djangoproject.com/en/dev/ref/contrib/csrf/"&gt;csrftoken&lt;/a&gt; cookie.
&lt;/p&gt;

&lt;p&gt;
In general, those are the only two cookie Django will set, and either of those constitutes a page that should not be cached. In addition, you may have other cookies, such as Google Analytics. One solution is to strip these out in vcl_recv(), before they get passed to the back-end. Note: this does not mean that the client will no longer have access to them. As far as the client is concerned, the cookie is still set on your site. You're just not passing to to the webservers. 
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
sub vcl_recv {

  # unless sessionid/csrftoken is in the request, don&amp;#39;t pass ANY cookies (referral_source, utm, etc)
  if (req.request == &amp;quot;GET&amp;quot; &amp;amp;&amp;amp; (req.url ~ &amp;quot;^/static&amp;quot; || (req.http.cookie !~ &amp;quot;sessionid&amp;quot; &amp;amp;&amp;amp; req.http.cookie !~ &amp;quot;csrftoken&amp;quot;))) {
    remove req.http.Cookie;
  }

  # normalize accept-encoding to account for different browsers
  # see: https://www.varnish-cache.org/trac/wiki/VCLExampleNormalizeAcceptEncoding
  if (req.http.Accept-Encoding) {
    if (req.http.Accept-Encoding ~ &amp;quot;gzip&amp;quot;) {
      set req.http.Accept-Encoding = &amp;quot;gzip&amp;quot;;
    } elsif (req.http.Accept-Encoding ~ &amp;quot;deflate&amp;quot;) {
      set req.http.Accept-Encoding = &amp;quot;deflate&amp;quot;;
    } else {
      # unkown algorithm
      remove req.http.Accept-Encoding;
    }
  }

}

sub vcl_fetch {

  # static files always cached
  if (req.url ~ &amp;quot;^/static&amp;quot;) {
       unset beresp.http.set-cookie;
       return (deliver);
  }

  # pass through for anything with a session/csrftoken set
  if (beresp.http.set-cookie ~ &amp;quot;sessionid&amp;quot; || beresp.http.set-cookie ~ &amp;quot;csrftoken&amp;quot;) {
    return (pass);
  } else {
    return (deliver);
  }

}
&lt;/pre&gt;

&lt;p&gt;
This config is also accounting for differences in Accept-Encoding between various browsers and versions. Otherwise, you will end up with one copy of each page per unique Accept-Encoding value. Also, I'm making sure to always cache anything under /static, which is where all my media files are located.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4424278309739253838/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/09/varnish-caching-for-unauthenticated.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4424278309739253838'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4424278309739253838'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/09/varnish-caching-for-unauthenticated.html' title='Varnish caching for unauthenticated Django views'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4520124950745817242</id><published>2011-09-16T14:04:00.001-04:00</published><updated>2011-09-16T14:07:07.532-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='solr'/><category scheme='http://www.blogger.com/atom/ns#' term='lucene'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='haystack'/><title type='text'>Django/Haystack: latitude/longitude radius search w/ SOLR</title><content type='html'>&lt;p&gt;
&lt;a href="http://haystacksearch.org/"&gt;Haystack&lt;/a&gt; is a great indexed search framework for Django. Getting started is easy, and it includes many data types and facets out of the box. However, one data type it does not do natively is location based search. Specifically, I wanted to do radius searching based on latitude and longitude. GIS search is coming, but it could be a little while:
&lt;/p&gt;

&lt;blockquote&gt;
There aren't words to express how badly I want to incorporate 
geospatial search. However, I'm waiting on Solr 1.5's official 
implementation, as well as seeing if the Xapian folks land their GIS 
branch. I haven't pursued the third-party options because it makes the 
setup more complex and there's no guarantees on compatibility, which 
increase my support headaches. 
   - &lt;a href="http://groups.google.com/group/django-haystack/browse_thread/thread/f88d625679941d77"&gt;Daniel, Haystack Google Group&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
In the meantime, you can use &lt;a href="http://www.jteam.nl/news/spatialsolr"&gt;one&lt;/a&gt; of &lt;a href="https://github.com/outoftime/solr-spatial-light"&gt;several&lt;/a&gt; SOLR extensions, or you can just do it yourself. Here is a very basic, but functional, implementation.
&lt;/p&gt;

&lt;p&gt;
First, I introduce a custom index field "GeoPointField" on my SearchIndex model, mapped to some existing fields in my Django ORM that store latitude and longitude as float values.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class GeoPointField(indexes.CharField):

    def __init__(self, **kwargs):
        kwargs[&amp;quot;default&amp;quot;] = &amp;quot;000000000000000&amp;quot;
        super(GeoPointField, self).__init__(**kwargs)

    def convert(self, value):
        return geo2solr(value)

class JobIndex(indexes.SearchIndex):

    text = indexes.CharField(document=True, use_template=True, template_name=&amp;quot;search/index/job_text.txt&amp;quot;)
    latitude = GeoPointField(model_attr=&amp;quot;location__latitude&amp;quot;, null=True)
    longitude = GeoPointField(model_attr=&amp;quot;location__longitude&amp;quot;, null=True)

    def index_queryset(self):
        return Job.objects.all()

site.register(Job, JobIndex)
&lt;/pre&gt;

&lt;p&gt;
What's the deal with that default of "000000000000000"? Because everything is a string in SOLR, I have decided to encode lat/long as a string between "000000000000000" and "999999999999999". The actual "geo2solr" algorithm for the mapping can be arbitrary, as long as the outputs maintain relative comparability when compared as strings. i.e., a &gt; b implies that geo2solr(a) &gt; geo2solr(b). 
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def geo2solr(lat_or_long):
    &amp;quot;&amp;quot;&amp;quot; Converts a floating point latitude or longitude to a string for the SOLR index.
    The string representations need to be str-comparable to each other. Ie,
    04235863500 &amp;lt; 05000000000

    Negative values are handled by adding 180 to everything (Longitude is +/- 180)

    &amp;gt;&amp;gt;&amp;gt; geo2solr(42.35863500)
    &amp;#39;000022235863500&amp;#39;

    &amp;gt;&amp;gt;&amp;gt; geo2solr(-42.35863500)
    &amp;#39;000013764136500&amp;#39;

    &amp;gt;&amp;gt;&amp;gt; geo2solr(&amp;#39;42.35863500&amp;#39;)
    &amp;#39;000022235863500&amp;#39;

    &amp;gt;&amp;gt;&amp;gt; geo2solr(&amp;#39;-179.35863500&amp;#39;)
    &amp;#39;000000064136500&amp;#39;

    &amp;gt;&amp;gt;&amp;gt; geo2solr(0)
    &amp;quot;000018000000000&amp;quot;

    &amp;gt;&amp;gt;&amp;gt; geo2solr(None)

    &amp;gt;&amp;gt;&amp;gt; geo2solr(&amp;quot;foobar&amp;quot;)

    &amp;gt;&amp;gt;&amp;gt; geo2solr(50000)

    &amp;quot;&amp;quot;&amp;quot;
    try:
        value = float(lat_or_long)
        if -180 &amp;lt;= abs(value) &amp;lt;= 180:
            return str(int((value + 180) * 100000000)).rjust(15, &amp;quot;0&amp;quot;)
    except TypeError:
        pass
    except ValueError:
        pass
    return None
&lt;/pre&gt;

&lt;p&gt;
To do the actual radius search part requires a way to calculate the radius range in my geo-coded units, and a SearchForm/FacetedSearchForm to perform that search.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def geo_radius(lat, long, miles=50):
    &amp;quot;&amp;quot;&amp;quot; Given a latitude and longitude (as floats), returns two offsets, one
    for latitude and one for longitude, that defines a radius (in miles)
    around the location.

    Uses Haversine formula: http://en.wikipedia.org/wiki/Haversine_formula
    http://blog.fedecarg.com/2009/02/08/geo-proximity-search-the-haversine-equation/

    Note: long is not actually used. This is correct. Longitude distance is also
    based on latitude in Haversine.

    &amp;gt;&amp;gt;&amp;gt; geo_radius(53.754842, -2.708077)
    (0.7246376811594203, 1.2256204746052668)

    &amp;quot;&amp;quot;&amp;quot;
    return Decimal(miles / 69.0), Decimal(miles / abs(math.cos(math.radians(lat)) * 69.0))

class LocationRadiusSearchForm(FacetedSearchForm):

    q = forms.CharField(required=False)
    location = ChoiceField(required=False)

    def search(self):
        sqs = super(LocationRadiusSearchForm, self).search()
        try:
            location_name = self.cleaned_data.get(&amp;quot;location&amp;quot;)
            location = Location.objects.get(name=location_name)
            if location:
                lat_offset, long_offset = geo_radius(location.latitude, location.longitude)
                sqs = sqs.filter_and(
                    latitude__range=[
                        geo2solr(location.latitude - lat_offset),
                        geo2solr(location.latitude + lat_offset)],
                    longitude__range=[
                        geo2solr(location.longitude - long_offset),
                        geo2solr(location.longitude + long_offset)])
        except Exception:
            pass

        return sqs
&lt;/pre&gt;

&lt;p&gt;
That's it! This will generated SOLR queries like "longitude:[000005666355690 TO 000005849715509] AND latitude:[000021705248731 TO 000021850176268]"
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4520124950745817242/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/09/djangohaystack-latitudelongitude-radius.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4520124950745817242'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4520124950745817242'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/09/djangohaystack-latitudelongitude-radius.html' title='Django/Haystack: latitude/longitude radius search w/ SOLR'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-415709879512892975</id><published>2011-09-09T16:59:00.000-04:00</published><updated>2011-09-09T16:59:43.050-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='celery'/><title type='text'>Celery: blacklists and custom formatting for exception emails</title><content type='html'>&lt;p&gt;
Celery 2.3 has a few high level knobs to turn with regards to exception emails. You can &lt;a href="http://ask.github.com/celery/configuration.html#celery-task-error-whitelist"&gt;whitelist&lt;/a&gt; exceptions by type. You can change the &lt;a href="http://ask.github.com/celery/configuration.html#admins"&gt;recipients&lt;/a&gt;, &lt;a href="http://ask.github.com/celery/configuration.html#email-host"&gt;email servers&lt;/a&gt; to use, etc. But there are many powerful things that you couldn't do, until now.
&lt;/p&gt;

&lt;p&gt;
Starting with the next release, you will be able to &lt;a href="https://github.com/ask/celery/commit/40d769090769054c3a84d0bc29678ede90826d86"&gt;define a custom error mail handler&lt;/a&gt; at the task level. From there, you can do lots of new things. You could blacklist exceptions per-task. You can change the subject of body formatting of the errors. You can hijack the email and submit the content to github as a bug, if you want.
&lt;/p&gt;

&lt;p&gt;
The mechanism for all this is the ErrorMail class, which is defined in utils.mail. Every task has a Task.ErrorMail property which designates a handler for its exception emails. By setting that property to a new class that inherits from ErrorMail, you can over-ride some or all of its methods, such as should_send(), format_subject(), format_body() and send().
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class ErrorMail(object):

    # pep8.py borks on a inline signature separator and
    # says &amp;quot;trailing whitespace&amp;quot; ;)
    EMAIL_SIGNATURE_SEP = &amp;quot;-- &amp;quot;

    #: Format string used to generate error email subjects.
    subject = &amp;quot;&amp;quot;&amp;quot;\
        [celery@%(hostname)s] Error: Task %(name)s (%(id)s): %(exc)s
    &amp;quot;&amp;quot;&amp;quot;

    #: Format string used to generate error email content.
    body = &amp;quot;&amp;quot;&amp;quot;
Task %%(name)s with id %%(id)s raised exception:\n%%(exc)r


Task was called with args: %%(args)s kwargs: %%(kwargs)s.

The contents of the full traceback was:

%%(traceback)s

%(EMAIL_SIGNATURE_SEP)s
Just to let you know,
celeryd at %%(hostname)s.
&amp;quot;&amp;quot;&amp;quot; % {&amp;quot;EMAIL_SIGNATURE_SEP&amp;quot;: EMAIL_SIGNATURE_SEP}

    error_whitelist = None

    def __init__(self, task, **kwargs):
        #subject=None, body=None, error_whitelist=None
        self.task = task
        self.email_subject = kwargs.get(&amp;quot;subject&amp;quot;, self.subject)
        self.email_body = kwargs.get(&amp;quot;body&amp;quot;, self.body)
        self.error_whitelist = getattr(task, &amp;quot;error_whitelist&amp;quot;)

    def should_send(self, context, exc):
        allow_classes = tuple(map(get_symbol_by_name,  self.error_whitelist))
        return not self.error_whitelist or isinstance(exc, allow_classes)

    def format_subject(self, context):
        return self.subject.strip() % context

    def format_body(self, context):
        return self.body.strip() % context

    def send(self, context, exc, fail_silently=True):
        if self.should_send(context, exc):
            self.task.app.mail_admins(self.format_subject(context),
                                      self.format_body(context),
                                      fail_silently=fail_silently)
&lt;/pre&gt;

&lt;p&gt;
Here is one example that formats the subject of the email with just the task name, and doesn't send the email at all for a certain set of exceptions.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class NaiveAuthenticateServer(Task):
    ErrorMail = MyErrorMail
    ...

class MyErrorMail(ErrorMail):

    def format_subject(self, context):
        # options: hostname, id, name, exc, traceback, args, kwargs
        return &amp;quot;[celery] %(name)s&amp;quot; % context

    def should_send(self, context, exc):
        return not isinstance(exc, (ZeroDivisionError, TypeError))
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/415709879512892975/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/09/celery-blacklists-and-custom-formatting.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/415709879512892975'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/415709879512892975'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/09/celery-blacklists-and-custom-formatting.html' title='Celery: blacklists and custom formatting for exception emails'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7478187594232306681</id><published>2011-09-02T15:58:00.000-04:00</published><updated>2011-09-02T15:59:02.628-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django: sticky URL query parameters per view</title><content type='html'>&lt;p&gt;
On pages that contain filter controls, such as search results pages, it's common for the filter selections to be put into the URL using query parameters. This makes the search results bookmark-able. A common requirement on such pages is to have the application remember the particular filter parameters the user set the last time they viewed the page. They should be able to browse away from the page, come back, and pick up where they left off.
&lt;/p&gt;

&lt;p&gt;
In Django, it's reasonable to store those filter settings in the user's session, which will persist as long as they are logged in. You could easily code this up inside a particular view. But if this is something you do a lot, it makes more sense to extract the logic into a view decorator. Here is a generic decorator you can apply to any view to have a subset of the query parameters "stick" between renders.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.http import HttpResponseRedirect
import urlparse
import urllib

def remember_last_query_params(url_name, query_params):

    &amp;quot;&amp;quot;&amp;quot;Stores the specified list of query params from the last time this user
    looked at this URL (by url_name). Stores the last values in the session.
    If the view is subsequently rendered w/o specifying ANY of the query params,
    it will redirect to the same URL with the last query params added to the URL.

    url_name is a unique identifier key for this view or view type if you want
    to group multiple views together in terms of shared history

    Example:

    @remember_last_query_params(&amp;quot;jobs&amp;quot;, [&amp;quot;category&amp;quot;, &amp;quot;location&amp;quot;])
    def myview(request):
        pass

    &amp;quot;&amp;quot;&amp;quot;

    def is_query_params_specified(request, query_params):
        &amp;quot;&amp;quot;&amp;quot; Are any of the query parameters we are interested in on this request URL?&amp;quot;&amp;quot;&amp;quot;
        for current_param in request.GET:
            if current_param in query_params:
                return True
        return False

    def params_from_last_time(request, key_prefix, query_params):
        &amp;quot;&amp;quot;&amp;quot; Gets a dictionary of JUST the params from the last render with values &amp;quot;&amp;quot;&amp;quot;
        params = {}
        for query_param in query_params:
            last_value = request.session.get(key_prefix + query_param)
            if last_value:
                params[query_param] = last_value
        return params

    def update_url(url, params):
        &amp;quot;&amp;quot;&amp;quot; update an existing URL with or without paramters to include new parameters
        from http://stackoverflow.com/questions/2506379/add-params-to-given-url-in-python
        &amp;quot;&amp;quot;&amp;quot;
        if not params:
            return url
        if not url: # handle None
            url = &amp;quot;&amp;quot;
        url_parts = list(urlparse.urlparse(url))
        # http://docs.python.org/library/urlparse.html#urlparse.urlparse, part 4 == params
        query = dict(urlparse.parse_qsl(url_parts[4]))
        query.update(params)
        url_parts[4] = urllib.urlencode(query)
        return urlparse.urlunparse(url_parts)

    def do_decorator(view_func):

        def decorator(*args, **kwargs):

            request = args[0]

            key_prefix =  url_name + &amp;quot;_&amp;quot;

            if is_query_params_specified(request, query_params):
                for query_param in query_params:
                    request.session[key_prefix + query_param] = request.GET.get(query_param)

            else:
                last_params = params_from_last_time(request, key_prefix, query_params)
                if last_params and last_params != {}:
                    current_url = &amp;quot;%s?%s&amp;quot; % (request.META.get(&amp;quot;PATH_INFO&amp;quot;), request.META.get(&amp;quot;QUERY_STRING&amp;quot;))
                    new_url = update_url(current_url, last_params)
                    return HttpResponseRedirect(new_url)

            return view_func(*args, **kwargs)

        return decorator

    return do_decorator
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/7478187594232306681/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/09/django-sticky-url-query-parameters-per.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7478187594232306681'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7478187594232306681'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/09/django-sticky-url-query-parameters-per.html' title='Django: sticky URL query parameters per view'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8174320452310838878</id><published>2011-08-31T13:43:00.006-04:00</published><updated>2011-08-31T13:58:09.791-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django: exclude some views from middleware</title><content type='html'>&lt;p&gt;
In my Django applications, I tend to use custom middleware extensively for common tasks. I have middleware that logs page runtime, middleware that sets context that most views will end up needing anyway, and middleware that copies the HTTP_REFERRER header from an entry page into the session scope for use later in the session.
&lt;/p&gt;

&lt;p&gt;
At some point, I inadvertently created a middleware class invalidated the browser cache for certain views. Typically, just wrapping a view in @cache_control(max_age=3600) is enough to have the browser cache that view for an hour. But if you do something innocuous like &lt;a href="http://groups.google.com/group/django-users/browse_thread/thread/bba0b8e29d80f2df"&gt;evaluate request.user.is_authenticated()&lt;/a&gt; in a middleware class, then Django will set the Vary: Cookie header, invalidating the cache. 
&lt;/p&gt;

&lt;p&gt;
In my case, what I really wanted was a decorator that I could attach to a view that would skip my custom middleware, like an exclude list. Of course, you could just attach your middleware explicitly to each view that needs it, but that's needless code repetition if a middleware should wrap almost all views. You could also change each of your middleware classes to exclude particular views by URL, but you might end up having to alter many different middleware classes with that logic.
&lt;/p&gt;

&lt;p&gt;
As another option, you can use the following decorator/middleware pair to short-circuit the middleware execution of any view, for any middleware defined in your settings file AFTER this one.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
""" Allows short-curcuiting of ALL remaining middleware by attaching the
@shortcircuitmiddleware decorator as the TOP LEVEL decorator of a view.

Example settings.py:

MIDDLEWARE_CLASSES = (
    'django.middleware.common.CommonMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',

    # THIS MIDDLEWARE
    'myapp.middleware.shortcircuit.ShortCircuitMiddleware',

    # SOME OTHER MIDDLE WARE YOU WANT TO SKIP SOMETIMES
    'myapp.middleware.package.MostOfTheTimeMiddleware',

    # MORE MIDDLEWARE YOU WANT TO SKIP SOMETIMES HERE
)

Example view to exclude from MostOfTheTimeMiddleware (and any subsequent):

@shortcircuitmiddleware
def myview(request):
    ...

"""

def shortcircuitmiddleware(f):
    """ view decorator, the sole purpose to is 'rename' the function
    '_shortcircuitmiddleware' """
    def _shortcircuitmiddleware(*args, **kwargs):
        return f(*args, **kwargs)
    return _shortcircuitmiddleware

class ShortCircuitMiddleware(object):
    """ Middleware; looks for a view function named '_shortcircuitmiddleware'
    and short-circuits. Relies on the fact that if you return an HttpResponse
    from a view, it will short-circuit other middleware, see:
    https://docs.djangoproject.com/en/dev/topics/http/middleware/#process-request
     """
    def process_view(self, request, view_func, view_args, view_kwargs):
        if view_func.func_name == "_shortcircuitmiddleware":
            return view_func(request, *view_args, **view_kwargs)
        return None
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8174320452310838878/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/08/django-exclude-some-views-from.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8174320452310838878'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8174320452310838878'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/08/django-exclude-some-views-from.html' title='Django: exclude some views from middleware'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6631848062597864290</id><published>2011-08-19T13:08:00.005-04:00</published><updated>2011-08-19T13:37:48.959-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='git'/><category scheme='http://www.blogger.com/atom/ns#' term='source control'/><title type='text'>Easier source control merges by trimming trailing whitespace</title><content type='html'>&lt;p&gt;
If you do frequent branch merges in any source control system, you have likely encountered merge conflicts. When two branches have legitimate differences, most often you have to resolve those differences by hand. But all too often, when resolving diffs, you end up looking at a lot of "phantom diffs", too. The most common phantom diff is the &lt;a href="http://blogobaggins.com/2009/03/31/waging-war-on-whitespace.html"&gt;trailing whitespace difference&lt;/a&gt;.
&lt;/p&gt;

&lt;img src='http://blogobaggins.com/images/distracting_diff_cruft.png'&gt;

&lt;p&gt;
Just like standardization of space/tab between developers, deciding as a team to not commit changes with trailing whitespace can make your merging easier. You could to this with a git hook, or you could just configure your editor to do it.
&lt;/p&gt;

&lt;p&gt;
In Eclipse, this requires a plug-in called &lt;a href="http://andrei.gmxhome.de/anyedit/"&gt;AnyEdit&lt;/a&gt;. Once the plug-in is installed, enabled this option is under Preferences -&gt; General -&gt; Editors -&gt; AnyEdit Tools.
&lt;/p&gt;

&lt;img src='https://lh3.googleusercontent.com/-mn7wV2hroc4/Tk6a2ID8tTI/AAAAAAAALgU/vMvvVzBC1j8/s800/Screenshot-Preferences%252520.png'&gt;

&lt;p&gt;
But what about all the code you already have? Ideally you would get all the developers on a unified branch, perhaps after a sprint ends, and update the whole codebase at once to remove trailing spaces. In Linux, you run the following from the root of your code directory. Note the extension list in the first part.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
echo "*.py,*.js,*.css,*.html" |xargs -d, -I ext find . -type f -name ext -print0 |xargs -0 sed -i .bak -e "s/[[:space:]]*$//"
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6631848062597864290/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/08/easier-source-control-merges-by.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6631848062597864290'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6631848062597864290'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/08/easier-source-control-merges-by.html' title='Easier source control merges by trimming trailing whitespace'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh3.googleusercontent.com/-mn7wV2hroc4/Tk6a2ID8tTI/AAAAAAAALgU/vMvvVzBC1j8/s72-c/Screenshot-Preferences%252520.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2844900288251988995</id><published>2011-08-12T13:46:00.008-04:00</published><updated>2011-08-12T14:21:40.938-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='celery'/><title type='text'>django-celery: blacklist errors by class</title><content type='html'>&lt;p&gt;
Celery has a built-in mechanism for sending untrapped errors to admins via email. This is great for trouble-shooting. Sending the emails directly to developers is also a good way to make sure they actually get fixed. I know 1,000 emails in my inbox motivates me!
&lt;/p&gt;

&lt;p&gt;
However, you may not want to receive all errors. For example, our celery instance routinely throws &lt;a href="http://ask.github.com/celery/reference/celery.exceptions.html"&gt;TimeLimitExceeded&lt;/a&gt; exceptions that can be safely ignored, at least on some tasks. TimeLimitExceeded is tough, too, because you cannot catch it; it's handled by the celery framework.
&lt;/p&gt;

&lt;p&gt;
While django-celery provides a mechanism to supply a exception whitelist, that may not work for you. If you're like me, you don't know what errors you want to receive emails for; by definition you do not have the foresight to trap them ahead of time! In that case, what you really need is an exception BLACKLIST. While I have &lt;a href="https://github.com/ask/celery/issues/447"&gt;opened a ticket&lt;/a&gt; for that, in the meantime you can use the following decorator around your task as a solution.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import sys
import traceback
from django.core.mail import mail_admins
from django.utils.text import truncate_words
from django.template.defaultfilters import slugify
from celery.exceptions import SoftTimeLimitExceeded
from celery import task as _task

class email_errors(object):

    """ Wraps a celery task in a try/catch with custom error types, only
        sending admin alert emails on non-blacklisted exceptions.

        Can be attached as a decorator to a task, such as :

        @email_errors(error_blacklist=[MaybeEncodingError, ])
        @task
        def some_task():
            pass
    """
    
    default_error_blacklist = [SoftTimeLimitExceeded, ]
    
    def __init__(self, error_blacklist=[]):
        self.error_blacklist = error_blacklist
        self.error_blacklist.extend(self.default_error_blacklist)       
        
    def __call__(self, task):
        task.unsynchronized_run = task.run
        @wraps(task.unsynchronized_run)
        def wrapper(*args, **kwargs):        
        try:
            task.unsynchronized_run(*args, **kwargs)
        except Exception, e:
            if type(e) in self.error_blacklist:
                stacktrace = get_stacktrace(e)
                print "ERROR: task=%s\n%s" % (task.__name__, stacktrace)
            else:
                mail_exception(e, prefix="[celery]")
        task.run = wrapper
        return task

def get_stacktrace(error):
    return "".join(traceback.format_exception(type(error), error, sys.exc_traceback))
    

def mail_exception(error, prefix=None):
    """ Mails an exception w/ stacktrace to ADMINS, can pass a prefix like '[celery]' """
    try:
        stacktrace = get_stacktrace(error)
        print stacktrace             
        for subject in _error_subjects(error):
            try:
                if prefix:
                    subject = "%s %s" % (prefix, subject)
                mail_admins(subject, "%s\n%s" % (error, stacktrace))
                break
            except:
                pass
    except Exception, e:
        print e

def _error_subjects(error):
    """ returns a list of potential subjects for an error email, some may fail """
    error_str = str(error)
    return [truncate_words(error_str, 5), slugify(truncate_words(error_str, 5)), "mail_exception error"]
&lt;/pre&gt;

&lt;p&gt;
In this scenario, you are sending errors emails yourself. You will want to disable &lt;a href="http://ask.github.com/celery/configuration.html"&gt;CELERY_SEND_TASK_ERROR_EMAILS&lt;/a&gt;. By disabling that setting, you will also not get the TimeLimitExceeded emails.
&lt;/p&gt;

</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2844900288251988995/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/08/django-celery-blacklist-errors-by-class.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2844900288251988995'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2844900288251988995'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/08/django-celery-blacklist-errors-by-class.html' title='django-celery: blacklist errors by class'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6945894725255704741</id><published>2011-08-05T17:05:00.006-04:00</published><updated>2011-08-05T17:35:13.165-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django: white-label styling with URL prefixes</title><content type='html'>&lt;p&gt;
Many websites have branding or "white label" functionality where the site can have custom styles per customer. A common use case with commercial products is to allow the customer to use their own logo and colors in place of the defaults, usually for an extra fee.
&lt;/p&gt;

&lt;p&gt;
In web apps, customers will often want to customize either the subdomain of their branded version, or perhaps use a CNAME one on of their existing domains. Alternatively, you can also differentiate brandings based on a URL prefix, such as Google apps does with www.google.com/a/customer_name. The later method is the focus of this blog post.
&lt;/p&gt;

&lt;p&gt;
In Django, you can take advantage of the template inheritance and URL mapping features built into the framework to do most of the heavy lifting for you. For styling, you can easily image inserting a new branding template between your existing pages and your base template.
&lt;/p&gt;

&lt;img src='https://lh6.googleusercontent.com/-cGk-v36FxQw/Tjxc_jdr_wI/AAAAAAAALe0/3KE98q1vdAg/s800/dgpzvkwf_281fkrfc2hg_b.png'&gt;

&lt;p&gt;
You can switch between your regular base template and the branding template by simply using a variable for the extends declaration.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
{% extends request.BASE_TEMPLATE %}
&lt;/pre&gt;

&lt;p&gt;
In that template, you can override any styling you need to. But what about the links in those templates? Plus, how do we set request.BASE_TEMPLATE w/o a bunch of duplicate code everywhere? Well, you can do that at the same time you're providing the URL mapping to your branding prefix. 
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
# url handler for ANYthing under /sites/, slug is the per-customer branding prefix
url(r'^sites/(?P&amp;lt;slug&amp;gt;([^//]+))/.*$', dispatch),
&lt;/pre&gt;

&lt;pre name="code" class="python"&gt;
def dispatch(request, slug):
     
      # {% url %} will now render urls w/ this branding prefix
      company_url_prefix = "/sites/%s" % slug    
      old_prefix = urlresolvers.get_script_prefix()
      urlresolvers.set_script_prefix(company_url_prefix)

      try:

     request.BASE_TEMPLATE = "branded.html"
     # you can also set any state you need to do the actual branding here
      
     rest_of_url = request.META.get("PATH_INFO").replace(company_url_prefix, "")
     view, args, kwargs = urlresolvers.resolve(rest_of_url)
     return view(request, **kwargs)
      finally:
            # set_script_prefix is thread specific, so you need to be careful to reset it
            urlresolvers.set_script_prefix(old_prefix)
&lt;/pre&gt;

&lt;p&gt;
The trick here is &lt;a href="https://docs.djangoproject.com/en/dev/topics/http/urls/#module-django.core.urlresolvers"&gt;set_script_prefix&lt;/a&gt;, a little known Django utility method that will prefix any template call to the {% url %} tag with a custom string. So, if your page normally renders a link as /job/44, it will now render as /sites/XXX/job/44, effectively keeping the user in the same branding experience.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6945894725255704741/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/08/django-white-label-styling-with-url.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6945894725255704741'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6945894725255704741'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/08/django-white-label-styling-with-url.html' title='Django: white-label styling with URL prefixes'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh6.googleusercontent.com/-cGk-v36FxQw/Tjxc_jdr_wI/AAAAAAAALe0/3KE98q1vdAg/s72-c/dgpzvkwf_281fkrfc2hg_b.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6282209498466495502</id><published>2011-07-29T13:56:00.003-04:00</published><updated>2011-07-29T14:02:58.545-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Python: calculate lighter/darker RGB colors</title><content type='html'>&lt;p&gt;
Many times color palettes have lighter and darker variations of the same color. This may be used to convey relative importance, or for something as simple as a gradient. Usually the designer will specify both colors. However, if you have a site that needs to allow user configurable styling, you may not want to ask the user for two variations of the same color.
&lt;/p&gt;

&lt;p&gt;
Here is some Python code to take a single color in RGB, and output an artitrarily lighter or darker variation of the same color. You could wrap this in a filter and use it right in your Django templates.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def color_variant(hex_color, brightness_offset=1):
    """ takes a color like #87c95f and produces a lighter or darker variant """
    if len(hex_color) != 7:
        raise Exception("Passed %s into color_variant(), needs to be in #87c95f format." % hex_color)
    rgb_hex = [hex_color[x:x+2] for x in [1, 3, 5]]
    new_rgb_int = [int(hex_value, 16) + brightness_offset for hex_value in rgb_hex]
    new_rgb_int = [min([255, max([0, i])]) for i in new_rgb_int] # make sure new values are between 0 and 255
    # hex() produces "0x88", we want just "88"
    return "#" + "".join([hex(i)[2:] for i in new_rgb_int])
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6282209498466495502/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/07/python-calculate-lighterdarker-rgb.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6282209498466495502'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6282209498466495502'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/07/python-calculate-lighterdarker-rgb.html' title='Python: calculate lighter/darker RGB colors'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1611444042677825232</id><published>2011-07-01T16:11:00.004-04:00</published><updated>2011-07-01T16:25:42.084-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='rabbitmq'/><category scheme='http://www.blogger.com/atom/ns#' term='nagios'/><title type='text'>Checking RabbitMQ queue size/age with Nagios</title><content type='html'>&lt;p&gt;
For months we were using RabbitMQ (with celery) with no real insight into what was going on inside the queue. Recently, we deployed the &lt;a href="http://www.rabbitmq.com/management.html"&gt;mangement plug-in&lt;/a&gt;, which has a nifty web UI:
&lt;/p&gt;

&lt;img src="https://lh3.googleusercontent.com/-erYc4JHiPgE/Tg4r4RcL_aI/AAAAAAAALeM/yGHvFuBNHtk/s800/overview.png"&gt;

&lt;p&gt;
From there, is seemed like a logical thing to add a Nagios check for. Here is some Python code to do just that.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
#!/usr/bin/python

from optparse import OptionParser
import urllib2
import json
import pprint
import time
import datetime

def getOptions():
    arguments = OptionParser()
    arguments.add_option("--host", dest="host", help="Host rabbitmq is running on", type="string", default="localhost")
    arguments.add_option("--queue", dest="queue", help="Name of the queue in inspect", type="string", default="celery")
    arguments.add_option("--username", dest="username", help="RabbitMQ API username", type="string", default="rabbitmq")
    arguments.add_option("--password", dest="password", help="RabbitMQ API password", type="string", default="rabbitmq")
    arguments.add_option("--port", dest="port", help="RabbitMQ API port", type="string", default="55672")
    
    arguments.add_option("--warning-queue-size", dest="warn_queue", help="Size of the queue to alert as warning", type="int", default=10000)
    arguments.add_option("--critical-queue-size", dest="crit_queue", help="Size of the queue to alert as critical", type="int", default=20000)

    arguments.add_option("--warning-seconds", dest="warn_seconds", help="Last event processes in seconds ago to alert as warning", type="int", default=3600)
    arguments.add_option("--critical-seconds", dest="crit_seconds", help="Last event processes in seconds ago to alert as critical", type="int", default=14400)
        
    return arguments.parse_args()[0]

if __name__ == '__main__':
    
    options = getOptions()    
    
    url = "http://%s:%s/api/queues/reach/%s" % (options.host, options.port, options.queue)
    
    # handle HTTP Auth
    password_mgr = urllib2.HTTPPasswordMgrWithDefaultRealm()
    top_level_url = url
    password_mgr.add_password(None, top_level_url, options.username, options.password)
    handler = urllib2.HTTPBasicAuthHandler(password_mgr)
    opener = urllib2.build_opener(handler)    
    
    response = None
    try:
        request = opener.open(url)
        response = request.read()
        request.close()
    except urllib2.HTTPError, e:
        print "Error code %s hitting %s" % (e.code, url)
        exit(1)
        
    data = json.loads(response)
    
    #pp = pprint.PrettyPrinter(indent=4)
    #pp.pprint(data)
    
    num_messages = data.get("messages")
    if num_messages &gt; options.crit_queue or num_messages &gt; options.warn_queue:
        print "%s messages in %s queue" % (num_messages, options.queue)
        exit(1 if num_messages &gt; options.crit_queue else 2) 
    
    message_stats = data.get("message_stats")
    deliver_details = message_stats.get("deliver_details")
    rate = deliver_details.get("rate")
    
    #1309542487 
    #1309548601517    
    last_event = deliver_details.get("last_event") / 1000
    last_event_time = time.ctime(last_event)
    
    #diff = abs(last_event_time - datetime.datetime.today())
    #last_event_time_diff_seconds = diff.seconds + diff.days * 86400
    last_event_time_diff_seconds = abs(last_event - int(time.time()))
    if last_event_time_diff_seconds &gt; options.crit_seconds or last_event_time_diff_seconds &gt; options.warn_seconds:
        print "%s seconds since last event consumed on %s" % (last_event_time_diff_seconds, options.queue)
        exit(1 if last_event_time_diff_seconds &gt; options.crit_seconds else 2)
    
    print "Last event consumed: %s" % last_event_time
&lt;/pre&gt;

&lt;p&gt;
You can run it manually:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
check_rabbitmq --host sched1 --warning-queue-size 100 --critical-queue-size 400 --warning-seconds 600 --critical-seconds 2400
&lt;/pre&gt;

&lt;p&gt;
Or, you can configure Nagios to run it:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# vim /etc/nagios3/conf.d/services_nagios2.cfg
define command {
        command_name    check_rabbitmq
        command_line    /usr/lib/nagios/plugins/check_rabbitmq --host $HOSTADDRESS$ --queue $ARG1$ --warning-queue-size $ARG2$ --critical-queue-size $ARG3$ --warning-seconds $ARG4$ --critical-seconds $ARG5$
}

define service {
        host_name                       sched1
        service_description             QUEUE
        check_command                   check_rabbitmq!celery!100!400!600!2400
        contact_groups                  pager
        use                             generic-service
        notification_interval           0 ; set &amp;gt; 0 if you want to be renotified
}
&lt;/pre&gt;

&lt;img src="https://lh4.googleusercontent.com/--Q5GTSNNqac/Tg4tIdgAErI/AAAAAAAALeU/GM1BSU7lWOE/s800/Screenshot-Current%252520Network%252520Status%252520-%252520Google%252520Chrome.png"&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1611444042677825232/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/07/checking-rabbitmq-queue-sizeage-with.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1611444042677825232'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1611444042677825232'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/07/checking-rabbitmq-queue-sizeage-with.html' title='Checking RabbitMQ queue size/age with Nagios'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh3.googleusercontent.com/-erYc4JHiPgE/Tg4r4RcL_aI/AAAAAAAALeM/yGHvFuBNHtk/s72-c/overview.png' height='72' width='72'/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5086527373954425145</id><published>2011-06-24T14:54:00.003-04:00</published><updated>2011-06-24T15:22:18.443-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='sax'/><category scheme='http://www.blogger.com/atom/ns#' term='xml'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Creating large XML files in Python with saxutils</title><content type='html'>&lt;p&gt;
In the past, when I needed to produce an XML file problematically, I typically turned to templating engines. Something like the following example in Django templates:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;?xml version="1.0" encoding="utf-8"?&amp;gt;
&amp;lt;jobs&amp;gt;
    {% for job in jobs %}
        {% with job.user|get_profile as profile %}
      &amp;lt;job&amp;gt;
          &amp;lt;title&amp;gt;{{ job.title|xml_escape }}&amp;lt;/title&amp;gt;
          &amp;lt;job-board-name&amp;gt;{{ 'JOB_FEED_SITE_NAME'|setting }}&amp;lt;/job-board-name&amp;gt;
          &amp;lt;job-board-url&amp;gt;{{ 'SITE_URL_NO_SLASH'|setting }}&amp;lt;/job-board-url&amp;gt;
          &amp;lt;job-code&amp;gt;job{{ job.id }}&amp;lt;/job-code&amp;gt;
          &amp;lt;detail-url&amp;gt;{{ 'SITE_URL_NO_SLASH'|setting}}{% url job job.id job.slug %}{{ 'simplyhired.com'|campaign_tracking }}&amp;lt;/detail-url&amp;gt;

...
&lt;/pre&gt;

&lt;p&gt;
You get the idea. Once you start including free text data from real users, you pretty quickly run into issues with invalid XML. Typically, you need some combination of escaping (like &lt;a href="http://docs.python.org/library/xml.sax.utils.html"&gt;saxutils.escape&lt;/a&gt;) and stripping (for control character that are illegal in XML). For whatever reason, it's pretty common for the XML parsers themselves not to give you the tools you need to produce valid XML from imperfect data. You can counter this with a XML cleaning library such as &lt;a href="http://sourceforge.net/projects/foursuite/"&gt;4Suite&lt;/a&gt;, or &lt;a href="/2011/05/stripping-control-characters-in-python.html"&gt;write your own&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
This solution is inelegant, but it works. However, if you need to produce very large XML files, you will run into memory constraints. Unless your templating engine has the ability to stream the file contents to disk, which &lt;a href="https://code.djangoproject.com/ticket/13910"&gt;Django's doesn't&lt;/a&gt;, you'll be storing all that XML in memory before it can be written. This can lead to hours of XML composing followed by an out of memory exception, with nothing writing to disk.
&lt;/p&gt;

&lt;p&gt;
Using an XML parser to actually compose XML is much more robust, even if the code is somewhat less straight forward. You could use a DOM parser, but that wouldn't solve your memory issue; the whole XML document must still be kept in memory before it can be written. Instead, you can use a &lt;a href="http://en.wikipedia.org/wiki/Simple_API_for_XML#XML_processing_with_SAX"&gt;SAX parser&lt;/a&gt;, which is explicitly designed for streaming. 
&lt;/p&gt;

&lt;p&gt;
Python ships with saxutils, which is very capable, if a bit verbose to use as an API. Here is a quick abstraction for simple nested tags without attributes, which is a common pattern.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from xml.sax.saxutils import XMLGenerator
from xml.sax.xmlreader import AttributesNSImpl
from website.helpers import xml_helper
import types
from django.utils.encoding import smart_str, force_unicode
from xml.sax import saxutils   
    
def strip_illegal_xml_characters(input):
    
    if input:
            
        import re
        
        # unicode invalid characters
        RE_XML_ILLEGAL = u'([\u0000-\u0008\u000b-\u000c\u000e-\u001f\ufffe-\uffff])' + \
                         u'|' + \
                         u'([%s-%s][^%s-%s])|([^%s-%s][%s-%s])|([%s-%s]$)|(^[%s-%s])' % \
                          (unichr(0xd800),unichr(0xdbff),unichr(0xdc00),unichr(0xdfff),
                           unichr(0xd800),unichr(0xdbff),unichr(0xdc00),unichr(0xdfff),
                           unichr(0xd800),unichr(0xdbff),unichr(0xdc00),unichr(0xdfff),
                           )
        input = re.sub(RE_XML_ILLEGAL, "", input)
                        
        # ascii control characters
        input = re.sub(r"[\x01-\x1F\x7F]", "", input)
            
    return input

def escape_xml(value):
    return strip_illegal_xml_characters(force_unicode(smart_str(value))) 

class SimpleSaxWriter():
    
    def __init__(self, output, encoding, top_level_tag=u"jobs"):
        logger = XMLGenerator(output, encoding)
        logger.startDocument()
        attrs = AttributesNSImpl({}, {})
        logger.startElementNS((None, top_level_tag), top_level_tag, attrs)        
        self._logger = logger
        self.top_level_tag = top_level_tag
        
    def start_tag(self, name):                
        attrs = AttributesNSImpl({}, {})
        self._logger.startElementNS((None, name), name, attrs)

    def end_tag(self, name):                
        self._logger.endElementNS((None, name), name)
        
    def simple_tag(self, name, contents):
        
        if contents:
            
            if not isinstance(contents, types.UnicodeType):
                raise TypeError("XML character data must be passed in as a unicode object")
                    
            self.start_tag(name)
            # saxutils will let invalid XML though, left to it's own devices
            self._logger.characters(escape_xml(contents))                                    
            self.end_tag(name)
                
    def write_entry(self, level, msg):
        raise NotImplementedError()

    def close(self):
        self._logger.endElementNS((None, self.top_level_tag), self.top_level_tag)
        self._logger.endDocument()
        return
&lt;/pre&gt;

&lt;p&gt;
Given that framework, an implementing class might look like:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class JobWriter(SimpleSaxWriter):        
    
    def write_entry(self, level, job):
        
        from website.helpers.tags import label
        from website import helpers
        
        self.start_tag("job")
        
        self.simple_tag("title", job.title)
        self.simple_tag("job-board-name", unicode(settings.JOB_FEED_SITE_NAME))

 ...
        
        self.start_tag("description")        
        self.simple_tag("summary", job.description_plaintext)
        self.end_tag("description")

 ...
&lt;/pre&gt;

&lt;p&gt;
To actually write to disk, you need to pass in a file. Notice that I'm using mode "wb", because saxutils will produce a byte stream, and that I'm NOT passing an encoding, even though I'm dealing with UTF-8 data. That's because Python will &lt;a href="http://stackoverflow.com/questions/934160/write-to-utf-8-file-in-python"&gt;guess wrong&lt;/a&gt; in that case, and try to output ASCII.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;    
    file = codecs.open("test.xml", mode="wb")
    feed = JobWriter(file, "UTF-8")
    for job in jobs: # just a list of objects from Django's orm, could be anything
        feed.write_entry(2, job)
    feed.close()
    file.close()
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5086527373954425145/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/06/creating-large-xml-files-in-python-with.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5086527373954425145'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5086527373954425145'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/06/creating-large-xml-files-in-python-with.html' title='Creating large XML files in Python with saxutils'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6601916846612727599</id><published>2011-06-17T11:37:00.015-04:00</published><updated>2011-06-17T14:45:34.087-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='p3p'/><category scheme='http://www.blogger.com/atom/ns#' term='csrf'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django CSRF verification failed in IE IFRAME</title><content type='html'>&lt;p&gt;
I ran into an interesting issue with the &lt;a href="https://docs.djangoproject.com/en/dev/ref/contrib/csrf/"&gt;Django's CSRF&lt;/a&gt; (&lt;a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery"&gt;cross site request forgery&lt;/a&gt;) protection this week. Some users were reporting seeing the dreaded "CSRF verification failed. Request aborted." error trying to submit a particular form. Unable to reproduce the issue myself, we finally learned that this was happening when coming from LinkedIn.
&lt;/p&gt;

&lt;img src="https://lh4.googleusercontent.com/-xdk2BwkOlFU/Tft1624pJGI/AAAAAAAALdw/oYl3KUxBiLo/s800/Screenshot-Now%252520Hiring%25253A%252520Sr.%252520Database%252520Analyst%252520in%252520Redwood%252520City%25252C%252520CA%252520%25257C%252520Share%252520on%252520LinkedIn%252520-%252520Mozilla%252520Firefox.png" alt="Forbidden. CSRF verification failed. Request aborted."/&gt;

&lt;p&gt;
Digging deeper, it turns out only to happen in IE (6/7/8/9), and only in an IFRAME, like the one LinkedIn is using for their framebar. After some research, it was revealed that IE6 added a &lt;a href="http://msdn.microsoft.com/en-us/library/ms537343.aspx"&gt;security feature&lt;/a&gt; to block all &lt;a href="http://en.wikipedia.org/wiki/HTTP_cookie#Privacy_and_third-party_cookies"&gt;third party cookies&lt;/a&gt; by default, which includes any pages in an IFRAME on a different domain than the top level parent. There are a few options for work-arounds.
&lt;/p&gt;

&lt;h3&gt;Work around #1: Framebusting&lt;/h3&gt;

&lt;p&gt;
You can use javascript to "break out" of the IFRAME, essentially replacing the top level window with yourself. There are various techniques, but I like the simple:
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;if(top != self) top.location.replace(location);
&lt;/pre&gt;

&lt;p&gt;
However, this won't work if you want to allow IFRAMEs in somecases, say from your own domain(s). The code could quickly become brittle if you were to hard-code a whitelist of development/demo/qa/prod domains, or weak if you hard-code a blacklist. Also, it's fairly easy to intentionally break a frame buster. In the end, if you get into an &lt;a href="http://stackoverflow.com/questions/958997/frame-buster-buster-buster-code-needed"&gt;arms race&lt;/a&gt; with a framer, &lt;a href="http://www.codinghorror.com/blog/2009/06/we-done-been-framed.html"&gt;you will lose&lt;/a&gt;.
&lt;/p&gt;

&lt;h3&gt;Work around #2: x-frame-options&lt;/h3&gt;

&lt;p&gt;
Newer browsers actually have a mechanism to dis-allow framing your site all together, via the &lt;a href="https://developer.mozilla.org/en/the_x-frame-options_response_header"&gt;x-frame-options HTTP header&lt;/a&gt;. This is great, but only works on newish browsers, and is somewhat coarsely grained. You can only make an exception for same domain IFRAMEs, not arbitrary domains. Also, the user experience kind of blows; it looks like an error to the end-user.
&lt;/p&gt;

&lt;img src='https://lh6.googleusercontent.com/-_XPiDYZZcYg/TTnPz7ol06I/AAAAAAAALaU/f9ABuJQyrsA/s800/x-frame-options.png'&gt;

&lt;br&gt;&lt;br&gt;

&lt;h3&gt;Work around #3: P3P&lt;/h3&gt;

&lt;p&gt;
You can send a HTTP header to tell the browser to allow third-party cookies in this instance. This uses the &lt;a href="http://www.w3.org/P3P/"&gt;P3P standard&lt;/a&gt;. However, it should be noted that you're essentially making legally binding claims about how you handle user data. For example, the smallest change you can make that will notify IE to allow third-party by default is:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
vim /etc/apache2/sites-available/default

# add the following
Header append P3P "CP=\"CAO PSA OUR\""

ln -s /etc/apache2/mods-available/headers.load /etc/apache2/mods-enabled/headers.load
service apache2 restart
&lt;/pre&gt;

&lt;p&gt;
Here is a quick rundown of what &lt;a href="http://www.p3pwriter.com/LRN_111.asp"&gt;legal claims&lt;/a&gt; you're making in this case.
&lt;ul&gt;
&lt;li&gt;CAO - Identified Contact Information and Other Identified Data: access is given to identified online and physical contact information as well as to certain other identified data.&lt;/li&gt;
&lt;li&gt;PSA - Information may be used to create or build a record of a particular individual or computer that is tied to a pseudonymous identifier, without tying identified data.&lt;/li&gt;
&lt;li&gt;OUR - Ourselves and/or entities acting as our agents or entities for whom we are acting as an agent (can access the data).&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;

&lt;h3&gt;Work around #4: Custom CSRF error page&lt;/h3&gt;

&lt;p&gt;
This isn't really a work-around, and should probably be done anyway. But Django gives you the ability to define a &lt;a href="https://docs.djangoproject.com/en/dev/ref/settings/#std:setting-CSRF_FAILURE_VIEW"&gt;custom error page&lt;/a&gt; for CSRF validation errors, where could could tell the user what the problem is, and maybe have them to a manual frame break.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6601916846612727599/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/06/django-csrf-verification-failed-in-ie.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6601916846612727599'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6601916846612727599'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/06/django-csrf-verification-failed-in-ie.html' title='Django CSRF verification failed in IE IFRAME'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh4.googleusercontent.com/-xdk2BwkOlFU/Tft1624pJGI/AAAAAAAALdw/oYl3KUxBiLo/s72-c/Screenshot-Now%252520Hiring%25253A%252520Sr.%252520Database%252520Analyst%252520in%252520Redwood%252520City%25252C%252520CA%252520%25257C%252520Share%252520on%252520LinkedIn%252520-%252520Mozilla%252520Firefox.png' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5312201409111102611</id><published>2011-06-03T16:57:00.004-04:00</published><updated>2011-06-03T17:15:34.601-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='celery'/><title type='text'>django-celery with postgres: "connection already closed" errors</title><content type='html'>&lt;p&gt;
I ran into a mysterious, transient exception this week using &lt;a href="http://pypi.python.org/pypi/django-celery"&gt;django-celery&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
DatabaseError: server closed the connection unexpectedly
This probably means the server terminated abnormally
    before or while processing the request.
&lt;/pre&gt;

&lt;p&gt;
At other times, I was seeing a slightly different error message.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
InterfaceError: connection already closed
&lt;/pre&gt;

&lt;p&gt;
After some searching, I found &lt;a href="https://github.com/ask/celery/issues/149"&gt;resolved issue #149&lt;/a&gt; in the django-celery maintainer's github issues's list. It turns out that it's specifically a postgres issue, and only happens when the number of workers (the "c" parameter) is greater than one. Note: it defaults to the number of cores on your system.
&lt;/p&gt;

&lt;p&gt;
A new &lt;a href="https://github.com/ask/django-celery/issues/46"&gt;issue #46&lt;/a&gt; has been opened, so this will likely get fixed. In the meantime, you can monkey patch the code to fix it yourself.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
sudo vim /usr/local/lib/python2.6/dist-packages/djcelery/loaders.py

    # inside DjangoLoader
    def on_task_init(self, task_id, task):
        self.close_database()
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5312201409111102611/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/06/django-celery-with-postgres-connection.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5312201409111102611'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5312201409111102611'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/06/django-celery-with-postgres-connection.html' title='django-celery with postgres: &quot;connection already closed&quot; errors'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3156472016542488658</id><published>2011-05-20T13:28:00.003-04:00</published><updated>2011-05-20T13:31:47.873-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='regex'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Stripping control characters in Python</title><content type='html'>&lt;p&gt;
Want to remove ASCII control characters from a string? Have Unicode control characters that can't be encoded into XML? Here is how to strip them with regex in Python.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def strip_control_characters(input):
    
    if input:
            
        import re
        
        # unicode invalid characters
        RE_XML_ILLEGAL = u'([\u0000-\u0008\u000b-\u000c\u000e-\u001f\ufffe-\uffff])' + \
                         u'|' + \
                         u'([%s-%s][^%s-%s])|([^%s-%s][%s-%s])|([%s-%s]$)|(^[%s-%s])' % \
                          (unichr(0xd800),unichr(0xdbff),unichr(0xdc00),unichr(0xdfff),
                           unichr(0xd800),unichr(0xdbff),unichr(0xdc00),unichr(0xdfff),
                           unichr(0xd800),unichr(0xdbff),unichr(0xdc00),unichr(0xdfff),
                           )
        input = re.sub(RE_XML_ILLEGAL, "", input)
                        
        # ascii control characters
        input = re.sub(r"[\x01-\x1F\x7F]", "", input)
            
    return input
&lt;/pre&gt;

&lt;p&gt;
Unicode section adapted from &lt;a href="http://maxharp3r.wordpress.com/2008/05/15/pythons-minidom-xml-and-illegal-unicode-characters/"&gt;Max Harper&lt;/a&gt;.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3156472016542488658/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/05/stripping-control-characters-in-python.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3156472016542488658'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3156472016542488658'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/stripping-control-characters-in-python.html' title='Stripping control characters in Python'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4658796162438848542</id><published>2011-05-13T22:17:00.002-04:00</published><updated>2011-05-13T22:21:46.045-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='unity'/><category scheme='http://www.blogger.com/atom/ns#' term='keepassx'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><title type='text'>Ubuntu Unity: I want my KeePassX panel back!</title><content type='html'>&lt;p&gt;
Big props to Ubuntu for taking a risk and trying to innovate in the desktop experience arena. Unity is pretty cool, but pretty raw, too. For example, some apps don't yet support the new panel. Even worse, some apps can get stuck in a "headless" mode where you can't access any of their windows due to not having a panel icon.
&lt;/p&gt;

&lt;p&gt;
Here is how to fix that. For a specific app, just add it to the whitelist. Hopefully these apps will be updated soon, making this a temporary fix.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
&amp;gt;gsettings get com.canonical.Unity.Panel systray-whitelist
['JavaEmbeddedFrame', 'Mumble', 'Wine', 'Skype', 'hp-systray', 'scp-dbus-service']

# added keepassx
&amp;gt;gsettings set com.canonical.Unity.Panel systray-whitelist "['JavaEmbeddedFrame', 'Mumble', 'Wine', 'Skype', 'hp-systray', 'scp-dbus-service', 'keepassx']"
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4658796162438848542/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html#comment-form' title='4 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4658796162438848542'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4658796162438848542'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html' title='Ubuntu Unity: I want my KeePassX panel back!'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>4</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5092620658746523287</id><published>2011-05-06T20:14:00.004-04:00</published><updated>2011-05-06T20:41:09.650-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='jquery'/><category scheme='http://www.blogger.com/atom/ns#' term='selenium'/><title type='text'>Selenium: Execute arbitrary javascript (even jQuery)</title><content type='html'>&lt;p&gt;
We're very happy with our new-ish Selenium + Saucelabs setup for web site automation testing. But as easy as Selenium makes it to compose tests, you will inevitably be frustrated trying to do some of the more complicated test scenarios.
&lt;/p&gt;

&lt;p&gt;
For example, the Selenium IDE has not been sufficient for us to automatically generate code to look inside a javascript based rich text editor control. Similarly, we could not figure out how to uncheck ALL checkboxes in a certain form when you don't know their IDs/names up front.
&lt;/p&gt;

&lt;p&gt;
As a web developer, when I run into issues like this with Selenium, I find myself wishing that I could just use jQuery. It's such a familiar tool, that I often think of how I would implement something with jQuery, and then attempt to translate that into the Selenium API. 
&lt;/p&gt;

&lt;p&gt;
Maybe in the future, Selenium will let you just code in javascript. What could be more natural? For now, you can use a work-around like the following python helper.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
# adapted from http://pivotallabs.com/users/patn/blog/articles/717-run-javascript-in-selenium-tests-easily-
def javascript(sel, script):
    return sel.get_eval("""
    (function() {
            with(this) {
              %(script)s
            }
          }).call(selenium.browserbot.getUserWindow());
    """ % locals())
&lt;/pre&gt;

&lt;p&gt;
There is a tricky bit here. When you call &lt;a href="http://release.seleniumhq.org/selenium-remote-control/1.0-beta-2/doc/dotnet/Selenium.ISelenium.GetEval.html"&gt;get_eval&lt;/a&gt;(), your javascript is executed in the context of the test runner, not the actual test window. Hence wrapping your javascript in an anonymous function, and executing it in the context of the browserbot window via the &lt;a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call"&gt;call()&lt;/a&gt; method.
&lt;/p&gt;

&lt;p&gt;
Another subtly is using getUserWindow() instead of getCurrentWindow(). This is so you can use the jQuery library already loaded by your app. Due to &lt;a href="http://jira.openqa.org/browse/SEL-558"&gt;SEL-558&lt;/a&gt;, getCurrentWindow() no longer gives you access to dynamically defined document properties, like "jQuery" or "$". Thanks to &lt;a href="http://crschmidt.net/blog/archives/348/selenium-ide-getcurrentwindow-problems/"&gt;Christopher Schmidt&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Assuming you already have jQuery loaded in your application, un-checking all the checkboxes on the page is as simple as:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class MyTest(SeleniumTestCase):
   def runTest(self):               
      javascript(self.selenium, "$('input[type=checkbox]').attr('checked', false);")
&lt;/pre&gt;

&lt;p&gt;
You can also use a jQuery selector to find a particular element and then return it. Any string returned from javascript() will get passed back to the python test runner code.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5092620658746523287/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/05/selenium-execute-arbitrary-javascript.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5092620658746523287'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5092620658746523287'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/selenium-execute-arbitrary-javascript.html' title='Selenium: Execute arbitrary javascript (even jQuery)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2459079791871901122</id><published>2011-04-26T16:44:00.003-04:00</published><updated>2011-04-28T09:26:42.178-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='splunk'/><title type='text'>cron job to mail Splunk license violation alerts</title><content type='html'>&lt;p&gt;
Have a problem staying under the Splunk free edition cap of 500MB/day? Splunk is no help. It silently logs violations, only taking action finally by shutting down your searches all together. Here is a quick cron job to email you license alerts as they happen.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
touch ~/splunk-license-alert
chmod +x ~/splunk-license-alert
vim ~/splunk-license-alert
&lt;/pre&gt;

&lt;pre name="code" class="bash"&gt;
#!/bin/bash
cp ~/.splunk-licence-violations ~/.splunk-licence-violations.last
/opt/splunk/bin/splunk show license |grep violation &amp;gt; ~/.splunk-licence-violations
if diff ~/.splunk-licence-violations ~/.splunk-licence-violations.last &amp;gt;/dev/null ; then
   echo "No new license violations."
else
   cat ~/.splunk-licence-violations |mail -s "Splunk license violation" -t "user@example.com"
fi
&lt;/pre&gt;

&lt;p&gt;
You can run this a couple times to prime the temp files. Then, you should start seeing "No new license violations." Complete the install by setting up cron:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
&gt;crontab -e

# run every morning at 1AM; Splunk tallies license violations at 12 midnight
00 1 * * * ~/splunk-license-alert &gt;/dev/null 2&gt;&amp;1
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2459079791871901122/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/04/cron-job-to-mail-splunk-license.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2459079791871901122'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2459079791871901122'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/04/cron-job-to-mail-splunk-license.html' title='cron job to mail Splunk license violation alerts'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6998444747499785654</id><published>2011-04-22T15:17:00.002-04:00</published><updated>2011-04-22T16:23:57.849-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='performance'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><title type='text'>Measure navigation timing with javascript</title><content type='html'>&lt;p&gt;
Historically, site administrators would measure their site performance by timing individual page renders. If your site is serving pages in less than 500ms, it must be pretty fast, right? The full picture is significantly more complicated.
&lt;/p&gt;

&lt;p&gt;
With the advent of decent browser-based timing information, developers and admins realized just how much of the picture they were previously missing. Now, with sites like &lt;a href="http://www.yottaa.com/"&gt;yotta&lt;/a&gt;, you can get this information without even sullying your own browser. 
&lt;/p&gt;

&lt;img src="https://lh6.googleusercontent.com/_EE2zVzGv1Ds/TbHWqftXBpI/AAAAAAAALcM/nuwPQHZoqiw/s800/yotta-timeline.png"&gt;

&lt;p&gt;
Notice that the "signup" HTML itself came back in just 158 milliseconds. This is the number you would see in typical apache log analyzer tools. But according to the browser based timing, the user did not see anything on the page for over 900ms. Even then, they could not fully interact with the page for over 2 seconds. 
&lt;/p&gt;

&lt;p&gt;
Instead of getting this information from expensive third party monitoring services, what if you could harvest it from your actual visitors? Enter the &lt;a href="https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/NavigationTiming/Overview.html"&gt;W3C Navigation Timing spec&lt;/a&gt;. It turns out browser vendors are way ahead of us.
&lt;/p&gt;

&lt;blockquote&gt;User latency is an important quality benchmark for Web Applications. While JavaScript-based mechanisms can provide comprehensive instrumentation for user latency measurements within an application, in many cases, they are unable to provide a complete end-to-end latency picture.&lt;/blockquote&gt;

&lt;img src="https://lh6.googleusercontent.com/_EE2zVzGv1Ds/TbHWqZ-z-tI/AAAAAAAALcI/fBtzcPzbIk4/s800/timing-overview.png"&gt;

&lt;p&gt;
In turns out that you can access this information &lt;b&gt;right now&lt;/b&gt;, at least in Chrome latest and IE 9.0. It's exposed as a simple javascript object.
&lt;/p&gt;

&lt;img src="https://lh4.googleusercontent.com/_EE2zVzGv1Ds/TbHZyO5O-GI/AAAAAAAALcU/YCiKsIff7UE/s800/performance-chrome.png"&gt;

&lt;p&gt;
So how do you log this information on the server side? There are many ways, but recently we solved this problem on one of our sites by sticking the values into a cookie. Then you can examine this cookie server side on a subsequent page request. From there, we decided to log to a file and create pretty graphs with &lt;a href="http://www.splunk.com/"&gt;Splunk&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
function store_client_performance_data() {

    var t = performance.timing;

    // Before the load event fires, the loadEventEnd value will be zero
    if (t.loadEventEnd &amp;gt; 0) {

        var earliestTime = t.navigationStart;

        // Redirects from a different origin cause navigationStart to
        // be zeroed out.  See NavigationTiming spec:
        //
        // https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/NavigationTiming/Overview.html
        //
        if (earliestTime == 0) {
            earliestTime = t.fetchStart;
        }

        fetchStartTime = t.fetchStart - earliestTime;
        responseEndTime = t.responseEnd - earliestTime;       
        loadEventEndTime = t.loadEventEnd - earliestTime;

        jQuery.cookie("clientSidePerformance",
                      fetchStartTime + "|" +
                      responseEndTime + "|" +
                      loadEventEndTime,
                      {"path": "/" });

    } else {
        setTimeout("store_client_performance_data()", 1000);
    }
}

if (Object.prototype.hasOwnProperty.call(window, "performance")) {
    setTimeout("store_client_performance_data()", 1000);
}
&lt;/pre&gt;

&lt;p&gt;
The only tricky part here is that you can't be sure when the page will stop loading. Instead, we run this function every second until loadEventEnd is non-zero. 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6998444747499785654/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/04/measure-navigation-timing-with.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6998444747499785654'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6998444747499785654'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/04/measure-navigation-timing-with.html' title='Measure navigation timing with javascript'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='https://lh6.googleusercontent.com/_EE2zVzGv1Ds/TbHWqftXBpI/AAAAAAAALcM/nuwPQHZoqiw/s72-c/yotta-timeline.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2781321133897867784</id><published>2011-04-07T12:25:00.003-04:00</published><updated>2011-04-07T12:39:17.897-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='sql'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django: show me the sql!</title><content type='html'>&lt;p&gt;
This week, I noticed that there was a select query in our production system without a where clause, and it was running a lot. Tracking it down, I found the piece of code that was running the query, but I couldn't be sure that my fix was actually changing the SQL to what I wanted.
&lt;/p&gt;

&lt;p&gt;
In Django, it's pretty easy to ask the framework for the SQL in question. You can use the &lt;a href="https://github.com/robhudson/django-debug-toolbar"&gt;Debug toolbar&lt;/a&gt;, but in my case, this wasn't something that was running in a view. Instead, I used the interactive shell.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt; 
./manage.py shell
from django.db import connection
from myapp.models import MyModel
MyModel.objects.all()
&amp;gt;[&amp;lt;MyModel: 1&amp;gt;, &amp;lt;MyModel: 2&amp;gt;, &amp;lt;MyModel: 3&amp;gt;, '...(remaining elements truncated)...']
print connection.queries
&amp;gt;[{'time': '0.002', 'sql': 'SELECT "myapp_mymodel"."id", "myapp_mymodel"."field1", "myapp_mymodel"."field1" FROM "myapp_mymodel"'}]
&lt;/pre&gt;

&lt;p&gt;
In my case, I was calling &lt;a href="http://docs.djangoproject.com/en/dev/ref/models/querysets/#exists"&gt;.exists()&lt;/a&gt; before getting the first element in the result set. Of course, the exists was returning all the items in the database! Instead, I just used a try/catch around MyModel.objects.all()[0].
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2781321133897867784/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/04/django-show-me-sql.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2781321133897867784'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2781321133897867784'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/04/django-show-me-sql.html' title='Django: show me the sql!'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6357515735591726546</id><published>2011-04-01T15:53:00.007-04:00</published><updated>2011-04-01T16:07:23.307-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='facebook'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Python: Convert your FBML Facebook app to IFRAME</title><content type='html'>&lt;p&gt;
Recently, users started reporting that our Facebook app was returning a blank screen. Tracking it down, it turned out that it was specifically when the user was in the new "Use Facebook as a Page" mode. Some other &lt;a href="http://forum.developers.facebook.net/viewtopic.php?id=89563"&gt;developers have reported&lt;/a&gt; a similar issue. Given that FBML apps were recently deprecated, I figured it was time to migration to IFRAMEs.
&lt;/p&gt;

&lt;blockquote&gt;With our recent launch of Requests and the support for iframe on Pages Tabs, we are now ready to move forward with our previously announced plans to deprecate FBML and FBJS as a primary technology for building apps on Facebook. On March 11, 2011, you will no longer be able to create new FBML apps and Pages will no longer be able to add the Static FBML app. While all existing apps on Pages using FBML or the Static FBML app will continue to work, we strongly recommend that these apps transition to iframes as soon as possible. - &lt;a href="http://developers.facebook.com/blog/post/462"&gt;Facebook Developers Blog&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;
The first big different is the authentication model. Instead of passing the facebook page id directly, they are now passing a &lt;a href="http://developers.facebook.com/docs/authentication/signed_request/"&gt;signed_request field&lt;/a&gt;. I was able to track down some &lt;a href="http://sunilarora.org/parsing-signedrequest-parameter-in-python-bas"&gt;open source code&lt;/a&gt;, and then modify it myself to only optionally take a secret, and remain backwards compatible with the FBML fb_sig_page_id parameter in Django.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import base64
import hashlib
import hmac
import simplejson as json

# from http://sunilarora.org/parsing-signedrequest-parameter-in-python-bas

def base64_url_decode(inp):
    padding_factor = (4 - len(inp) % 4) % 4
    inp += "="*padding_factor 
    return base64.b64decode(unicode(inp).translate(dict(zip(map(ord, u'-_'), u'+/'))))

def parse_signed_request(signed_request, secret=None):

    l = signed_request.split('.', 2)
    encoded_sig = l[0]
    payload = l[1]

    sig = base64_url_decode(encoded_sig)
    data = json.loads(base64_url_decode(payload))

    if data.get('algorithm').upper() != 'HMAC-SHA256':
        print "Facebook: Unknown algorithm"
        return None
    else:
        if secret:
            expected_sig = hmac.new(secret, msg=payload, digestmod=hashlib.sha256).digest()
    
    if secret and sig != expected_sig:
        return None
    
    return data

def get_facebook_page_id(request):
    facebook_page_id = request.REQUEST.get("fb_sig_page_id")
    if not facebook_page_id:
        signed_request = request.REQUEST.get("signed_request")
        if signed_request and "." in signed_request:
            data = parse_signed_request(signed_request)
            #{'user_id': 'XXX', 'algorithm': 'HMAC-SHA256', 'expires': 0, 
            # 'oauth_token': 'XXX', 
            # 'user': {'locale': 'en_US', 'country': 'us', 'age': {'min': 21}}, 'issued_at': 1301682530, 'page': 
            # {'admin': True, 'liked': False, 'id': 'XXX'}}
            page = data.get("page")            
            if page:
                facebook_page_id = page.get("id")
                
    return facebook_page_id  
&lt;/pre&gt;

&lt;p&gt;
The only change to my existing view code was to call get_facebook_page_id(request) instead of just request.REQUEST.get("fb_sig_page_id").
&lt;/p&gt;

&lt;p&gt;
The second big change was that you must style your apps yourself if you want it to look like the rest of Facebook in terms of fonts and colors. FBML apps were pretty locked down, which sucked in a lot of ways, but at least it automatically looked like the rest of Facebook. In any case, not such a big deal:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
/* put a facebook-app class on your BODY element, or a box div around all your content */
.facebook-app { 
    font-size: 11px;
    color: #333;
    font-family: 'lucida grande', tahoma, verdana, arial;
} 
.facebook-app a { color: #3B5998; text-decoration: none; }
&lt;/pre&gt;

&lt;p&gt;
I didn't have to change my HTML at all; it still omits the html/body tags just like FBML apps are required to do, but at least it's backwards compatible. In fact, I can switch my app between FBML and IFRAME modes and not see much difference.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6357515735591726546/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/04/python-convert-your-fbml-facebook-app.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6357515735591726546'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6357515735591726546'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/04/python-convert-your-fbml-facebook-app.html' title='Python: Convert your FBML Facebook app to IFRAME'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-533697273853598656</id><published>2011-03-25T13:06:00.003-04:00</published><updated>2011-03-25T13:11:31.896-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Django: send emails for doctest failures</title><content type='html'>&lt;p&gt;
If you're using &lt;a href="http://bitkickers.blogspot.com/2009/10/unit-testing-django-with-doctest.html"&gt;Django's unit/doc testing&lt;/a&gt; functionality, you would typically be running those tests manually on your local machine. This week, I decided that I wanted to run these nightly from our integration server, and send failures to the dev team. 
&lt;/p&gt;

&lt;p&gt;
The easiest way I could think of to do this was to write a little python script. You could run this script nightly using cron, or you could even run it on every commit as a post-build hook in your continuous integration tool.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
#!/usr/bin/python
from optparse import OptionParser
import smtplib
from email.mime.text import MIMEText
import settings
import commands

def getOptions():
    arguments = OptionParser()
    arguments.add_option("--email", action="store_true", dest="email_failures", help="Send email failure reports")
    return arguments.parse_args()[0]

def send_email(body):
    message = MIMEText(body)
    message["Subject"] = settings.MAIL_SUBJECT_UNITTESTS
    message["From"] = settings.MAIL_FROM
    message["To"] = ", ".join(settings.MAIL_TO)
    smtp = smtplib.SMTP(host=settings.SMTP_HOST)
    smtp.sendmail(settings.MAIL_FROM, settings.MAIL_TO, message.as_string())
    smtp.quit()
                        
if __name__ == '__main__':        
    options = getOptions()
    # STDIN (0), STDOUT (1) and STDERR (2)
    # just output stderr, which has the failures
    exit_code, output = commands.getstatusoutput("../manage.py test --noinput YOURAPPNAME 1&amp;gt;/dev/null")
    # exit_code == 256 (ERROR), 0 (SUCCESS)
    if exit_code != 0 and options.email_failures:
        send_email(output)
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/533697273853598656/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/03/django-send-emails-for-doctest-failures.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/533697273853598656'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/533697273853598656'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/03/django-send-emails-for-doctest-failures.html' title='Django: send emails for doctest failures'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5019048726052013085</id><published>2011-03-18T12:26:00.004-04:00</published><updated>2011-03-18T12:38:07.313-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='vpn'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><title type='text'>Ubuntu + Cisco VPN from the command-line</title><content type='html'>&lt;p&gt;
While the vpn client feature in the Ubuntu UI is very good, sometimes you need to VPN purely from the command-line. For example, if you need to VPN from a headless server into the network.
&lt;/p&gt;

&lt;p&gt;
Say your config in Ubuntu looks like as follows. Setting up the &lt;a href="http://www.unix-ag.uni-kl.de/~massar/vpnc/"&gt;vpnc&lt;/a&gt; command line version is fairly straight forward.
&lt;/p&gt;

&lt;img src="http://lh4.googleusercontent.com/_EE2zVzGv1Ds/TYLBiV_4J4I/AAAAAAAALbg/Ruz3G2J367k/s800/vpn-gtk.png"&gt;

&lt;pre name="code" class="bash"&gt;
&amp;gt;apt-get install vpnc
&amp;gt;vim /etc/vpnc.conf

# add the following to /etc/vpnc.conf
IPSec gateway bhofc.bullhorn.com
IPSec ID MYCOMPANY
IPSec secret ***
Xauth username username
Xauth password ***
NAT Traversal Mode cisco-udp

# exit vim
&amp;gt;vpnc-connect
VPNC started in background (pid: 12490)...

# test, 192.168.1.7 is on your VPN network
&amp;gt;ping 192.168.1.7
&lt;/pre&gt;

&lt;p&gt;
If you have iptables setup to only allow white listed outbound traffic, you may be blocking necessary ports. Here is the config to open the required ports.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
&amp;gt;iptables-save &amp;gt; /etc/iptables.conf
&amp;gt;vim /etc/iptables.conf

# add the following rules
-A OUTPUT -p tcp -m tcp --dport 500 -j ACCEPT
-A OUTPUT -p udp -m udp --dport 500 -j ACCEPT
-A OUTPUT -p esp -j ACCEPT 

# exit vim
&amp;gt;iptables-restore &amp;lt;/etc/iptables.conf
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5019048726052013085/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/03/ubuntu-cisco-vpn-from-command-line.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5019048726052013085'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5019048726052013085'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/03/ubuntu-cisco-vpn-from-command-line.html' title='Ubuntu + Cisco VPN from the command-line'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.googleusercontent.com/_EE2zVzGv1Ds/TYLBiV_4J4I/AAAAAAAALbg/Ruz3G2J367k/s72-c/vpn-gtk.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5164688760842312951</id><published>2011-03-04T15:05:00.007-05:00</published><updated>2011-03-04T15:22:54.685-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='facebook'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><category scheme='http://www.blogger.com/atom/ns#' term='unobtrusive'/><title type='text'>Facebook: Authenticate w/o the JavaScript SDK (Python)</title><content type='html'>&lt;p&gt;
If you're using the &lt;a href="http://developers.facebook.com/docs/reference/javascript/"&gt;Facebook JavaScript SDK&lt;/a&gt; to implement Facebook connect, your site may be more fragile than you think. Last weekend, I ran into an issue where an unrelated JavaScript error (the dreaded &lt;a href="http://www.enterprisedojo.com/2010/12/19/beware-the-trailing-comma-of-death/"&gt;comma of death&lt;/a&gt;) caused IE7 users to fail trying to connect to Facebook. To make the site more robust, I decided to implement a non-JavaScript fallback.
&lt;/p&gt;

&lt;p&gt;
Normally with Facebook connect, the login links have event handlers attached to them via JavaScript, such as this jQuery code.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
$("#facebook-login-button").click(function () {
 FB.login(function(response) {  
  if (response.session) {
   window.location = "/facebook/authenticated";
  } 
 }, { perms: "email" });
 return false;
});
&lt;/pre&gt;

&lt;p&gt;
Normally that URL has a null href, like a pound symbol. We are still going to attach the Facebook handler, but we're also going to supply a fall back href.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&lt;a href="{{ request|facebook_oauth_url_refresh:'email' }}" id="facebook-login-button"&gt;connect to Facebook&lt;/a&gt;
&lt;/pre&gt;

&lt;p&gt;
Generating the correct Facebook URL to redirect the user to, and handling the "code" handed back by Facebook is done in Python/Django:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import urllib
import json

@register.filter()
def facebook_oauth_url(request, perms=None, next=None):
    return get_oauth_url(request, perms, next)

# generates the URL to put into the facebook connect login link as a non-js fallback
def get_oauth_url(request, perms=None, next=None): 
    
    client_id = settings.FACEBOOK_TOKEN
    
    # there are various kinds of users that needs to authenticate via Facebook
    # each needs to be taken back to a different page, and possibly use different perms
    request.session["facebook_next"] = next
    if perms == None:
        perms = "email,publish_stream"
        
    redirect_uri = reverse("facebook_login", prefix=settings.SITE_URL)
    return "https://graph.facebook.com/oauth/authorize?client_id=%(client_id)s&amp;amp;scope=%(perms)s&amp;amp;redirect_uri=%(redirect_uri)s" % locals()

# handles the "facebook_login" request; back from Facebook's side
def login(request):
     
    code = request.REQUEST.get("code")
    if code:
        
        access_token_url = "https://graph.facebook.com/oauth/access_token?"
        
        args = {}
        args["client_id"] = settings.FACEBOOK_TOKEN
        args["client_secret"] = settings.FACEBOOK_SECRET
 # facebook_login is THIS url, need to pass something in or the token will not be generated
        args["redirect_uri"] = reverse("facebook_login", prefix=settings.SITE_URL)
        args["code"] = code
        
        url = access_token_url + urlencode(args)
        file = urllib.urlopen(url)
        
        try:
            contents = file.read()
            
            if file.getcode() == 200:
                access_token = cgi.parse_qs(contents).get("access_token")[-1]                
                return HttpResponse("Got OAuth token: " + access_token)    
                
            else:                                
                response = _parse_json(contents)
                print "Facebook error code: " + response.get("error")
                    
        except ValueError, e:
            print "Error connecting to Facebook. %s" % e
        finally:
            file.close()

&lt;/pre&gt;

&lt;p&gt;
That's it! Once you have the access token, you can make your API calls. I use the &lt;a href="https://github.com/facebook/python-sdk"&gt;Facebook GraphAPI SDK for Python&lt;/a&gt;.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5164688760842312951/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/03/facebook-authenticate-wo-javascript-sdk.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5164688760842312951'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5164688760842312951'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/03/facebook-authenticate-wo-javascript-sdk.html' title='Facebook: Authenticate w/o the JavaScript SDK (Python)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-440967589693826436</id><published>2011-02-26T10:23:00.005-05:00</published><updated>2011-04-15T11:10:17.811-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>HAProxy Quickstart w/ full example config file</title><content type='html'>&lt;p&gt;
I recently installed HAProxy as a web server load balancer. While &lt;a href="http://haproxy.1wt.eu/download/1.4/doc/configuration.txt"&gt;their documentation&lt;/a&gt; is great, I found it lacking a complete example of a working configuration file. For reference, here is the config file I ended up with along with comments.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# /etc/haproxy/haproxy.cfg, version 1.4

global
   maxconn 4096
   user haproxy
   group haproxy
   daemon

defaults
   log   global
   mode   http
   # logs which servers requests go to, plus current connections and a whole lot of other stuff 
   option   httplog
   option   dontlognull
   retries   3
   option redispatch
   maxconn   2000
   contimeout   5000
   clitimeout   50000
   srvtimeout   50000
   log        127.0.0.1       local0
   # use rsyslog rules to forword to a centralized server  
   log        127.0.0.1       local7 debug
   # check webservers for health, taking them out of the queue as necessary 
   option httpchk

# this load balancer servers both www.site.com and static.site.com, but those two URLS have  
# different servers on the backend (app servers versus statis media apache instances)  
# also, I want to server www.site.com/static/* from the later farm  

frontend http

   bind 0.0.0.0:80

   # important, see comment from Willy Tarreau bellow
   option http-server-close

   # NAT static host names and static paths in other hostnames to static.bullhornreach.com
   acl host_static hdr_beg(host) -i static
   acl url_static  path_beg    /static
   use_backend static if host_static
   use_backend static if url_static

    default_backend www

backend www
   balance roundrobin
   server www1 www1 check port 80
   server www2 www2 check port 80
   server www3 www3 check port 80
   # provide a maintenance page functionality, only used when all other servers are down
   server load1 localhost:8080 backup

backend static
   # for static media, connections are cheap, plus the client is very likely to request multiple files  
   # so, keep the connection open (KeepAlive is the default)  
   balance roundrobin
   server media1 media1 check port 80
   server media2 media2 check port 80

listen stats :1936
   mode http
   stats enable
   stats scope http
   stats scope www
   stats scope static
   stats scope static_httpclose
   stats realm Haproxy\ Statistics
   stats uri /
   stats auth haproxy:YOURPASSWORDHERE

&lt;/pre&gt;

&lt;b&gt;Edit: made changes suggested by Willy Tarreau.&lt;/b&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/440967589693826436/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/02/haproxy-quickstart-w-full-example.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/440967589693826436'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/440967589693826436'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/haproxy-quickstart-w-full-example.html' title='HAProxy Quickstart w/ full example config file'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8176250818415986370</id><published>2011-02-18T14:13:00.003-05:00</published><updated>2011-02-18T14:21:46.719-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Django fix_IE_for_vary "bug"</title><content type='html'>&lt;p&gt;
I was briefly perplexed by an IE only bug this week. An Ajax call was throwing the following 500 exception, but only in IE.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
Traceback (most recent call last):

File "/home/chase/bullhorn/branches/talladega/virtualenv/lib/python2.6/site-packages/django/core/servers/basehttp.py", line 280, in run
self.result = application(self.environ, self.start_response)

File "/home/chase/bullhorn/branches/talladega/virtualenv/lib/python2.6/site-packages/django/core/servers/basehttp.py", line 674, in _call_
return self.application(environ, start_response)

File "/home/chase/bullhorn/branches/talladega/virtualenv/lib/python2.6/site-packages/django/core/handlers/wsgi.py", line 246, in _call_
response = self.apply_response_fixes(request, response)

File "/home/chase/bullhorn/branches/talladega/virtualenv/lib/python2.6/site-packages/django/core/handlers/base.py", line 195, in apply_response_fixes
response = func(request, response)

File "/home/chase/bullhorn/branches/talladega/virtualenv/lib/python2.6/site-packages/django/http/utils.py", line 77, in fix_IE_for_vary
if response['Content-Type'].split(';')[0] not in safe_mime_types:

AttributeError: 'int' object has no attribute 'split'
&lt;/pre&gt;

&lt;p&gt;
Originally, I thought this looked like a bug in Django, however unlikely that is. But after walking through the code with a debugger, it was clear that the "Content-Type" reponse header was not "text/plain", or some such. Instead it was the integer 200. I finally traced it back to my own code.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
return HttpResponse("job saved", 200) # should be status=200
&lt;/pre&gt;

&lt;p&gt;
The problem is that the second positional argument to HttpResponse is content type, but I was just assuming it was the status code in this case. Easy fix. 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8176250818415986370/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/02/django-fixieforvary-bug.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8176250818415986370'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8176250818415986370'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/django-fixieforvary-bug.html' title='Django fix_IE_for_vary &quot;bug&quot;'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8704865025873959797</id><published>2011-02-11T15:14:00.002-05:00</published><updated>2011-02-11T15:19:36.277-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>cat to syslog</title><content type='html'>&lt;p&gt;
Ever wanted to submit the results of regular command-line tools to syslog? &lt;a href="http://www.cyberciti.biz/tips/howto-linux-unix-write-to-syslog.html"&gt;Logger&lt;/a&gt; lets you do that. Here is an example of logging CPU load and vmstat into to a centralized syslog server.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
cat /proc/loadavg |logger -p local7.info -t "load-cpu"
vmstat |tail -n +3 |logger -p local7.info -t "load-vmstat"
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8704865025873959797/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/02/cat-to-syslog.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8704865025873959797'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8704865025873959797'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/cat-to-syslog.html' title='cat to syslog'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7412841614287844992</id><published>2011-02-03T09:47:00.018-05:00</published><updated>2011-02-03T14:33:43.225-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='postgres'/><title type='text'>Quickstart: Log shipping with Postgres 8.4</title><content type='html'>&lt;p&gt;
The official &lt;a href="http://www.postgresql.org/docs/8.4/static/warm-standby.html"&gt;Postgres documentation&lt;/a&gt; covers log shipping (aka WAL Archiving, aka warm standby) in some depth. But it's still quite a lot to absorb. The basic idea is to give you a hot spare to fail over to if your main database server crashes. Here is a step by step guide on how to set this up on the command line in Ubuntu (10.04). I assume you have two identical servers (vm clone?), a master and a slave.
&lt;/p&gt;

&lt;p&gt;
First, you need to setup a directory on the slave which will hold the WAL archives (logs). Unless otherwise notes, all commands are run as root.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# on the slave, must be outside main b/c we are going to blow that away
mkdir /var/lib/postgresql/8.4/pg_wal
chown postgres:postgres /var/lib/postgresql/8.4/pg_wal
&lt;/pre&gt;

&lt;p&gt;
We're going to use ssh/scp to copy WAL files from the master to the slave(&lt;b&gt;10.177.1.247&lt;/b&gt;), so you need to exchange ssh keys for the postgres users on each end.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# on master, share postgres credentials with slave
sudo su postgres
ssh-keygen -t rsa # press enter to all prompts (don't set explicit password)
ssh postgres@10.177.1.247 mkdir -p ~/.ssh
cat ~/.ssh/id_rsa.pub | ssh postgres@10.177.1.247 'cat &amp;gt;&amp;gt; ~/.ssh/authorized_keys'

# test the ssh connection
ssh postgres@10.177.1.247 # should not prompt for a password
exit # exit new ssh session
exit # exit sudo as postgres, you're now root again

# setup postgres WAL archiving to copy to slave
vim /etc/postgresql/8.4/main/postgresql.conf

# make the following edits
archive_mode = on
archive_command = 'scp %p postgres@10.177.1.247:/var/lib/postgresql/8.4/pg_wal/%f &amp;lt;/dev/null'
archive_timeout = 600 # 10 minutes

# now, outside of vim, restart postgres
/etc/init.d/postgresql restart
&lt;/pre&gt;

&lt;p&gt;
If you wait 10 minutes, you should see a new file in /var/lib/postgresql/8.4/pg_wal on the slave. Assuming that's working, you're ready to create the initial snapshot.
&lt;/p&gt;

&lt;p&gt;
I was confused by the documentation on this point. Basically, you want to issue a pg_start_backup SQL command on the master, then copy the entire /var/lib/postgresql/8.4/main directory to the slave. The pg_start_backup ensures that the physical files will be in a consistent state. You can perform this copy while master is running. 
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# on master
sudo -u postgres psql mydbname
SELECT pg_start_backup('initial');
# may take a few minutes, wait then control-D to exit

# zip up the main data directory, and copy it to the slave
cd /var/lib/postgresql/8.4
zip -r main.zip main
scp main.zip postgres@10.177.1.247:/var/lib/postgresql/8.4

sudo -u postgres psql mydbname
SELECT pg_stop_backup();
&lt;/pre&gt;

&lt;p&gt;
Now the initial snapshot is on the slave, but we need to actually restore those files as the new primary files on the slave. At the same time, we can restart the slave in recovery mode, using &lt;a href="http://www.postgresql.org/docs/9.0/static/pgstandby.html"&gt;pg_standby&lt;/a&gt;. Recovery is enabled by creating a .conf file right in main.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# on the SLAVE
apt-get install postgresql-contrib-8.4 # installs the pg_standby tool
/etc/init.d/postgresql-8.4 stop
cd /var/lib/postgresql/8.4
mv main main.bak
unzip main.zip
rm -f main/pg_xlog/* # these are from master, and are not needed

# create the recovery config file
vim /var/lib/postgresql/8.4/main/recovery.conf

# add the following, and save
restore_command = '/usr/lib/postgresql/8.4/bin/pg_standby -d -t /tmp/pgsql.trigger.5442 /var/lib/postgresql/8.4/pg_wal %f %p %r 2&amp;gt;&amp;gt;/var/log/postgresql/standby.log'
recovery_end_command = 'rm -f /tmp/pgsql.trigger.5442'

# make sure the new main (as well as recovery.conf) have the correct ownership
chown postgres:postgres main -R

# restart, and keep and eye on the new standby.log file to see if it's working
/etc/init.d/postgresql-8.4 restart
tail -f /var/log/postgresql/standby.log -n 100
&lt;/pre&gt;

&lt;p&gt;
You should see log lines like the following.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
Trigger file   : /tmp/pgsql.trigger.5442
Waiting for WAL file : 0000000100000006000000AE.00000020.backup
WAL file path  : /var/lib/postgresql/8.4/pg_wal/0000000100000006000000AE.00000020.backup
Restoring to  : pg_xlog/RECOVERYHISTORY
Sleep interval  : 5 seconds
Max wait interval : 0 forever
Command for restore : cp "/var/lib/postgresql/8.4/pg_wal/0000000100000006000000AE.00000020.backup" "pg_xlog/RECOVERYHISTORY"
Keep archive history : 000000000000000000000000 and later
running restore  : OK
Trigger file   : /tmp/pgsql.trigger.5442
Waiting for WAL file : 0000000100000006000000AE
WAL file path  : /var/lib/postgresql/8.4/pg_wal/0000000100000006000000AE
Restoring to  : pg_xlog/RECOVERYXLOG
Sleep interval  : 5 seconds
Max wait interval : 0 forever
Command for restore : cp "/var/lib/postgresql/8.4/pg_wal/0000000100000006000000AE" "pg_xlog/RECOVERYXLOG"
Keep archive history : 000000000000000000000000 and later
running restore  : OK

Trigger file   : /tmp/pgsql.trigger.5442
Waiting for WAL file : 0000000100000006000000AF
WAL file path  : /var/lib/postgresql/8.4/pg_wal/0000000100000006000000AF
Restoring to  : pg_xlog/RECOVERYXLOG
Sleep interval  : 5 seconds
Max wait interval : 0 forever
Command for restore : cp "/var/lib/postgresql/8.4/pg_wal/0000000100000006000000AF" "pg_xlog/RECOVERYXLOG"
Keep archive history : 0000000100000006000000AE and later
WAL file not present yet. Checking for trigger file...
WAL file not present yet. Checking for trigger file...
WAL file not present yet. Checking for trigger file...
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/7412841614287844992/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/02/quickstart-log-shipping-with-postgres.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7412841614287844992'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7412841614287844992'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/quickstart-log-shipping-with-postgres.html' title='Quickstart: Log shipping with Postgres 8.4'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5465045095719306504</id><published>2011-01-28T13:45:00.003-05:00</published><updated>2011-01-28T14:03:27.354-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='xss'/><category scheme='http://www.blogger.com/atom/ns#' term='plaintext'/><category scheme='http://www.blogger.com/atom/ns#' term='beautifulsoup'/><title type='text'>Sanitize HTML with Beautiful Soup</title><content type='html'>&lt;p&gt;
If you have a website that displays user-generated HTML (emails, rich text entry, etc), you likely want to scrub that HTML before you display it. At the very least, you want to provide a reasonable protection against &lt;a href="http://bitkickers.blogspot.com/2009/02/antisamy.html"&gt;XSS&lt;/a&gt;. But maybe you also want to prevent the HTML from breaking your page layout. Either way, Beautiful Soup is a good tool for the job.
&lt;/p&gt;

&lt;p&gt;
Here is some Python code that uses Beautiful Soup to clean HTML of any tags and attributes not explicitly white listed. The CSS property scrubbing is blacklist based, which sucks and should be redone with a real CSS parsing library. If you want a really diesel solution to this issue, I suggest you look at &lt;a href="http://www.owasp.org/index.php/Category:OWASP_AntiSamy_Project"&gt;AntiSamy&lt;/a&gt; for Java or .NET.
&lt;/p&gt;

&lt;p&gt;
As a bonus, there is also a method for converting html to plaintext, while making a best effort to preserve the structural whitespace.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from BeautifulSoup import BeautifulSoup, Comment
import re, htmlentitydefs
from HTMLParser import HTMLParseError
from datetime import datetime
import subprocess
import os
import urllib2

def safe_html(html):
    
    if not html:
        return None

    # remove these tags, complete with contents.
    blacklist = ["script", "style" ]
    
    whitelist = [
        "div", "span", "p", "br", "pre",
        "table", "tbody", "thead", "tr", "td", "a",
        "blockquote",
        "ul", "li", "ol", 
        "b", "em", "i", "strong", "u", "font"                 
        ]

    try:
        # BeautifulSoup is catching out-of-order and unclosed tags, so markup
        # can't leak out of comments and break the rest of the page.            
        soup = BeautifulSoup(html)        
    except HTMLParseError, e:
        # special handling?
        raise e

    # now strip HTML we don't like.
    for tag in soup.findAll():
        if tag.name.lower() in blacklist:
            # blacklisted tags are removed in their entirety
            tag.extract()
        elif tag.name.lower() in whitelist:
            # tag is allowed. Make sure all the attributes are allowed.
            tag.attrs = [(a[0], safe_css(a[0], a[1])) for a in tag.attrs if _attr_name_whitelisted(a[0])]
        else:
            # not a whitelisted tag. I'd like to remove it from the tree
            # and replace it with its children. But that's hard. It's much
            # easier to just replace it with an empty span tag.
            tag.name = "span"
            tag.attrs = []

    # scripts can be executed from comments in some cases
    comments = soup.findAll(text=lambda text:isinstance(text, Comment))
    for comment in comments:
        comment.extract()

    safe_html = unicode(soup)
    
    if safe_html == ", -":
        return None   
    
    return safe_html
    
def _attr_name_whitelisted(attr_name):
    return attr_name.lower() in ["href", "style", "color", "size", "bgcolor", "border"]
     
def safe_css(attr, css):
    if attr == "style":
        return re.sub("(width|height):[^;]+;", "", css)
    return css

def plaintext(input):
    """Converts HTML to plaintext, preserving whitespace."""
    
    # from http://effbot.org/zone/re-sub.htm#unescape-html
    def _unescape(text):
        def fixup(m):
            text = m.group(0)
            if text[:2] == "&amp;amp;#":
                # character reference
                try:
                    if text[:3] == "&amp;amp;#x":
                        return unichr(int(text[3:-1], 16))
                    else:
                        return unichr(int(text[2:-1]))
                except ValueError:
                    pass
            else:
                # named entity
                try:
                    text = unichr(htmlentitydefs.name2codepoint[text[1:-1]])
                except KeyError:
                    pass
            return text # leave as is
        return re.sub("&amp;amp;#?\w+;", fixup, text)
        
    input = safe_html(input) # basic sanitation first
    text = "".join(BeautifulSoup("&amp;lt;body&amp;gt;%s&amp;lt;/body&amp;gt;" % input).body(text=True))
    text = text.replace("xml version='1.0' encoding='%SOUP-ENCODING%'", "") # strip BS meta-data
    return _unescape(text)
&lt;/pre&gt;

&lt;p&gt;
&lt;i&gt;Note: This method is neither fast, nor particularly bullet proof. You definitely want to cache the results so you're not performing this transformation while the user is waiting. Some documents will throw a HTMLParseError if Beautiful Soup cannot parse them. You can choose whether you want to do the secure thing and not show it at all, or if you want to risk it and show them the original HTML.&lt;/i&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5465045095719306504/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/01/sanitize-html-with-beautiful-soup.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5465045095719306504'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5465045095719306504'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/sanitize-html-with-beautiful-soup.html' title='Sanitize HTML with Beautiful Soup'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1250755840805426326</id><published>2011-01-21T13:07:00.005-05:00</published><updated>2011-01-21T13:44:00.431-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><category scheme='http://www.blogger.com/atom/ns#' term='iframe'/><category scheme='http://www.blogger.com/atom/ns#' term='framebreaking'/><category scheme='http://www.blogger.com/atom/ns#' term='youtube'/><title type='text'>Youtube: Detecting X-Frame-Options/framebreaking in Python</title><content type='html'>&lt;p&gt;
My current project involves URL shortening. Like many URL shorteners, we wanted to get into frame bars. These are alternately called banners, share bars and "eyebrows". It's basically just putting some small content on the top of the screen, and then wrapping the "real" content in an IFRAME that takes the rest of the screen. Maybe you've seen when LinkedIn does this.
&lt;/p&gt;

&lt;img src="http://lh3.ggpht.com/_EE2zVzGv1Ds/TTnNvbKkWfI/AAAAAAAALaM/tk8awd4swmc/s800/linkedin-banner.png"&gt;

&lt;p&gt;
Now, I'm not crazy about the ethics of framing other peoples' content. I'm not even convinced that it would not be ruled illegal some day. In any case, lot's of people are doing it, and we decided we needed to be doing it too. In my case, we're just showing you who shared it, we're not doing ads or anything.
&lt;/p&gt;

&lt;p&gt;
Understandably, many sites don't want you to frame their content. This has lead to a kind of arms race, where content sites use javascript to try to break out of the frame (aka framebreaking), and then the wrapper sites try to &lt;a href="http://stackoverflow.com/questions/958997/frame-buster-buster-buster-code-needed"&gt;break the framebreaker&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
This eventually lead to full-fledged support at the browser level for framebreaking, in the form of the &lt;a href="https://developer.mozilla.org/en/the_x-frame-options_response_header"&gt;X-Frame-Options header&lt;/a&gt;. Essentially, a site can publish this HTTP header on all their content, and most modern browsers will display an error/warning if the content is put into a frame (or, at least a frame on another domain). In Firefox, this looks like the following.
&lt;/p&gt;

&lt;img src="http://lh6.ggpht.com/_EE2zVzGv1Ds/TTnPz7ol06I/AAAAAAAALaU/yqdmzffPmms/s800/x-frame-options.png"&gt;

&lt;p&gt;
This is actually a pretty cool development. However, in order to provide a good user experience when you're frame barring (is that an oxymoron?), you ideally would detect ahead of time whether the site you're framing has this X-Frame-Option set, and just redirect to the content in that case.
&lt;/p&gt;

&lt;p&gt;
Here is some Python code that does just that. It basically just makes an HTTP call to the content server to server.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def is_framing_allowed(url)
   request = urllib2.Request(url)
   request.add_header("Referer", "http://example.com") # you should put your real URL here
   opener = urllib2.urlopen(request)
   # returns True if ANY x-frame-options header is present
   # the only options at present are DENY and SAMEORIGIN, either of which means you can't frame
   return "x-frame-options" in opener.headers.dict
&lt;/pre&gt;

&lt;p&gt;
Notice that I'm setting a Referer here. Youtube in particular requires that this be set before it will serve a x-frame-options header:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
curl "http://www.youtube.com/watch?v=kdoCBJe0F3o" -D headers.txt &amp;gt;/dev/null 2&amp;gt;&amp;amp;1; cat headers.txt
HTTP/1.1 200 OK
Date: Fri, 21 Jan 2011 18:35:39 GMT
Server: wiseguy/0.6.7
X-Content-Type-Options: nosniff
Set-Cookie: use_hitbox=72c46ff6cbcdb7c5585c36411b6b334edAEAAAAw; path=/; domain=.youtube.com
Set-Cookie: VISITOR_INFO1_LIVE=nMjwYxkZq0Q; path=/; domain=.youtube.com; expires=Sun, 18-Sep-2011 18:35:39 GMT
Set-Cookie: recently_watched_video_id_list=7291701d6005203af93186bd50b882b5WwEAAABzCwAAAGtkb0NCSmUwRjNv; path=/; domain=.youtube.com
Set-Cookie: GEO=1fe4b343c2bea46a564b0990ff037b32cwsAAAAzVVPRyoNiTTnR+w==; path=/; domain=.youtube.com
Expires: Tue, 27 Apr 1971 19:44:06 EST
Cache-Control: no-cache
Content-Type: text/html; charset=utf-8
Transfer-Encoding: chunked

curl "http://www.youtube.com/watch?v=kdoCBJe0F3o" -e "http://example.com" -D headers.txt &amp;gt;/dev/null 2&amp;gt;&amp;amp;1; cat headers.txt
HTTP/1.1 200 OK
Date: Fri, 21 Jan 2011 18:35:55 GMT
...
X-Frame-Options: SAMEORIGIN
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1250755840805426326/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/01/youtube-detecting-x-frame.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1250755840805426326'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1250755840805426326'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/youtube-detecting-x-frame.html' title='Youtube: Detecting X-Frame-Options/framebreaking in Python'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_EE2zVzGv1Ds/TTnNvbKkWfI/AAAAAAAALaM/tk8awd4swmc/s72-c/linkedin-banner.png' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-224730283154669891</id><published>2011-01-15T12:19:00.008-05:00</published><updated>2011-01-15T12:41:32.691-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><category scheme='http://www.blogger.com/atom/ns#' term='mechanize'/><category scheme='http://www.blogger.com/atom/ns#' term='beautifulsoup'/><title type='text'>Backup your Amazon order history with Python</title><content type='html'>&lt;p&gt;
Ever wanted to download your Amazon order history? Maybe you want to get it into a spreadsheet, or just keep it around in case Amazon decides to delete this information. Here is some Python code to screen scrape your account pages.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import sys
from optparse import OptionParser  
import datetime
import mechanize
from BeautifulSoup import BeautifulSoup
import pprint

"""
Usage: python amazon.py --username=foo --password=bar --firstyear=2004
"""

def getOptions():
   arguments = OptionParser()
   arguments.add_options(["--username", "--password", "--firstyear"])
   return arguments.parse_args()[0]

def _text(node):
      return "".join([unicode(s) for s in node.contents]).strip()

def _parse_orders(html):
      soup = BeautifulSoup(html)
      orders = []
      for order in soup.findAll("div", {"class": "order"}):
            date = order.find("h2")
            for item in order.findAll("li", {"class": "item "}):
                  title = item.find("span", {"class": "item-title"})
                  link = item.find("a")
                  image = item.find("img")
                  orders.append({
                        "date": _text(date),
                        "title": _text(title),
                        "link": link["href"],
                        "image": image["src"]
                  })     
      return orders

if __name__ == '__main__': 

      options = getOptions()

      br = mechanize.Browser()
      br.set_handle_robots(False)
      br.addheaders = [("User-agent", "Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.13) Gecko/20101206 Ubuntu/10.10 (maverick) Firefox/3.6.13")]

      sign_in = br.open("http://www.amazon.com/gp/flex/sign-out.html")

      br.select_form(name="sign-in")
      br["email"] = options.username
      br["password"] = options.password
      logged_in = br.submit()

      error_str = "The e-mail address and password you entered do not match any accounts on record."
      if error_str in logged_in.read():
            print error_str
            sys.exit(1)

      orders = []
      for year in range(int(options.firstyear),  datetime.datetime.now().year):
            orders_html = br.open("https://www.amazon.com/gp/css/history/orders/view.html?orderFilter=year-%s&amp;amp;startAtIndex=1000" % year)
            new_orders = _parse_orders(orders_html.read())
            if new_orders:
                  orders.append(new_orders)

      if len(orders) == 0:
            print "No orders found."
            sys.exit(1)

      pp = pprint.PrettyPrinter(indent=4)
      pp.pprint(orders)

&lt;/pre&gt;

&lt;pre name="code" class="bash"&gt;
# usage example, your username and password are your Amazon login. The firstyear is the year of your oldest order.
python amazon.py --username=foo --password=bar --firstyear=2004
&lt;/pre&gt;

&lt;pre name="code" class="python"&gt;
# example output (json)
    [   {   'date': u'November 26, 2007',
            'image': u'https://images-na.ssl-images-amazon.com/images/I/517SDCCC3KL._SX100_.jpg',
            'link': u'http://www.amazon.com/gp/product/0847827852/ref=oss_product',
            'title': u'Chip Kidd: Book One: Work: 1986-2006 (Chip Kidd)'},
        {   'date': u'November 23, 2007',
            'image': u'https://images-na.ssl-images-amazon.com/images/I/118MVgvXzoL._SX100_.jpg',
            'link': u'http://www.amazon.com/gp/product/B000OUP9NE/ref=oss_product',
            'title': u'Canon Black Ink Cartridge &amp;amp;#45; PGI5'},
        {   'date': u'November 23, 2007',
            'image': u'https://images-na.ssl-images-amazon.com/images/I/41sW%2B3x4VJL._SY100_.jpg',
            'link': u'http://www.amazon.com/gp/product/B000BUWNH2/ref=oss_product',
            'title': u'Canon CLI-8 4-Color Multipack Ink Tanks'},
        {   'date': u'November 22, 2007',
            'image': u'https://images-na.ssl-images-amazon.com/images/I/51YT5W1SEeL._SY100_.jpg',
            'link': u'http://www.amazon.com/gp/product/B0002F5E0E/ref=oss_product',
            'title': u'Meinl Kenny Aronoff Steel Bell Series Cowbell,  8 Inches'},

        ...
&lt;/pre&gt;

&lt;p&gt;
Please, drop me a comment if you have any bug fixes or interesting use cases for this code.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/224730283154669891/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html#comment-form' title='5 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/224730283154669891'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/224730283154669891'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html' title='Backup your Amazon order history with Python'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>5</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8142582253725044074</id><published>2011-01-07T09:27:00.004-05:00</published><updated>2011-09-27T09:54:51.236-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='syslog'/><category scheme='http://www.blogger.com/atom/ns#' term='rsyslog'/><title type='text'>Getting arbitrary log files into Rsyslog</title><content type='html'>&lt;p&gt;
Ideally, the applications that you're working with already supports the syslog standard. Failing that, it's often necessary to suck a regular text log file into rsyslog. Doing so is fairly easy, but I had a harder time than I suspected finding the documentation.
&lt;/p&gt;

&lt;p&gt;
The key is the optional rsyslog module &lt;a href="http://webcache.googleusercontent.com/search?q=cache:sVAW5a8A9cEJ:www.rsyslog.com/doc/imfile.html+imfile&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;gl=us"&gt;imfile&lt;/a&gt;. It's not enabled by default, so you will need to enable it.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
vim /etc/rsyslog.conf

# add the following
$ModLoad imfile
&lt;/pre&gt;

&lt;p&gt;
You will also need to configure each log file you want to poll. If you want, you can place these settings in separate files under /etc/rsyslog.d. In this case, my application is called "celery".
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
vim /etc/rsyslog.d/celery.conf

# add the following
$InputFileName /var/log/django/celery.log
$InputFileTag celery
$InputFileStateFile celery-file1
$InputFileSeverity info
$InputFileFacility local7
$InputRunFileMonitor
$InputFilePersistStateInterval 1000

# exit vim, and restart rsyslog
service rsyslog restart
&lt;/pre&gt;

&lt;p&gt;
This will poll celery.log every 10 seconds, and echo the contents into syslog. You can then forward them to remote machines as necessary.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8142582253725044074/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2011/01/getting-arbitrary-log-files-into.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8142582253725044074'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8142582253725044074'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/getting-arbitrary-log-files-into.html' title='Getting arbitrary log files into Rsyslog'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4986126776901476018</id><published>2010-12-31T10:10:00.009-05:00</published><updated>2010-12-31T10:38:16.406-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='splunk'/><category scheme='http://www.blogger.com/atom/ns#' term='syslog'/><category scheme='http://www.blogger.com/atom/ns#' term='rsyslog'/><category scheme='http://www.blogger.com/atom/ns#' term='apache'/><title type='text'>Splunk/Rsyslog/Apache/Ubuntu Quickstart</title><content type='html'>&lt;p&gt;
I've been using &lt;a href="http://www.splunk.com/"&gt;Splunk&lt;/a&gt; for several years. It's a great tool for log file visualization and analytics. One thing I use it for is to &lt;a href="http://www.splunk.com/base/Documentation/latest/User/InteractiveFieldExtractionExample"&gt;generate a graph of average milliseconds&lt;/a&gt; per request on an apache instance. Up until recently, I was running this directly on the production web server. 
&lt;/p&gt;

&lt;p&gt;
Lately, it became clear that we needed to move this to a dedicated machine. For one thing, we were about to add a second apache server. Also, I have noticed that running this report hammers the server pretty hard, especially if you're doing field extraction on the fly. In any case, I decided it was time to look into syslog.
&lt;/p&gt;

&lt;blockquote&gt;Syslog is a standard for logging program messages. It allows separation of the software that generates messages from the system that stores them and the software that reports and analyzes them. It also provides devices which would otherwise be unable to communicate a means to notify administrators of problems or performance. - &lt;a href="http://en.wikipedia.org/wiki/Syslog"&gt;Wikipedia&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;
In practice, the specific feature of syslog I wanted to leverage was the forwarding of log events from the production machine(s) to the Splunk server. In Splunk, the setup is just enabling TCP data inputs.
&lt;/p&gt;

&lt;img src="http://lh3.ggpht.com/_EE2zVzGv1Ds/TR30FHd9ANI/AAAAAAAALZw/Yt8JL-513qs/s800/splunk-tcp.png"&gt;

&lt;p&gt;
Port 5011 is a commonly unused port I chose at random. In my case, I also needed to open this port in iptables (the firewall) on the Splunk server.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
iptables-save &amp;gt; /etc/iptables.conf
vim /etc/iptables.conf

# add the following (allow the 10.177 subnet to open TCP port 5011 to the Splunk server)
-A INPUT -s 10.177.0.0/16 -p tcp -m tcp --dport 5011 -j ACCEPT

/sbin/iptables-restore &amp;lt; /etc/iptables.conf
&lt;/pre&gt;

&lt;p&gt;
On a current Ubuntu installation, syslog service is provided by &lt;a href="http://www.rsyslog.com/"&gt;rsyslog&lt;/a&gt;. The first step is to configure rsyslog to forward log events to the Splunk server. In my case, the Splunk server is at 10.177.0.204.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
vim /etc/rsyslog.d/50-default.conf

# add the following, which defines a common format, and then forwards ALL syslog events
$template SyslFormat,"%timegenerated% %HOSTNAME% %syslogtag%%msg:::space$
*.* @@10.177.0.204:5011;SyslFormat

service rsyslog restart
&lt;/pre&gt;

&lt;p&gt;
Again, I also needed to open port 5011 (outbound this time) in iptables.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
-A OUTPUT -p tcp -m tcp --dport 5011 -j ACCEPT
&lt;/pre&gt;

&lt;p&gt;
At this point, you should start seeing syslog events in Splunk. An easy way to test it is to restart rsyslog. You should see the log events for shutting down/starting the rsyslog process. If not, you may want to try the following trouble-shooting steps. In my case, I initially ran into trouble because I was assuming the traffic was being sent over UDP, but in rsyslog it's TCP by default.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# tail the local syslog file, make sure events are being generated
tail -f /var/log/syslog

# try to open a port from the apache server to the splunk server, it's successful unless you see connection refused
telnet 10.177.0.204 5011

# try to open port 5011 on the Splunk server itself
telnet localhost 5011
&lt;/pre&gt;

&lt;p&gt;
The next step is to get &lt;a href="http://wiki.rsyslog.com/index.php/Working_Apache_and_Rsyslog_configuration"&gt;Apache to log to syslog&lt;/a&gt;. In my case, the following was sufficient to log anything that Django prints to the console.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
vim /etc/apache2/sites-available/default

# add the following, logs most events in syslog
ErrorLog syslog:local7

service apache2 restart
&lt;/pre&gt;

&lt;p&gt;
Now you should be getting Apache + other syslog events into Splunk. But they all show up with a source type of "tcp:5011" by default. What's happening is that Splunk is seeing them all as the same virtual log file. Luckily, there is an easy &lt;a href="http://blogs.splunk.com/2010/02/11/sourcetypes-gone-wild/"&gt;configuration&lt;/a&gt; to break them out into separate source types.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
vim /opt/splunk/etc/apps/search/default/props.conf

# add the following to act on anything from tcp:5011
[source::tcp:5011]
TRANSFORMS-yummy = setSourceApache, setSourcePostfix

vim /opt/splunk/etc/apps/search/default/transforms.conf

# add the following to define setSourceApache and setSourcePostfix
[setSourceApache]
DEST_KEY = MetaData:Sourcetype
# any log line that contains apache2 
REGEX = apache2
FORMAT = sourcetype::apache

[setSourcePostfix]
DEST_KEY = MetaData:Sourcetype
REGEX = postfix
FORMAT = sourcetype::postfix

/opt/splunk/bin/splunk restart
&lt;/pre&gt;

&lt;p&gt;
Finally, while you're trouble-shooting all of this, you will likely be generating junk log events. If you find yourself wanting to start over, you can aways bring up a set of results in Splunk, and just pipe the &lt;a href="http://www.splunk.com/base/Documentation/latest/Admin/RemovedatafromSplunk"&gt;search to "|delete"&lt;/a&gt; to blow them away.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4986126776901476018/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/12/splunk-rsyslogapacheubuntu-quickstart.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4986126776901476018'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4986126776901476018'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/12/splunk-rsyslogapacheubuntu-quickstart.html' title='Splunk/Rsyslog/Apache/Ubuntu Quickstart'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_EE2zVzGv1Ds/TR30FHd9ANI/AAAAAAAALZw/Yt8JL-513qs/s72-c/splunk-tcp.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8578947169400596458</id><published>2010-12-17T10:51:00.007-05:00</published><updated>2010-12-17T11:04:40.799-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='linux'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Python: Convert a Word/PDF document to html</title><content type='html'>&lt;p&gt;
My current Django project deals with resume files in Word/PDF format. In order to show a web preview of the file, it's necessary to translate these files to plain HTML. While this was sometimes a pain in the past, I've recently found that it's relatively easy with standard Linux tools.
&lt;/p&gt;

&lt;p&gt;
&lt;a href="http://www.abisource.com/"&gt;AbiWord&lt;/a&gt; is a general purpose word processor for Linux. It has pretty good support for Word files, as well as many other formats such as PDF, RTF, etc. Usually it's invoked as a GUI app, just like Microsoft Word. However, being a Linux app, there is also good command-line support.
&lt;/p&gt;

&lt;p&gt;
One of the things you can do from the command line is &lt;a href="http://manpages.ubuntu.com/manpages/intrepid/man1/abiword.1.html"&gt;convert files&lt;/a&gt; from one format to another. Here is a quick example:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# print the HTML translation of a DOC file to the console
abiword -t output.html resume.doc; cat output.html
&lt;/pre&gt;

&lt;p&gt;
It's also relatively simple to invoke this from Python, using the standard libraries.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import subprocess
import os
import uuid

def document_to_html(file_path):
    tmp = "/tmp"
    guid = str(uuid.uuid1())
    # convert the file, using a temporary file w/ a random name
    command = "abiword -t %(tmp)s/%(guid)s.html %(file_path)s; cat %(tmp)s/%(guid)s.html" % locals()    
    p = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=True, cwd=os.path.join(settings.PROJECT_DIR, "website/templates"))
    error = p.stderr.readlines()    
    if error:
        raise Exception("".join(error))
    html = p.stdout.readlines()
    return "".join(html)
&lt;/pre&gt;

&lt;p&gt;
AbiWord produces fairly clean HTML. If you want to scrub it even more, I would suggest something like &lt;a href="http://www.crummy.com/software/BeautifulSoup/"&gt;BeautifulSoup&lt;/a&gt;.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8578947169400596458/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/12/python-convert-wordpdf-document-to-html.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8578947169400596458'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8578947169400596458'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/12/python-convert-wordpdf-document-to-html.html' title='Python: Convert a Word/PDF document to html'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1494650388856995711</id><published>2010-12-10T14:44:00.006-05:00</published><updated>2010-12-10T15:20:27.036-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='timezone'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Per user timezones in Django</title><content type='html'>&lt;p&gt;
A common requirement for sites that deal with dates (most of them), is to display date and time values in the individual user's timezones. Luckily, there are a few good ready-made solutions for Python/Django. They don't solve the problem completely seamlessly. You will still need to decide when to invoke the datetime translation, but most of the heavy lifting will be done for you.
&lt;/p&gt;

&lt;p&gt;
Before I go any further, it's worth noting that there is a work-around for some subset of sites. Instead of collecting and showing absolute dates and times, you may be able to get away with relative dates and times. For example, if you just need to display the time a record was created, you could say "13 minutes ago" instead of "Dec 10, 2010 at 8:55pm". In fact, here is a handy decorator to that effect:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from datetime import datetime
from django.template.defaultfilters import timesince

@register.filter
def ago(date_time):
    diff = abs(date_time - datetime.today())
    if diff.days &amp;lt;= 0:
        span = timesince(date_time)
        span = span.split(",")[0] # just the most significant digit
        if span == "0 minutes":
            return "seconds ago"        
        return "%s ago" % span 
    return date(date_time)  
&lt;/pre&gt;

&lt;p&gt;
Assuming you do need to support absolute times, you would start by downloading &lt;a href="https://github.com/brosner/django-timezones"&gt;django-timezones&lt;/a&gt;, which itself relies on &lt;a href="http://pytz.sourceforge.net/"&gt;pytz&lt;/a&gt;. You can get both via &lt;a href="http://pypi.python.org/pypi/pip"&gt;pip&lt;/a&gt;:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
sudo pip install django-timezones
sudo pip install pytz
&lt;/pre&gt;

&lt;p&gt;
However, there is a bug in the latest stable release of django-timezones which &lt;a href="https://github.com/brosner/django-timezones/issues/closed#issue/1"&gt;prevents you&lt;/a&gt; from using their model and form definitions. If you do, you will get a "Value XXX is not a valid choice" validation error trying to submit the form. You can either install the trunk release, where the bug is fixed, or use the following work-around models definition:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from timezones.forms import PRETTY_TIMEZONE_CHOICES

class UserProfile(models.Model):
   ...
   timezone = models.CharField(max_length=255, choices=PRETTY_TIMEZONE_CHOICES, blank=True, null=True, )
   ...
&lt;/pre&gt;

&lt;p&gt;
With this definition, you can use a standard ModelForm, without overriding the field or widget of timezone. Once you have your form rendering in HTML, you can use the following jQuery snippet to default the timezone selection to the correct choice for that user, using &lt;a href="http://www.w3schools.com/jsref/jsref_getTimezoneOffset.asp"&gt;getTimezoneOffset&lt;/a&gt;. It will only fire if there is no timezone selected already.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
var selects = $("select#id_timezone");
if (selects.length &amp;gt; 0 &amp;amp;&amp;amp; selects.val() == "") {  
 var offset_minutes = new Date().getTimezoneOffset();
 var offset = 100 * offset_minutes / 60;
 var default_value = _first_timezone_match(selects, offset);  
 selects.val(default_value);
}

function _first_timezone_match(selects, offset) {
 var match = "";
 selects.find("option").each(function() {
  // ex: "(GMT-0500) America/New_York"
  if ($(this).text().indexOf(offset) &amp;gt; 0) {
   match = $(this).val();
  }
 });
 return match;
}
&lt;/pre&gt;

&lt;p&gt;
Finally, here are some helper methods to translate to and from the server timezone and the user's timezone.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import datetime
import settings
import pytz

# need to translate to a non-naive timezone, even if timezone == settings.TIME_ZONE, so we can compare two dates
def to_user_timezone(date, profile):
    timezone = profile.timezone if profile.timezone else settings.TIME_ZONE               
    return date.replace(tzinfo=pytz.timezone(settings.TIME_ZONE)).astimezone(pytz.timezone(timezone))
    
def to_system_timezone(date, profile):
    timezone = profile.timezone if profile.timezone else settings.TIME_ZONE               
    return date.replace(tzinfo=pytz.timezone(timezone)).astimezone(pytz.timezone(settings.TIME_ZONE))
    
def now_timezone():   
    return datetime.datetime.now().replace(tzinfo=pytz.timezone(settings.TIME_ZONE)).astimezone(pytz.timezone(settings.TIME_ZONE))
&lt;/pre&gt;

&lt;p&gt;
&lt;i&gt;Note:&lt;/i&gt; I'm careful to always return a datetime object w/ the timezone information. This is because otherwise, you could get a "can't compare offset-naive and offset-aware datetimes" error when you compare two datetime objects.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1494650388856995711/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/12/per-user-timezones-in-django.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1494650388856995711'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1494650388856995711'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/12/per-user-timezones-in-django.html' title='Per user timezones in Django'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5164217508371787216</id><published>2010-12-03T13:00:00.006-05:00</published><updated>2010-12-03T13:40:43.299-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='email'/><category scheme='http://www.blogger.com/atom/ns#' term='litmus'/><title type='text'>Render styled HTML emails consistently with Litmus</title><content type='html'>&lt;p&gt;
Getting your HTML email to look the same on all mail clients is &lt;a href="http://www.vomitron.com/blog/2010/05/07/html-email-is-hard/"&gt;hard&lt;/a&gt;. Most clients only support a &lt;a href="http://www.campaignmonitor.com/css/"&gt;small subset&lt;/a&gt; of HTML. Outlook 2010 actually uses Word to display HTML, and we know &lt;a href="http://www.email-standards.org/blog/entry/microsoft-to-ignore-web-standards/"&gt;how much that sucks&lt;/a&gt;. But it's more endemic than that; there are simply no standards to code to. 
&lt;/p&gt;

&lt;p&gt;
When marketing wants an email to look exactly the same on all clients, tell them they need to use plaintext. When they say they need HTML, tell them that it's impossible. When they insist, tell them that you can get it to look 90% the same across clients, but it will take 40 hours. The first hour will be spent composing the email. For the next 39 hours you will be sending it to gmail, testing, tweaking, sending it to yahoo, testing, tweaking, sending it to Outlook... etc.
&lt;/p&gt;

&lt;p&gt;
Enter &lt;a href="http://litmus.com/"&gt;Litmus&lt;/a&gt;. For $49 a month you can send &lt;i&gt;them&lt;/i&gt; a copy of the email, and they will render screenshots of what it looks like on the &lt;a href="http://litmus.com/email-previews"&gt;25 email clients&lt;/a&gt; that actually matter.
&lt;/p&gt;

&lt;img src="http://lh4.ggpht.com/_EE2zVzGv1Ds/TPk2tdMV_II/AAAAAAAALZI/R3mELRSidf8/s800/litmus-dashboard.png"&gt;

&lt;p&gt;
You can zoom in on exactly what it looks like on a specific client, with or without images enabled, in plaintext or html mode. Litmus can show you the final rendered HTML code, as well as the entire MIME message. You can mark test cases as "failed", and then evaluate them again on subsequent revisions.
&lt;/p&gt;

&lt;img src="http://lh4.ggpht.com/_EE2zVzGv1Ds/TPk2tpPc15I/AAAAAAAALZM/IaWGkfJnQ_8/s800/litmus-iphone.png"&gt;

&lt;p&gt;
Having done this a couple of times recently, I came up with some rules of thumb.
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Assume images won't load. Use alt/title attributes.&lt;/li&gt;
&lt;li&gt;Many clients will not render style tags. Pretend it's 1995 and use &lt;a href="http://www.quackit.com/css/inline_style_sheets.cfm"&gt;inline styles&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Relative, absolute and float positioning will not work. Use tables.&lt;/li&gt;
&lt;li&gt;Yahoo: add "margin-bottom: 1em;" to your &lt;a href="http://www.email-standards.org/blog/entry/yahoo-drops-paragraph-spacing/"&gt;paragraph tags&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Outlook: some links will break when they wrap in MIME. If you can, keep them under 80 characters, and put them on the start of a line.&lt;/li&gt;
&lt;li&gt;Include a &lt;a href="http://www.lshift.net/blog/2006/07/18/html-email-is-hard-to-get-right"&gt;plaintext section&lt;/a&gt;. Some &lt;a href="http://www.zeldman.com/2007/06/08/e-mail-is-not-a-platform-for-design/"&gt;users prefer it&lt;/a&gt;, and some mobiles devices only show plaintext.&lt;/li&gt;
&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5164217508371787216/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/12/render-styled-html-emails-consitently.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5164217508371787216'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5164217508371787216'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/12/render-styled-html-emails-consitently.html' title='Render styled HTML emails consistently with Litmus'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/_EE2zVzGv1Ds/TPk2tdMV_II/AAAAAAAALZI/R3mELRSidf8/s72-c/litmus-dashboard.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-750298561687090041</id><published>2010-11-19T10:04:00.007-05:00</published><updated>2010-11-19T10:30:35.799-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Django {% url %} tag; it can do both absolute/relative urls!</title><content type='html'>&lt;p&gt;
Most often, when you're using Django's url tag, you want relative links, not &lt;a href="http://en.wikipedia.org/wiki/Absolute_url#Examples_of_absolute_URIs"&gt;absolute links&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Examples of relative links:
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/user/103&lt;/li&gt;
&lt;li&gt;/user/103/edit&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
Examples of absolute links:
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;http://example.com/user/103&lt;/li&gt;
&lt;li&gt;https://example.com/user/103/edit&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
With relative links, you preserve the domain same and protocol (HTTP or HTTPS) of the current user session, with zero work on your part. This is the default behavior of &lt;a href="http://docs.djangoproject.com/en/dev/ref/templates/builtins/#url"&gt;Django's {% url %} tag&lt;/a&gt;. &lt;i&gt;Note: confusingly, they refer to "absolute" urls incorrectly in their documentation.&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;
However, in some cases you need to use absolute URLs. For example, in html emails. When the users is in their email client, they don't have the context of what domain/protocol the link is for.
&lt;/p&gt;

&lt;p&gt;
In the past, I would typically change the code of those templates to look something like this:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
 &amp;lt;!-- you could also pull the protocol/domain from a setting or from Django's sites metadata --&amp;gt;
 Please &amp;lt;a href="http://example.com{% url user user.id %}"&amp;gt;click here&amp;lt;a&amp;gt;.
&lt;/pre&gt;

&lt;p&gt;
But what if you're using the same template for website content and email content? You could just output absolute links in both cases. You could put logic into the templates to only output the domain if a certain view scope variable is set. You could also just create separate templates for email/site content. None of these solutions is ideal.
&lt;/p&gt;

&lt;p&gt;
Instead, you could use Django's &lt;a href="http://code.djangoproject.com/browser/django/trunk/django/core/urlresolvers.py#L398"&gt;set_script_prefix&lt;/a&gt;. I can't find it in the official documentation, but this handy little method sets a prefix for the current thread context, which will be used on all subsequent url resolutions.
&lt;/p&gt;

&lt;p&gt;
In my case, I just added the following one liner to my mail sending routine before the email content template is rendered.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
   set_script_prefix(settings.SITE_URL) # ie, http://example.com
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/750298561687090041/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/11/django-url-tag-it-can-do-both.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/750298561687090041'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/750298561687090041'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/11/django-url-tag-it-can-do-both.html' title='Django {% url %} tag; it can do both absolute/relative urls!'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6356953069896923614</id><published>2010-11-05T12:37:00.003-04:00</published><updated>2010-11-05T12:59:20.164-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='jquery'/><title type='text'>Preventing duplicate form submissions with jQuery</title><content type='html'>&lt;p&gt;
A common problem for a new site to have is for their users to occasionally submit the same form two or more times. For example, maybe they were adding a new record, and were not sure if the application registered their submit button click, so they try again. This problem can be exacerbated by a slow website, which gives the users a larger window in which to come to this conclusion.
&lt;/p&gt;

&lt;p&gt;
Typically, this is not a problem for edit forms. For the most past, committing the same edits twice to a single record is fine; the record ends up in the same final state either way. Of course, some edits have side effects, which could certainly be an issue. However, one case that almost always fails out of the box would be a user &lt;i&gt;adding&lt;/i&gt; a record twice. Typically, this ends up with two new records in the system.
&lt;/p&gt;

&lt;p&gt;
One way to prevent these duplicate submissions is to use a unique token for each add/edit form. The server would render this token into a hidden field on the form, and then check for that token being present on the commit. But this can be difficult to implement on an existing code base with many different forms, unless your framework has some kind of middleware layer that you can leverage to apply to all form render/submissions.
&lt;/p&gt;

&lt;p&gt;
A more typical solution is to use Javascript. Of course, this does not guarantee that the user cannot submit the form twice; all they would need to do is disable Javascript, or hit an untrapped error on your code. But it does address the core issue, which is one of user experience. It's by far a better user experience to give a visual indication that the form is being processed. 
&lt;/p&gt;

&lt;p&gt;
Here is a simple approach that you can include in your base jQuery code, and which will provide consistent functionality across all the existing forms on your site. It requires jQuery, and was tested in version 1.4.2.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
 $("form").submit(function () {
  var form = $(this);
  form.find("input[type=submit]").attr("disabled", "disabled")
  form.find("input[type=submit]").attr("value", "Processing...");
  // prevent the user from hitting ENTER on a field to submit again
  form.find("input").attr("readonly", true);
  document.body.style.cursor = "wait";
 });
&lt;/pre&gt;

&lt;p&gt;
The key trick here is NOT just disabling the form. That's a common approach, but it has one major issue. Disabled forms can't actually be submitted. A common hack is to disable the form after a certain timeout, but that's inviting a race condition on a slow machine. The readonly/disable the button approach is more robust.
&lt;/p&gt;

&lt;p&gt;
At the same time, you may want to change the style of the disabled form submit button, not just the text.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
input[type=button][disabled], input[type=submit][disabled] { background-color: #BBB; border-color: #444; }
&lt;/pre&gt;

&lt;p&gt;
One issue to be aware of with this solution is that if the the user uses the back button to navigate to a previous form, the submit button will still be disabled. That may or may not be desirable. It's definitely not desirable, for example, if the form submission page threw an error and the user is legitimately trying to submit again. I'm interested in some thoughts on a solution for this case.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6356953069896923614/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/11/preventing-duplicate-form-submissions.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6356953069896923614'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6356953069896923614'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/11/preventing-duplicate-form-submissions.html' title='Preventing duplicate form submissions with jQuery'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6089151849645591125</id><published>2010-10-29T13:50:00.005-04:00</published><updated>2010-11-05T12:36:20.674-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django: uniform image resizing</title><content type='html'>&lt;p&gt;
Sometimes, you want all the thumbnails you're creating to be the same dimensions. For example, your layout may require a certain width so that all the items line up in a grid. In my case, I wanted them to be exactly 96x96 pixels. 
&lt;/p&gt;

&lt;p&gt;
The tool of choice in Django is &lt;a href="http://www.pythonware.com/products/pil/"&gt;PIL&lt;/a&gt;, which is a PITA to install, but which works well once it's installed. Just be sure to check that JPEG works, it's &lt;a href="http://effbot.org/zone/pil-decoder-jpeg-not-available.htm"&gt;commonly flubbed&lt;/a&gt; by the installer.
&lt;/p&gt;

&lt;img src="http://lh5.ggpht.com/_EE2zVzGv1Ds/TMsNuxj-MvI/AAAAAAAALYQ/NwOc_Il-Tlw/s800/chase.png" border=1&gt;

&lt;p&gt;
Another common requirement is to retain the aspect ratio of the original image. For example, 
given the above input image, we would not want to produce this:&lt;/p&gt;

&lt;img src="http://lh5.ggpht.com/_EE2zVzGv1Ds/TMsNvCYh4dI/AAAAAAAALYY/CeXKCMtiY3g/s800/chase_scaled.png" border=1&gt;

&lt;p&gt;
For that, PIL's built-in &lt;a href="http://www.pythonware.com/library/pil/handbook/image.htm#Image.thumbnail"&gt;thumbnail&lt;/a&gt; method will do nicely. However, that would not get us a perfect 96x96 square. Unless the original image is also a square, it will instead produce a thumbnail where only the larger dimension it 96 pixels.
&lt;/p&gt;

&lt;p&gt;
To compensate, we need to add literal white space to fill out the remaining pixels. In PIL, you can accomplish this with the &lt;a href="http://www.pythonware.com/library/pil/handbook/image.htm#Image.paste"&gt;paste&lt;/a&gt; method.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import Image
import traceback
import sys

def resize_aspect_ratio(path, maxSize, method=Image.ANTIALIAS):
    """ Resizing an image to a static side, in place """

    try:
        
        # shrink, but maintain aspect ratio
        image = Image.open(path)   
        image.thumbnail(maxSize)
        
        # fill out to exactly maxSize (square image)        
        background = Image.new("RGBA", maxSize, (255, 255, 255, 0)) # use white for empty space
        background.paste(image, ((maxSize[0] - image.size[0]) / 2, (maxSize[1] - image.size[1]) / 2))
    
        background.save(path)
    
    except Exception, e:
        
        print "Error resizing image: %s" % e
&lt;/pre&gt;

&lt;img src="http://lh3.ggpht.com/_EE2zVzGv1Ds/TMsNvI5bekI/AAAAAAAALYU/o-LyinWy4oY/s800/chase_96.png" border=1&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6089151849645591125/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/10/django-uniform-image-resizing.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6089151849645591125'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6089151849645591125'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/10/django-uniform-image-resizing.html' title='Django: uniform image resizing'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_EE2zVzGv1Ds/TMsNuxj-MvI/AAAAAAAALYQ/NwOc_Il-Tlw/s72-c/chase.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-462216574106933991</id><published>2010-10-15T09:25:00.006-04:00</published><updated>2010-11-05T12:36:32.924-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='apache'/><title type='text'>per subdomain robots.txt in Apache</title><content type='html'>&lt;p&gt;
When I develop a website, I tend to go &lt;a href="http://en.wikipedia.org/wiki/Subdomain"&gt;subdomain&lt;/a&gt; crazy. If the site is crazy.net, I probably configure www.crazy.net, admin.crazy.net, static.crazy.net, youare.crazy.net, etc. Some allow concurrent logins as different users such as yourself, an admin account and maybe as a particular live user. Others are to keep your &lt;a href="http://developer.yahoo.com/performance/rules.html#cookie_free"&gt;static/media resources&lt;/a&gt; cookie free, as well as allow parallel sockets for html/media content. 
&lt;/p&gt;

&lt;p&gt;
In my typical use case, all of these subdomains point to the same Apache instance. So you can go to a particular relative URL at any of the subdomains, and you will get the same page. But I certainly don't want Google to index all those subdomains; I want a single canonical domain for the site. I'm hardly an expert in Apache configuration, so it took me an hour to track down the solution to this problem. 
&lt;/p&gt;

&lt;p&gt;
Essentially, I wanted www.crazy.net to serve up a permissive &lt;a href="http://en.wikipedia.org/wiki/Robots_exclusion_standard"&gt;robots.txt&lt;/a&gt; file, as well as a &lt;a href="http://en.wikipedia.org/wiki/Site_map"&gt;sitemap&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# robots.txt @ http://www.crazy.net/robots.txt
User-agent: *
Sitemap: http://www.crazy.net/sitemap.txt
&lt;/pre&gt;

&lt;p&gt;
However, all subdomains should return a different, restrictive robots.txt for the same URL.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
# norobots.txt @ http://admin.crazy.net/robots.txt, http://static.crazy.net/robots.txt, etc
User-agent: *
Disallow: /
&lt;/pre&gt;

&lt;p&gt;
Here is a sample of my /etc/apache2/sites-available/default config file that made this happen.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
ServerAdmin admin@example.com

ExpiresActive On
ExpiresByType text/css "access plus 12 years"
ExpiresByType application/javascript "access plus 12 years"
ExpiresByType image/png "access plus 12 years"
ExpiresByType image/gif "access plus 12 years"
ExpiresByType image/jpeg "access plus 12 years"
FileETag none

...

&amp;lt;VirtualHost *:80&amp;gt;
 alias /robots.txt /home/apache/website/norobots.txt
&amp;lt;/VirtualHost&amp;gt;

&amp;lt;VirtualHost *:80&amp;gt;
 ServerName www.crazy.net
 alias /robots.txt /home/apache/website/robots.txt
 alias /sitemap.txt /home/apache/website/sitemap.txt
&amp;lt;/VirtualHost&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Prior to this, all my directives were in a single VirtualHost. The key revelation on my part was that they don't need to be. Rather, Apache configs support inheritance from a global scope. So my VirtualHosts end up just being what's different between www.crazy.net and any other ServerName.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/462216574106933991/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/10/per-sub-domain-robotstxt-in-apache.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/462216574106933991'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/462216574106933991'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/10/per-sub-domain-robotstxt-in-apache.html' title='per subdomain robots.txt in Apache'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4981289296624517886</id><published>2010-10-08T15:01:00.008-04:00</published><updated>2010-10-22T15:58:46.614-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='gdata'/><category scheme='http://www.blogger.com/atom/ns#' term='analytics'/><title type='text'>Pulling Google Analytics data into Django</title><content type='html'>&lt;p&gt;
Website analytics tools are expected to do a lot. They need to allow you generate reports on metrics like sessions, pages/time per session, bounce rates, referrals... etc. Not only that, but they need to be able to segment those reports by logged in versus anonymous users, china versus the US, etc...
&lt;/p&gt;

&lt;p&gt;
As a developer, the more you play with existing analytics tools, the more you appreciate not having to implement all this crap yourself. Just recently I was trying to track hits from social networks. My application would blast a tweet out to twitter, and then try to determine how many hits were coming back.
&lt;/p&gt;

&lt;p&gt;
Determining raw hits is easy. But I had no idea how many automated bots would hit the URLS I was posting. I had nearly 1,2000 hits in just 24  hours to the same post! Here is a short list of bot &lt;a href="http://en.wikipedia.org/wiki/User_agent"&gt;user agents&lt;/a&gt; collected in just one day.
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;LinkedInBot&lt;/li&gt;
&lt;li&gt;TwitterJobSearch.com&lt;/li&gt;
&lt;li&gt;PycURL&lt;/li&gt; 
&lt;li&gt;labs.topsy.com&lt;/li&gt;
&lt;li&gt;postrank.com&lt;/li&gt;
&lt;li&gt;voyager/1.0&lt;/li&gt;     
&lt;li&gt;JS-Kit URL Resolver&lt;/li&gt;
&lt;li&gt;Twitterbot&lt;/li&gt;
&lt;li&gt;mxbot&lt;/li&gt;
&lt;li&gt;urllib&lt;/li&gt;
&lt;li&gt;ysearch&lt;/li&gt;
&lt;li&gt;Twingly&lt;/li&gt;
&lt;li&gt;TweetmemeBot&lt;/li&gt;
&lt;li&gt;OneRiot&lt;/li&gt;
&lt;li&gt;Googlebot&lt;/li&gt;
&lt;li&gt;inagist.com&lt;/li&gt;
&lt;li&gt;Jakarta Commons&lt;/li&gt;
&lt;li&gt;facebookexternalhit&lt;/li&gt;
&lt;li&gt;NjuiceBot&lt;/li&gt;
&lt;li&gt;Yahoo! Slurp&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
Needless to say, tying to determine "real" hits by user agent was going to be both arduous and error prone.
&lt;/p&gt;

&lt;p&gt;
Enter &lt;a href="http://www.google.com/analytics/"&gt;Google Analytics&lt;/a&gt;, the gold standard of web analytics packages. My marketing department had already requesting we include it into the application anyway.
&lt;/p&gt;

&lt;p&gt;
It works via JavaScript, which is perfect for thwarting bots. The bots in question don't appear to execute JavaScript when they scrape a page, or if they do, Google Analytics is going above and beyond to filter them out.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
&amp;lt;script type="text/javascript"&amp;gt;

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-XXXXXXX-X']);

 // custom variables
 _gaq.push(['_setCustomVar', 1, 'Current User', 'joe.example', 1]);
 _gaq.push(['_setCustomVar', 2, 'Current User ID', '75', 1]);                               
 _gaq.push(['_setCustomVar', 3, 'Record Owner ID', '101', 3]);
 _gaq.push(['_setCustomVar', 4, 'Record Type', 'Job', 3]);
 _gaq.push(['_setCustomVar', 5, 'Record ID', '87', 3]);
 _gaq.push(['_trackPageview']);

 (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 })();

&amp;lt;/script&amp;gt;    
&lt;/pre&gt;

&lt;p&gt;
As you can seen, as long as I was including Google Analytics, I decided to go all out and leverage their &lt;a href="http://code.google.com/apis/analytics/docs/tracking/gaTrackingCustomVariables.html"&gt;custom variables&lt;/a&gt;. Basically, that allows you to slice and dice all their reports by your own custom segments. In this case, I'm allowing our marketing team to report on metrics by user and page type.
&lt;/p&gt;

&lt;p&gt;
But I also needed to include some metrics right in the product itself. To my delight, it's not only possible to pull down analytics data via the &lt;a href="http://code.google.com/apis/analytics/docs/"&gt;Google Analytics API&lt;/a&gt;, it's also surprisingly easy thanks to an &lt;a href="http://code.google.com/p/gdata-python-client/"&gt;official Python library&lt;/a&gt;. Not only that, but the API is extremely flexible.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.conf import settings

import gdata.analytics.client
from gdata.sample_util import CLIENT_LOGIN, SettingsUtil

gdata_client = gdata.analytics.client.AnalyticsClient(
    source=settings.GOOGLE_ANALYTICS_APP_NAME
    )

def _login():
    
    settings_util = SettingsUtil(prefs={
        "email": settings.GOOGLE_ANALYTICS_USER_EMAIL,
        "password": settings.GOOGLE_ANALYTICS_USER_PASS,
    })
    settings_util.authorize_client(
        gdata_client,
        service=gdata_client.auth_service,
        auth_type=CLIENT_LOGIN,
        source=settings.GOOGLE_ANALYTICS_APP_NAME, 
        scopes=['https://www.google.com/analytics/feeds/']
        )
        
def get_views(year, week):
    
    _login()        
    data_query = gdata.analytics.client.DataFeedQuery({
        'ids': settings.GOOGLE_ANALYTICS_TABLE_ID,
        'start-date': '2010-10-01',
        'end-date': '2100-01-01',
        'dimensions': 'ga:customVarValue3,ga:customVarValue4,ga:week',
        'metrics': 'ga:pageviews',
        'filters': 'ga:customVarValue4==Job,ga:customVarValue4==Profile;ga:week==%s;ga:year==%s' % (week, year),
        'max-results': "10000"
        })
        
    return gdata_client.GetDataFeed(data_query)
&lt;/pre&gt;

&lt;p&gt;
Here, I'm getting page view data for October, and creating a &lt;a href="http://en.wikipedia.org/wiki/Pivot_table"&gt;pivot table&lt;/a&gt; right in the API results by record owner and record type (either Job or Profile). I'm also grouping the results by week. The API will return up to 10,000 results, but I could easily break it into smaller chunks if necessary. 
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;?xml version='1.0' encoding='UTF-8'?&amp;gt;
&amp;lt;feed xmlns='http://www.w3.org/2005/Atom' xmlns:dxp='http://schemas.google.com/analytics/2009' xmlns:openSearch='http://a9.com/-/spec/opensearch/1.1/' xmlns:gd='http://schemas.google.com/g/2005' gd:etag='W/&amp;amp;quot;D04HQn4_fCp7I2A9Wx5VFUs.&amp;amp;quot;' gd:kind='analytics#data'&amp;gt;
 &amp;lt;id&amp;gt;http://www.google.com/analytics/feeds/data?ids=ga:35391211&amp;amp;amp;dimensions=ga:customVarValue3,ga:customVarValue4,ga:week&amp;amp;amp;metrics=ga:visits&amp;amp;amp;filters=ga:customVarValue4%3D%3DJob,ga:customVarValue4%3D%3DProfile&amp;amp;amp;start-date=2010-10-01&amp;amp;amp;end-date=2010-10-31&amp;lt;/id&amp;gt;
 &amp;lt;updated&amp;gt;2010-10-08T12:25:33.044-07:00&amp;lt;/updated&amp;gt;
 &amp;lt;title&amp;gt;Google Analytics Data for Profile XXXXXXXX&amp;lt;/title&amp;gt;
 &amp;lt;link rel='self' type='application/atom+xml' href='https://www.google.com/analytics/feeds/data?max-results=5&amp;amp;amp;sort=-ga%3Avisits&amp;amp;amp;end-date=2010-10-31&amp;amp;amp;start-date=2010-10-01&amp;amp;amp;metrics=ga%3Avisits&amp;amp;amp;ids=ga%3A35391211&amp;amp;amp;dimensions=ga%3AcustomVarValue3%2Cga%3AcustomVarValue4%2Cga%3Aweek&amp;amp;amp;filters=ga%3AcustomVarValue4%3D%3DJob%2Cga%3AcustomVarValue4%3D%3DProfile'/&amp;gt;
 &amp;lt;link rel='next' type='application/atom+xml' href='https://www.google.com/analytics/feeds/data?start-index=6&amp;amp;amp;max-results=5&amp;amp;amp;sort=-ga%3Avisits&amp;amp;amp;end-date=2010-10-31&amp;amp;amp;start-date=2010-10-01&amp;amp;amp;metrics=ga%3Avisits&amp;amp;amp;ids=ga%3A35391211&amp;amp;amp;dimensions=ga%3AcustomVarValue3%2Cga%3AcustomVarValue4%2Cga%3Aweek&amp;amp;amp;filters=ga%3AcustomVarValue4%3D%3DJob%2Cga%3AcustomVarValue4%3D%3DProfile'/&amp;gt;
 &amp;lt;author&amp;gt;
  &amp;lt;name&amp;gt;Google Analytics&amp;lt;/name&amp;gt;
 &amp;lt;/author&amp;gt;
 &amp;lt;generator version='1.0'&amp;gt;Google Analytics&amp;lt;/generator&amp;gt;
 &amp;lt;openSearch:totalResults&amp;gt;11&amp;lt;/openSearch:totalResults&amp;gt;
 &amp;lt;openSearch:startIndex&amp;gt;1&amp;lt;/openSearch:startIndex&amp;gt;
 &amp;lt;openSearch:itemsPerPage&amp;gt;5&amp;lt;/openSearch:itemsPerPage&amp;gt;
 &amp;lt;dxp:aggregates&amp;gt;
  &amp;lt;dxp:metric confidenceInterval='0.0' name='ga:visits' type='integer' value='35'/&amp;gt;
 &amp;lt;/dxp:aggregates&amp;gt;
 &amp;lt;dxp:dataSource&amp;gt;
  &amp;lt;dxp:property name='ga:profileId' value='XXXXXXX'/&amp;gt;
  &amp;lt;dxp:property name='ga:webPropertyId' value='UA-XXXXXXXXX'/&amp;gt;
  &amp;lt;dxp:property name='ga:accountName' value='Talladega Alpha'/&amp;gt;
  &amp;lt;dxp:tableId&amp;gt;ga:XXXXXXX&amp;lt;/dxp:tableId&amp;gt;
  &amp;lt;dxp:tableName&amp;gt;reachrecruiters.com&amp;lt;/dxp:tableName&amp;gt;
 &amp;lt;/dxp:dataSource&amp;gt;
 &amp;lt;dxp:endDate&amp;gt;2010-10-31&amp;lt;/dxp:endDate&amp;gt;
 &amp;lt;dxp:startDate&amp;gt;2010-10-01&amp;lt;/dxp:startDate&amp;gt;
 &amp;lt;entry gd:etag='W/&amp;amp;quot;CUUEQX47eSp7I2A9Wx5bFEU.&amp;amp;quot;' gd:kind='analytics#datarow'&amp;gt;
  &amp;lt;id&amp;gt;http://www.google.com/analytics/feeds/data?ids=ga:35391211&amp;amp;amp;ga:customVarValue3=137&amp;amp;amp;ga:customVarValue4=Job&amp;amp;amp;ga:week=41&amp;amp;amp;filters=ga:customVarValue4%3D%3DJob,ga:customVarValue4%3D%3DProfile&amp;amp;amp;start-date=2010-10-01&amp;amp;amp;end-date=2010-10-31&amp;lt;/id&amp;gt;
  &amp;lt;updated&amp;gt;2010-10-30T17:00:00.001-07:00&amp;lt;/updated&amp;gt;
  &amp;lt;title&amp;gt;ga:customVarValue3=137 | ga:customVarValue4=Job | ga:week=41&amp;lt;/title&amp;gt;
  &amp;lt;link rel='alternate' type='text/html' href='http://www.google.com/analytics'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue3' value='137'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue4' value='Job'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:week' value='41'/&amp;gt;
  &amp;lt;dxp:metric confidenceInterval='0.0' name='ga:visits' type='integer' value='15'/&amp;gt;
 &amp;lt;/entry&amp;gt;
 &amp;lt;entry gd:etag='W/&amp;amp;quot;CUUEQX47eSp7I2A9Wx5bFEU.&amp;amp;quot;' gd:kind='analytics#datarow'&amp;gt;
  &amp;lt;id&amp;gt;http://www.google.com/analytics/feeds/data?ids=ga:35391211&amp;amp;amp;ga:customVarValue3=138&amp;amp;amp;ga:customVarValue4=Job&amp;amp;amp;ga:week=41&amp;amp;amp;filters=ga:customVarValue4%3D%3DJob,ga:customVarValue4%3D%3DProfile&amp;amp;amp;start-date=2010-10-01&amp;amp;amp;end-date=2010-10-31&amp;lt;/id&amp;gt;
  &amp;lt;updated&amp;gt;2010-10-30T17:00:00.001-07:00&amp;lt;/updated&amp;gt;
  &amp;lt;title&amp;gt;ga:customVarValue3=138 | ga:customVarValue4=Job | ga:week=41&amp;lt;/title&amp;gt;
  &amp;lt;link rel='alternate' type='text/html' href='http://www.google.com/analytics'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue3' value='138'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue4' value='Job'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:week' value='41'/&amp;gt;
  &amp;lt;dxp:metric confidenceInterval='0.0' name='ga:visits' type='integer' value='7'/&amp;gt;
 &amp;lt;/entry&amp;gt;
 &amp;lt;entry gd:etag='W/&amp;amp;quot;CUUEQX47eSp7I2A9Wx5bFEU.&amp;amp;quot;' gd:kind='analytics#datarow'&amp;gt;
  &amp;lt;id&amp;gt;http://www.google.com/analytics/feeds/data?ids=ga:35391211&amp;amp;amp;ga:customVarValue3=138&amp;amp;amp;ga:customVarValue4=Profile&amp;amp;amp;ga:week=41&amp;amp;amp;filters=ga:customVarValue4%3D%3DJob,ga:customVarValue4%3D%3DProfile&amp;amp;amp;start-date=2010-10-01&amp;amp;amp;end-date=2010-10-31&amp;lt;/id&amp;gt;
  &amp;lt;updated&amp;gt;2010-10-30T17:00:00.001-07:00&amp;lt;/updated&amp;gt;
  &amp;lt;title&amp;gt;ga:customVarValue3=138 | ga:customVarValue4=Profile | ga:week=41&amp;lt;/title&amp;gt;
  &amp;lt;link rel='alternate' type='text/html' href='http://www.google.com/analytics'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue3' value='138'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue4' value='Profile'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:week' value='41'/&amp;gt;
  &amp;lt;dxp:metric confidenceInterval='0.0' name='ga:visits' type='integer' value='3'/&amp;gt;
 &amp;lt;/entry&amp;gt;
 &amp;lt;entry gd:etag='W/&amp;amp;quot;CUUEQX47eSp7I2A9Wx5bFEU.&amp;amp;quot;' gd:kind='analytics#datarow'&amp;gt;
  &amp;lt;id&amp;gt;http://www.google.com/analytics/feeds/data?ids=ga:35391211&amp;amp;amp;ga:customVarValue3=119&amp;amp;amp;ga:customVarValue4=Job&amp;amp;amp;ga:week=41&amp;amp;amp;filters=ga:customVarValue4%3D%3DJob,ga:customVarValue4%3D%3DProfile&amp;amp;amp;start-date=2010-10-01&amp;amp;amp;end-date=2010-10-31&amp;lt;/id&amp;gt;
  &amp;lt;updated&amp;gt;2010-10-30T17:00:00.001-07:00&amp;lt;/updated&amp;gt;
  &amp;lt;title&amp;gt;ga:customVarValue3=119 | ga:customVarValue4=Job | ga:week=41&amp;lt;/title&amp;gt;
  &amp;lt;link rel='alternate' type='text/html' href='http://www.google.com/analytics'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue3' value='119'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue4' value='Job'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:week' value='41'/&amp;gt;
  &amp;lt;dxp:metric confidenceInterval='0.0' name='ga:visits' type='integer' value='2'/&amp;gt;
 &amp;lt;/entry&amp;gt;
 &amp;lt;entry gd:etag='W/&amp;amp;quot;CUUEQX47eSp7I2A9Wx5bFEU.&amp;amp;quot;' gd:kind='analytics#datarow'&amp;gt;
  &amp;lt;id&amp;gt;http://www.google.com/analytics/feeds/data?ids=ga:35391211&amp;amp;amp;ga:customVarValue3=44&amp;amp;amp;ga:customVarValue4=Job&amp;amp;amp;ga:week=41&amp;amp;amp;filters=ga:customVarValue4%3D%3DJob,ga:customVarValue4%3D%3DProfile&amp;amp;amp;start-date=2010-10-01&amp;amp;amp;end-date=2010-10-31&amp;lt;/id&amp;gt;
  &amp;lt;updated&amp;gt;2010-10-30T17:00:00.001-07:00&amp;lt;/updated&amp;gt;
  &amp;lt;title&amp;gt;ga:customVarValue3=44 | ga:customVarValue4=Job | ga:week=41&amp;lt;/title&amp;gt;
  &amp;lt;link rel='alternate' type='text/html' href='http://www.google.com/analytics'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue3' value='44'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:customVarValue4' value='Job'/&amp;gt;
  &amp;lt;dxp:dimension name='ga:week' value='41'/&amp;gt;
  &amp;lt;dxp:metric confidenceInterval='0.0' name='ga:visits' type='integer' value='2'/&amp;gt;
 &amp;lt;/entry&amp;gt;
&amp;lt;/feed&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
The gdata library parses this for you into native nested dictionaries. From there, it's trivial to cache it somewhere like a database for future reporting. 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4981289296624517886/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html#comment-form' title='4 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4981289296624517886'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4981289296624517886'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html' title='Pulling Google Analytics data into Django'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>4</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6674165936420348850</id><published>2010-10-01T11:59:00.008-04:00</published><updated>2010-11-05T12:36:44.728-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Check if a block is defined in Django</title><content type='html'>&lt;p&gt;
Very often when styling a webpage, you want to put content in a box. For example, say you have a standard box for contextual help content.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
   &amp;lt;div class="help"&amp;gt;
      &amp;lt;!--- actual html contents here ---&amp;gt;
   &amp;lt;/div&amp;gt;
   &amp;lt;style&amp;gt;
      .help { 
         padding: 1em;
         border: 1px dashed black;
      }
   &amp;lt;/style&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
A sensible way to make this re-usable in Django would be to use blocks. 
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
   &amp;lt;div class="help"&amp;gt;
      {% block help %}{% endblock %}
   &amp;lt;/div&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
But what happens if no help block is defined? With this implementation, you would still get the empty help DIV, complete with a border and padding. Of course, you could render the div inside the block, but then you're repeating yourself every time you define one.
&lt;/p&gt;

&lt;p&gt;
One work-around is via css:empty.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
   &amp;lt;style&amp;gt;
      .help:empty {
         disply: none;
      }
   &amp;lt;/style&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
However, that approach will not work in all browsers/versions. Also, it's muddying the separation between content and style.
&lt;/p&gt;

&lt;p&gt;
Ideally, you would be able to omit the div at the base template level if the block is not defined. I wondered if there was an way to check if a block is defined. While &lt;a href="http://nathanborror.com/posts/2009/feb/28/capturing-content-django-templates/"&gt;hunting around&lt;/a&gt;, I found the &lt;a href="http://djangosnippets.org/snippets/545/"&gt;next best thing&lt;/a&gt;. The following code (from &lt;a href="http://djangosnippets.org/users/kcarnold/"&gt;kcarnold&lt;/a&gt;) will capture the contents of a block to a variable. You can then conditionally render it only if it exists and is not empty.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django import template

register = template.Library()

@register.tag(name='captureas')
def do_captureas(parser, token):
    try:
        tag_name, args = token.contents.split(None, 1)
    except ValueError:
        raise template.TemplateSyntaxError("'captureas' node requires a variable name.")
    nodelist = parser.parse(('endcaptureas',))
    parser.delete_first_token()
    return CaptureasNode(nodelist, args)

class CaptureasNode(template.Node):
    def __init__(self, nodelist, varname):
        self.nodelist = nodelist
        self.varname = varname

    def render(self, context):
        output = self.nodelist.render(context)
        context[self.varname] = output
        return ''
&lt;/pre&gt;

&lt;pre name="code" class="html"&gt;
 {% captureas help_content %}{% spaceless %}{% block help %}{% endblock %}{% endspaceless %}{% endcaptureas %}

 {% if help_content %}
    &amp;lt;div id="help"&amp;gt;
        {{ help_content }}
    &amp;lt;/div&amp;gt;
 {% endif %}
&lt;/pre&gt;

&lt;p&gt;
Django actually may &lt;a href="http://code.djangoproject.com/ticket/6378"&gt;add this functionality&lt;/a&gt; natively in the future. 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6674165936420348850/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/10/check-if-block-is-defined-in-django.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6674165936420348850'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6674165936420348850'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/10/check-if-block-is-defined-in-django.html' title='Check if a block is defined in Django'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2346300673124351443</id><published>2010-09-24T12:11:00.005-04:00</published><updated>2010-09-24T12:29:06.899-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='forms'/><category scheme='http://www.blogger.com/atom/ns#' term='jquery'/><category scheme='http://www.blogger.com/atom/ns#' term='ui'/><title type='text'>In-context FORM help using jQuery</title><content type='html'>&lt;p&gt;
The Apple store checkout form redesign introduced me to the concept of &lt;a href="http://www.lukew.com/ff/entry.asp?968"&gt;in-context error messages&lt;/a&gt;.
&lt;/p&gt;

&lt;img src="http://lh6.ggpht.com/_EE2zVzGv1Ds/TJzNshMnLOI/AAAAAAAALXM/zvhKhFN4oOI/s800/Screenshot-Secure%20Checkout%20-%20Apple%20Store%20%28U.S.%29%20-%20Google%20Chrome.png"&gt;

&lt;p&gt;
Basically, the new context bubble element is being used to tell the user more about this field, and potentially answer questions the user may have about how to fill out the field correctly.
&lt;/p&gt;

&lt;p&gt;
I wanted to get the same effect on a site I'm working on, but for all fields, not just fields that have failed validation. Basically, I liked showing more information while the user is in the context of editing a field, and I liked the visual metaphor.
&lt;/p&gt;

&lt;p&gt;
Here is what my version looks like.
&lt;/p&gt;

&lt;img src="http://lh3.ggpht.com/_EE2zVzGv1Ds/TJzQfFuGZyI/AAAAAAAALXU/AI6aarPRjas/s800/animated_context_help.gif"&gt;

&lt;p&gt;
I initially tried to position the bubble using just CSS, but this proved impossible. Instead, I used jQuery to get the position of the parent element, and also to compensate for the scrollbar offset. Here is the full code for the example.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;form id="myform"&amp;gt;
 &amp;lt;label&amp;gt;Password:&amp;lt;/label&amp;gt;
 &amp;lt;input name="password" value=""&amp;gt;
&amp;lt;/form&amp;gt;

&amp;lt;div id="contextual-help"&amp;gt;
    &amp;lt;div class="message-box"&amp;gt;
        &amp;lt;div class="close" title="Close contextual help"&amp;gt;
            x
        &amp;lt;/div&amp;gt;
        &amp;lt;div class="message"&amp;gt;
        &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;div class="triangle"&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;

&amp;lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"&amp;gt;&amp;lt;/script&amp;gt;

&amp;lt;style&amp;gt;
 #myform { margin: 200px; }
 #contextual-help { position: absolute; display: none; }
 #contextual-help .message-box { 
     border-radius: 20px; -moz-border-radius: 20px; -webkit-border-radius: 20px; 
     background-color: #FFFE9D; border: 1px solid #A9A809;  padding: 1em;    
     width: 400px;
     font-size: 120%;
 }
 #contextual-help .triangle {
  background: url("contextual-help-triangle.png") no-repeat;
  margin-top: -1px;
  margin-left: 40px;
  width: 31px;
  height: 18px;
 }
 #contextual-help .close {
     cursor: pointer;
     float: right; 
     margin-top: -.7em; 
     margin-right: -.5em;
     color: #A9A809;
     font-size: 120%;
     font-weight: bold;
 }
&amp;lt;/style&amp;gt;

&amp;lt;script&amp;gt;

 $(document).ready(function() {
 
  $("#contextual-help .close").click(function () {
   close_context_help();
  });
 
  bind_help($("#myform input[name=password]"),
   "Must be more than 5 characters."
   ); 
 });

 function close_context_help() {
  $("#contextual-help").hide();
  $("#contextual-help").css({top: '', left: ''}); // fix for "drifting" on IE/Chrome  
 }
 
 function bind_help(input_element, message) {

 
  input_element
   .focus(function () {
    var contextualHelp = $("#contextual-help");
    contextualHelp.find(".message").html(message);   
    var inputOffset = $(this).offset(); // top, left
    var scrollTop = $(window).scrollTop(); // how much should we offset if the user has scrolled down the page?
    contextualHelp.offset({ 
     top: inputOffset.top + scrollTop - contextualHelp.height() - 2, 
     //left: (inputOffset.left + .5 * $(this).width()) - .5 * contextualHelp.width()
     left: inputOffset.left + 20
    });   
    contextualHelp.show();
   })
   .blur(function () {
    close_context_help();
   })
   .keyup(function (event) { // keydown does not work in Firefox, keypress does not work in Chrome
    // escape
    if (event.keyCode == 27) {
     close_context_help(); 
    }
   })
   .keypress(function (event) {
    // escape
    if (event.keyCode == 27) {
     close_context_help(); 
    }
   })  
  ;
 }
&amp;lt;/script&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Finally, a like to &lt;a href="http://lh3.ggpht.com/_EE2zVzGv1Ds/TJzNsVXtvyI/AAAAAAAALXE/xjXwUtOMTN8/s800/contextual-help-triangle.png"&gt;contextual-help-triangle.png&lt;/a&gt; to complete the styling.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2346300673124351443/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/09/in-context-form-help-using-jquery.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2346300673124351443'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2346300673124351443'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/09/in-context-form-help-using-jquery.html' title='In-context FORM help using jQuery'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_EE2zVzGv1Ds/TJzNshMnLOI/AAAAAAAALXM/zvhKhFN4oOI/s72-c/Screenshot-Secure%20Checkout%20-%20Apple%20Store%20%28U.S.%29%20-%20Google%20Chrome.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-333544551204399758</id><published>2010-09-17T13:09:00.002-04:00</published><updated>2010-09-17T13:17:04.972-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Show username in Django 500 error emails</title><content type='html'>&lt;p&gt;
By default, Django will send an email to the site admins when a 500 error occurs. These emails contain all kinds of great information such as stacktrace, HTTP headers and cookie data. Unfortunately, it does not show which user the error occurred for. This can make errors harder than necessary to reproduce.
&lt;/p&gt;

&lt;p&gt;
Actually, there IS enough data in the email to tie back to a user. Specifically, the email includes the sessionID. You can &lt;a href="http://scottbarnham.com/blog/2008/12/04/get-user-from-session-key-in-django/"&gt;lookup a username by sessionID&lt;/a&gt;, as long as the session is still active. But why should you have to?
&lt;/p&gt;

&lt;p&gt;
Instead, here is a simple hack to include the username in the cookies, which in turn are displayed in the error email.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
@login_required
def home(request):                    
    # other view code here
    response = render_to_response("home.html", RequestContext(request, locals()))
    response.set_cookie("username", request.user.username)
    return response
&lt;/pre&gt;

&lt;p&gt;
Ideally, you would do this just after the user logs in. Here, I did it on the home page for a logged in user, which is the first page they are redirected to post login.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/333544551204399758/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/09/show-username-in-django-500-error.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/333544551204399758'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/333544551204399758'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/09/show-username-in-django-500-error.html' title='Show username in Django 500 error emails'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6392017194353389346</id><published>2010-09-10T13:29:00.002-04:00</published><updated>2010-09-10T13:36:56.425-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='forms'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django log form ValidationErrors</title><content type='html'>&lt;p&gt;
Forms are the primary way your users communicate with your website. Hopefully, the users are always entering data in the correct format, and the form always accepts their submissions. In the real world, users often encounter form validation errors.
&lt;/p&gt;

&lt;p&gt;
In some ways, this is a good thing. At least you're getting valid data, in the end. However, too many validation errors can lead to form abandonment, ie the user may give up. When that happens, don't you want to know?
&lt;/p&gt;

&lt;p&gt;
In Django, there is a relatively easy way to log any form validation errors that happen. Simply over-ride the is_valid() function on your forms.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class MyForm(Form):             
    def is_valid(self):
        is_valid = super(MyForm, self).is_valid(self)
        if not is_valid:
            for field in self.errors.keys():
                print &amp;quot;ValidationError: %s[%s] &amp;lt;- \&amp;quot;%s\&amp;quot; %s&amp;quot; % (
                    type(self),
                    field,
                    self.data[field],
                    self.errors[field].as_text()
                )
        return is_valid
&lt;/pre&gt;

&lt;p&gt;
This will produce the following output in your logs, which you can then grep and even email to yourself on a regular basis if you so desire.
&lt;/p&gt;

&lt;pre&gt;
ValidationError: &amp;lt;class &amp;#39;website.views.profiles.Step1Form&amp;#39;&amp;gt;[password] &amp;lt;- &amp;quot;&amp;quot; * This field is required.
ValidationError: &amp;lt;class &amp;#39;website.views.profiles.Step1Form&amp;#39;&amp;gt;[email] &amp;lt;- &amp;quot;aaa&amp;quot; * Enter a valid e-mail address.
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6392017194353389346/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/09/django-log-form-validationerrors.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6392017194353389346'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6392017194353389346'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/09/django-log-form-validationerrors.html' title='Django log form ValidationErrors'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6943363989708780449</id><published>2010-09-03T10:05:00.008-04:00</published><updated>2011-01-10T09:27:35.021-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='forms'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='html5'/><title type='text'>Django HTML5 input placeholders</title><content type='html'>&lt;p&gt;
HTML5 has a bunch of nifty progressive enhancements to forms, one of which is placeholder text. Here is an example, along with the required code.
&lt;/p&gt;

&lt;img src="http://lh5.ggpht.com/_EE2zVzGv1Ds/TIEDhE7_JyI/AAAAAAAALWw/FIPbptqB4Dk/s800/html5_placeholders.gif"&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;form style="float: right; margin: 1.75em;"&amp;gt;
   &amp;lt;input size="38" placeholder="Your browser supports placeholder text"&amp;gt;
&amp;lt;/form&amp;gt;
&lt;/pre&gt;

&lt;blockquote&gt;
Placeholder text is displayed inside the input field as long as the field is empty and not focused. As soon you click on (or tab to) the input field, the placeholder text disappears.
   - &lt;a href="http://diveintohtml5.org/detect.html#input-placeholder"&gt;Mark Pilgrim&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
I wanted to leverage this feature using Django's built-in form generation. Ie, I wanted to be able to call form.as_table, and have placeholder values pulled either from the model field's help_text, or from the form definition.
&lt;/p&gt;

&lt;p&gt;
My first problem was that help_text currently just dumps out into the form body. I needed a way to disable, or at least hide, those elements. There is an &lt;a href="http://code.djangoproject.com/ticket/8426"&gt;open feature request&lt;/a&gt; to wrap those elements in a class, so that they can be easily styled/hidden. While that feature will make it into Django 1.3, here is a solution in the meantime.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def wrap_helptext_as_table(self):
    return self._html_output(
        u'&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;%(label)s&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;%(errors)s%(field)s%(help_text)s&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;', 
        u'&amp;lt;tr&amp;gt;&amp;lt;td colspan="2"&amp;gt;%s&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;', 
        '&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;', 
        u'&amp;lt;div class="help_text"&amp;gt;%s&amp;lt;/div&amp;gt;', 
        False,
        )

class Html5Form(Form):   
          
    def as_table(self):
        return wrap_helptext_as_table(self)
     
class Html5ModelForm(ModelForm):
            
    def as_table(self):
        return wrap_helptext_as_table(self)    

# .help_text { display: none; } will now hide help_text elements
&lt;/pre&gt;

&lt;p&gt;
These two subclasses, one for regular forms and one for model forms, comprised the smallest change to the base classes that I could come up with to wrap help_text in a div with a css class. On to inserting the HTML5 placeholder attribute.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class Html5ModelForm(ModelForm):
            
    def as_table(self):
        return wrap_helptext_as_table(self)        
        
    def __init__(self, data=None, files=None, auto_id='id_%s', prefix=None,
                 initial=None, error_class=ErrorList, label_suffix=':',
                 empty_permitted=False, instance=None):
                             
        super(Html5ModelForm, self).__init__(data, files, auto_id, prefix, 
            initial, error_class, label_suffix, 
            empty_permitted, instance)
            
        # create an HTML5 placeholder attribute based on the field help_text 
        for field_name in self.fields:
            field = self.fields.get(field_name)
            if field:
                if type(field.widget) == TextInput:
                    field.widget.attrs["placeholder"] = field.help_text
&lt;/pre&gt;

&lt;p&gt;
That's a complete solution for model forms. For regular forms, all you have to do is the following in the form definition.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class MyForm(Form):
    name = forms.CharField(widget=forms.TextInput({ "placeholder": "Joe Recruiter" }))
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6943363989708780449/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/09/django-html5-input-placeholders.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6943363989708780449'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6943363989708780449'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/09/django-html5-input-placeholders.html' title='Django HTML5 input placeholders'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_EE2zVzGv1Ds/TIEDhE7_JyI/AAAAAAAALWw/FIPbptqB4Dk/s72-c/html5_placeholders.gif' height='72' width='72'/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6359810388527813089</id><published>2010-08-18T11:21:00.008-04:00</published><updated>2010-08-18T12:20:07.309-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='unobtrusive'/><title type='text'>Chained Select Progressive Enhancement</title><content type='html'>&lt;p&gt;
Perhaps you have encountered a &lt;a href="http://www.dynamicdrive.com/dynamicindex1/chainedmenu/index.htm"&gt;chained select&lt;/a&gt; control in your travels. The canonical example would be on Monster or CareerBuilder, picking your area of expertise. Maybe you first select "Technology", then the second menu contains only technology skills, and you select "Web Developer", etc. It most useful when there are a large number of sub-categories, and you don't want to show all the irrelevant options to the user.
&lt;/p&gt;

&lt;p&gt;
This control is not one of the standard web form controls, perhaps because it's really a composite of two or more select controls. Composites are &lt;a href="http://www.quirksmode.org/dom/inputfile.html"&gt;harder to style&lt;/a&gt;, and in this case don't even map cleanly to FORM variables. How do you define two forms fields in a parent/child one to many relationship, semantically? You have to resort to hacks like field name prefixes.
&lt;/p&gt;

&lt;p&gt;
Any chained select implementation is going to involve javascript. But every implementation I could find also &lt;span style="font-weight:bold;"&gt;requires&lt;/span&gt; javascript. In other words, if the user has javascript disabled, or there is a bug in your javascript, they will not be able to fill out the form.
&lt;/p&gt;

&lt;p&gt;
What follows is the beginnings of a chained select &lt;a href="http://www.alistapart.com/articles/progressiveenhancementwithjavascript/"&gt;progressive enhancement&lt;/a&gt;, aka a unobstrusive javascript version. It starts with a nested HTML list. That's the baseline version.
&lt;/p&gt;

&lt;img src="http://lh3.ggpht.com/_EE2zVzGv1Ds/TGwBcujw1nI/AAAAAAAALV8/J08G7BJCylA/s800/Screenshot-Mozilla%20Firefox.png" /&gt;

&lt;p&gt;
As I mentioned, I decided on an arbitrary prefix for the input values. In this case, the format is categoryID:subcategoryID. You could potentially just post the subcategoryID of course, if your back-end could pull the category automatically.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
 &amp;lt;ul class="chained-select chained-select-style"&amp;gt;
  &amp;lt;li class="category"&amp;gt;
   &amp;lt;label&amp;gt;Customer Service/Technical Support&amp;lt;/label&amp;gt;
   &amp;lt;ul class="subcategory"&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="1:1"&amp;gt;All Customer Service/Technical Support&amp;lt;/li&amp;gt;
   &amp;lt;/ul&amp;gt;
  &amp;lt;/li&amp;gt;
  &amp;lt;li class="category"&amp;gt;
   &amp;lt;label&amp;gt;Engineering (Non-IT)&amp;lt;/label&amp;gt;
   &amp;lt;ul class="subcategory"&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:1"&amp;gt;Architectural&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:2"&amp;gt;Computer Aided Design&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:3"&amp;gt;Construction&amp;lt;/li&amp;gt;   
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:4"&amp;gt;Civil Engineering&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:5"&amp;gt;Chemical Engineering&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:6"&amp;gt;Computer Aided Design (CAD)&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:7"&amp;gt;Construction&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:8"&amp;gt;Environmental Engineering&amp;lt;/li&amp;gt;   
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:9"&amp;gt;Civil Engineering&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="2:10"&amp;gt;Project/Program Management&amp;lt;/li&amp;gt;
   &amp;lt;/ul&amp;gt;
  &amp;lt;/li&amp;gt;
  &amp;lt;li class="category"&amp;gt;
   &amp;lt;label&amp;gt;Information Technology&amp;lt;/label&amp;gt;
   &amp;lt;ul class="subcategory"&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:1"&amp;gt;Business Systems Analysis&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:2"&amp;gt;ERP Applications&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:3"&amp;gt;Network Operations&amp;lt;/li&amp;gt;   
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:4"&amp;gt;Project/Program Management&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:5"&amp;gt;Security&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:7"&amp;gt;Software Development&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:8"&amp;gt;Quality Assurance&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:9"&amp;gt;Technical Writing/Documentation&amp;lt;/li&amp;gt;   
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:10"&amp;gt;Product Management&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;input type="radio" name="category" value="3:11"&amp;gt;Web Design&amp;lt;/li&amp;gt;
   &amp;lt;/ul&amp;gt;
  &amp;lt;/li&amp;gt;
 &amp;lt;/ul&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Even the baseline should look decent, however. Here is my basic styling. It also includes some classes which will only be set later by the javascript.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;style&amp;gt;
   #demo { width: 900px; }

   .chained-select-style li { list-style: none; float: left; }
   .chained-select-style li ul li { display: inline; }

   .chained-select-style li.category { font-weight: bold; }
   .chained-select-style .subcategory {font-weight: normal; }
   .chained-select-style li ul li { padding: 5px; margin: 5px; margin-right: 10px; border: 1px solid #B0B0B0; background-color: #F0F0F0; }
   .chained-select-style li ul li.selected { background-color: #F0F0B0; }

&amp;lt;/style&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Now, it looks more like this.
&lt;/p&gt;

&lt;img src="http://lh6.ggpht.com/_EE2zVzGv1Ds/TGwCqj8_o8I/AAAAAAAALWE/wB7_g9cnmmA/s800/Screenshot-Mozilla%20Firefox-1.png" /&gt;

&lt;p&gt;
The progressive enhancement uses jQuery, and basically just does the following.
&lt;ol&gt;
 &lt;li&gt;Toggles a "selected" class when an individual item is checked off.&lt;/li&gt;
 &lt;li&gt;Hides the category labels and creates a select control with their values.&lt;/li&gt;
 &lt;li&gt;Hides the subcategory lists.&lt;/li&gt;
 &lt;li&gt;Attaches a behaviour to the new select control to show the relevant subcategory list when the select value changes.&lt;/li&gt;
&lt;/ol&gt; 
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;script&amp;gt;
 $(document).ready(function () {

  function select_changed() {
   if ($(this).is(":checked")) {
    if ($(this).is("[type=radio]"))
     $(this).parents(".chained-select-style").find("li").removeClass("selected");
    $(this).parent().addClass("selected");
   }
   else $(this).parent().removeClass("selected");   
  }

  var items = $(".chained-select-style input");
  items.change(select_changed);
  $.each(items.filter(":checked"), select_changed);

  function chained_select(elements) {
   $.each(elements, function () {
    var top = $("&amp;lt;select class='chained-select-top'&amp;gt;");
    $.each($(this).find(".category label"), function () {
     // escape the contents
     top.append($("&amp;lt;option&amp;gt;&amp;lt;/option&amp;gt;").text($(this).text()));
    });
    $(this).before(top);
   });
   elements.find(".category label").add(elements.find(".subcategory")).hide();   
   function chained_select_change() {
    var label_text = $(this).val();
    $.each(elements.find(".category label"), function () {
     if ($(this).text() == label_text) {
      $(this).next().show(); 
     } else {
      $(this).next().hide();
     }
    });
   }
   var items = $(".chained-select-top");
   items.change(chained_select_change);
   $.each(items, chained_select_change);
  }
  chained_select($(".chained-select"));
 });
&amp;lt;/script&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
What you end up with is the following. You could certainly take this one step further and convert the subcategory list into the traditional second select control. I just like the way this looks better.
&lt;/p&gt;

&lt;img src="http://lh3.ggpht.com/_EE2zVzGv1Ds/TGwD8R85PzI/AAAAAAAALWM/bMVo_cjgf0M/s800/Screenshot-Mozilla%20Firefox-2.png" /&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6359810388527813089/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/08/chained-select-progressive-enhancement.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6359810388527813089'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6359810388527813089'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/08/chained-select-progressive-enhancement.html' title='Chained Select Progressive Enhancement'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_EE2zVzGv1Ds/TGwBcujw1nI/AAAAAAAALV8/J08G7BJCylA/s72-c/Screenshot-Mozilla%20Firefox.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3990441164611321850</id><published>2010-08-06T14:29:00.003-04:00</published><updated>2010-08-06T14:37:33.548-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Redirect console output to a Django HttpResponse</title><content type='html'>&lt;p&gt;
Say you have some Python code that prints to the console, and you want to re-use that code in a Django view, but output the print statements as HTML in the HttpResponse. Perhaps, like me, you have a batch job that you're calling from ./manage.py script that you would also like to call from an HTTP request and see the results as text/HTML. Here is a decorator that does just that.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import sys
from django.http import HttpResponse

def print_http_response(f):
    """ Wraps a python function that prints to the console, and 
    returns those results as a HttpResponse (HTML)"""
    
    class WritableObject:
        def __init__(self):
            self.content = []
        def write(self, string):
            self.content.append(string)     
    
    def new_f(*args, **kwargs):
        printed = WritableObject()
        sys.stdout = printed
        f(*args, **kwargs)
        sys.stdout = sys.__stdout__    
        return HttpResponse(['&amp;lt;BR&amp;gt;' if c == '\n' else c for c in printed.content ])         
    return new_f
&lt;/pre&gt;

&lt;p&gt;
If you attached it like so to a view...
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
@print_http_response
def my_view(request):
   print "some output here"
   for i in [1, 2, 3]:
      print i
&lt;/pre&gt;

&lt;p&gt;
It would output the following HTML:
&lt;/p&gt;

&lt;pre&gt;
some output here&amp;lt;BR&amp;gt;
1&amp;lt;BR&amp;gt;
2&amp;lt;BR&amp;gt;
3&amp;lt;BR&amp;gt;
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3990441164611321850/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/08/redirect-console-output-to-django.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3990441164611321850'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3990441164611321850'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/08/redirect-console-output-to-django.html' title='Redirect console output to a Django HttpResponse'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8273182291042590894</id><published>2010-07-30T10:16:00.003-04:00</published><updated>2010-08-06T14:43:49.903-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='greasemonkey'/><category scheme='http://www.blogger.com/atom/ns#' term='userscripts'/><category scheme='http://www.blogger.com/atom/ns#' term='chrome'/><title type='text'>Blank Canvas brings @require support to Chrome</title><content type='html'>&lt;p&gt;
Quick shout-out to the &lt;a href="https://chrome.google.com/extensions/detail/pipnnjjknlabchljabhmnpdfpdobpnkk"&gt;Blank Canvas Script Handler&lt;/a&gt;, a relatively unknown Google Chrome extension that brings &lt;a href="http://code.google.com/p/chromium/issues/detail?id=19173"&gt;@require support&lt;/a&gt; to &lt;a href="http://userscripts.org/"&gt;userscripts&lt;/a&gt; in Chrome.
&lt;/p&gt;

&lt;p&gt;
That just leaves &lt;a href="http://code.google.com/p/chromium/issues/detail?id=16932"&gt;NoScript&lt;/a&gt;, and I might actually switch to Chrome full-time.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8273182291042590894/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/07/blank-canvas-brings-require-support-to.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8273182291042590894'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8273182291042590894'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/blank-canvas-brings-require-support-to.html' title='Blank Canvas brings @require support to Chrome'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1489661186474672093</id><published>2010-07-23T14:08:00.005-04:00</published><updated>2010-07-23T14:53:11.464-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Django zip files (create dynamic in-memory archives with Python's zipfile)</title><content type='html'>&lt;p&gt;
Usually, Django should not be used to serve static files.
&lt;/p&gt;

&lt;blockquote&gt;
The reasoning here is that standard Web servers, such as Apache, lighttpd and Cherokee, are much more fine-tuned at serving static files than a Web application framework.
   - &lt;a href="http://docs.djangoproject.com/en/dev/howto/static-files/"&gt;Django documentation&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
However, dynamic files are a different story. Say you want to wrap more than one file being generated on the fly from a form POST. In my case, I wanted to let the user download a zip archive of a few generated reports.
&lt;/p&gt;

&lt;p&gt;
Using Python's &lt;a href="http://docs.python.org/library/zipfile.html"&gt;zipfile&lt;/a&gt; it's easy to create the archive in-memory, without writing to disk. Then, serving that file as a zip content-type is easy in Django.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;

from StringIO import StringIO
from zipfile import ZipFile
from django.http import HttpResponse

def download(request, company_id):     
    
    in_memory = StringIO()
    zip = ZipFile(in_memory, "a")
        
    zip.writestr("file1.txt", "some text contents")
    zip.writestr("file2.csv", "csv,data,here")
    
    # fix for Linux zip files read in Windows
    for file in zip.filelist:
        file.create_system = 0    
        
    zip.close()

    response = HttpResponse(mimetype="application/zip")
    response["Content-Disposition"] = "attachment; filename=two_files.zip"
    
    in_memory.seek(0)    
    response.write(in_memory.read())
    
    return response

&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1489661186474672093/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html#comment-form' title='5 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1489661186474672093'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1489661186474672093'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html' title='Django zip files (create dynamic in-memory archives with Python&apos;s zipfile)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>5</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3225316911366131896</id><published>2010-07-16T15:51:00.004-04:00</published><updated>2010-07-16T15:59:03.934-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Free search string tokenization in Python</title><content type='html'>&lt;p&gt;
Want to do some simple lex parsing in Python? Using &lt;a href="http://docs.python.org/library/shlex.html"&gt;shlex&lt;/a&gt;, you may be able to get something that meets your requirements almost for free. Here is an example I used recently to parse a search string. The requirements were that tokens could be separated by spaces or commas, and double-quotes denotes a single token.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import shlex 

def _tokens(query):
    return shlex.split(str(query))
&lt;/pre&gt;

&lt;p&gt;
Examples:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;

&amp;gt;&amp;gt;&amp;gt; _tokens("java, perl, c++")
['java,', 'perl,', 'c++']

&amp;gt;&amp;gt;&amp;gt; _tokens("java perl c++")
['java', 'perl', 'c++']

&amp;gt;&amp;gt;&amp;gt; _tokens("java perl c++ \"Phil's Staffing\"")
['java', 'perl', 'c++', "Phil's Staffing"]

&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3225316911366131896/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/07/free-search-string-tokenization-in.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3225316911366131896'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3225316911366131896'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/free-search-string-tokenization-in.html' title='Free search string tokenization in Python'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387</id><published>2010-07-09T12:24:00.012-04:00</published><updated>2012-03-02T10:37:38.666-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='celery'/><title type='text'>Django/Celery Quickstart (or, how I learned to stop using cron and love celery)</title><content type='html'>&lt;p&gt;
Websites often need tasks that run periodically, behind the scenes. Examples include sending email reminders, aggregating denormalized data and permanently deleting archived records. Very often the simplest solution is to setup a &lt;a href="https://help.ubuntu.com/community/CronHowto"&gt;cron&lt;/a&gt; job to hit a URL on the site that performs the task.
&lt;/p&gt;

&lt;p&gt;
Cron has the advantage of simplicity, but it's not not ideal for the job. You have to take steps to ensure that regular users of the site cannot hit those URLs directly. It also forces you to manage an external configuration. What if you forget to perform the configuration on the qa or production servers? It would be safer and easier if the configuration was in the code for the site.
&lt;/p&gt;

&lt;p&gt;
For Django sites, &lt;a href="http://ask.github.com/celery/getting-started/introduction.html"&gt;celery&lt;/a&gt; seems to be the solution of choice. Celery is really focused on being a distributed task queue, but it can also be a great scheduler. Their &lt;a href="http://ask.github.com/celery/index.html"&gt;documentation&lt;/a&gt; is excellent, but I found that they lack a quickstart guide for getting started with Django and celery, &lt;b&gt;just&lt;/b&gt; for replacing cron.
&lt;/p&gt;

&lt;p&gt;
Note: Celery typically runs with RabbitMQ as the back-end. For just task scheduling, this may be overkill. This guide starts out using kombu, which is backed by the database Django is already using. 
&lt;/p&gt;

&lt;ol&gt;

&lt;li&gt;
Install django-celery, ghettoq
&lt;pre name="code" class="bash"&gt;
sudo pip install django-celery
&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;
Edit settings.py, and add the celery config info
&lt;pre name="code" class="python"&gt;
INSTALLED_APPS = (
    ...
    'kombu.transport.django',
    'djcelery',
)

BROKER_URL = "django://" # tell kombu to use the Django database as the message queue

import djcelery
djcelery.setup_loader()
&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;
Add the new tables to the Django database
&lt;pre name="code" class="bash"&gt;
./manage.py syncdb
&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;
Create a file, tasks.py in your project (same level as models.py)
&lt;pre name="code" class="python"&gt;
from celery.task.schedules import crontab
from celery.decorators import periodic_task

# this will run every minute, see http://celeryproject.org/docs/reference/celery.task.schedules.html#celery.task.schedules.crontab
@periodic_task(run_every=crontab(hour="*", minute="*", day_of_week="*"))
def test():    
    print "firing test task"                  
&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;
Start the celery daemon in "beat" mode, which is required for scheduling
&lt;pre name="code" class="bash"&gt;
sudo ./manage.py celeryd -v 2 -B -s celery -E -l INFO
&lt;/pre&gt;
&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;
At this point, you should see your celery tasks in the console output, and you should see the task firing every minute.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
[2012-03-02 09:34:49,170: WARNING/MainProcess]  

 -------------- celery@chase-VirtualBox v2.5.1
---- **** -----
--- * ***  * -- [Configuration]
-- * - **** ---   . broker:      django://localhost//
- ** ----------   . loader:      djcelery.loaders.DjangoLoader
- ** ----------   . logfile:     [stderr]@INFO
- ** ----------   . concurrency: 1
- ** ----------   . events:      ON
- *** --- * ---   . beat:        ON
-- ******* ----
--- ***** ----- [Queues]
 --------------   . celery:      exchange:celery (direct) binding:celery
                  

[Tasks]
  . myapp.tasks.test

[2012-03-02 09:34:49,236: INFO/PoolWorker-2] child process calling self.run()
[2012-03-02 09:34:49,239: WARNING/MainProcess] celery@chase-VirtualBox has started.
[2012-03-02 09:34:49,245: INFO/Beat] child process calling self.run()
[2012-03-02 09:34:49,249: INFO/Beat] Celerybeat: Starting...
[2012-03-02 09:34:49,283: INFO/Beat] Scheduler: Sending due task myapp.tasks.test
[2012-03-02 09:34:54,654: INFO/MainProcess] Got task from broker: myapp.tasks.test[39d57f82-fdd2-406a-ad5f-50b0e30a6492]
[2012-03-02 09:34:54,666: WARNING/PoolWorker-2] firing test task
[2012-03-02 09:34:54,667: INFO/MainProcess] Task myapp.tasks.test[39d57f82-fdd2-406a-ad5f-50b0e30a6492] succeeded in 0.00423407554626s: None
&lt;/pre&gt;

&lt;p&gt;
If you want, you can &lt;a href="http://ask.github.com/celery/getting-started/broker-installation.html#installing-rabbitmq"&gt;upgrade to RabbitMQ&lt;/a&gt;. Just make sure to &lt;a href="http://ask.github.com/celery/getting-started/first-steps-with-celery.html#configuration"&gt;update&lt;/a&gt; your setting.py, as well.
&lt;/p&gt;

&lt;p&gt;
You may also want to run &lt;a href="http://celeryproject.org/docs/cookbook/daemonizing.html"&gt;celeryd as a service&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
&lt;b&gt;Update 3/1/2012:&lt;/b&gt; updated instructions Kombu. Tested on Python 2.7.2 and Django 1.3.0 in a clean environment.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6797235892604783387/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html#comment-form' title='16 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' title='Django/Celery Quickstart (or, how I learned to stop using cron and love celery)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>16</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2751973771074061208</id><published>2010-06-22T17:22:00.004-04:00</published><updated>2010-06-25T13:30:19.320-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>better unobstrusive javascript element hiding</title><content type='html'>&lt;p&gt;
Many web pages have elements that are only displayed at the users request. Common examples are Facebook's chat tab, Gmail's "more" folders link and Yahoo's dashboard toggles. Typically, these elements are already loaded onto the page, and simply hidden by style sheets. Then when you click on a certain control, a piece of JavaScript un-hides the element.
&lt;/p&gt;

&lt;p&gt;
But what about users who don't have JavaScript enabled? Ideally, you would want to allow them to access the content anyway. Sure, the experience is better with JavaScript, but that's no reason to break it for everyone else. This concept of graceful degradation is known as &lt;a href="/2009/06/easier-development-with-unobtrusive.html"&gt;unobstrusive Javascript&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
A typical solution would be to leave the element visible initially via the style sheet, but immediately hide if when the page loads with JavaScript. That way, users with JavaScript can dynamically un-hide it, and users without JavaScript will simply always see it.
&lt;/p&gt;

&lt;p&gt;
The problem with this approach is that it can lead to a flicker effect when the page is first loaded. When JavaScript hides the content while the page is still loading, it may have already been displayed to the user. The user sees the page reconfigure itself, and may interpret this as a problem with the site. Luckily, there is a a better way.
&lt;/p&gt;

&lt;p&gt;
A better way to hide this content dynamically is to output a style sheet dynamically from the HTML HEAD element. 
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;
 &amp;lt;head&amp;gt;
  &amp;lt;title&amp;gt;My Page Title&amp;lt;/title&amp;gt;
  &amp;lt;script&amp;gt;
      // check for WC3 standard DOM compliance
      if (document.getElementById) {
          document.write("&amp;lt;style type=\"text/css\"&amp;gt;.hideme { display: none; }&amp;lt;/style&amp;gt;");
      }
  &amp;lt;/script&amp;gt;
 &amp;lt;/head&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
This will hide any element with the "hideme" class. Because it's executed inside the HEAD tag, it will process before the page itself loads. No flickering. If the user does not have JavaScript, then they will simply see the element.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2751973771074061208/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/06/better-unobstrusive-javascript-element.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2751973771074061208'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2751973771074061208'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/better-unobstrusive-javascript-element.html' title='better unobstrusive javascript element hiding'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409</id><published>2010-06-09T13:02:00.003-04:00</published><updated>2010-06-09T13:30:33.130-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Add a button to Django admin to login as a user (without the password)</title><content type='html'>&lt;p&gt;
Django correctly stores user passwords as md5 hashes by default. This is great for security; there is &lt;a href="http://stackoverflow.com/questions/330207/how-come-md5-hash-values-are-not-reversible"&gt;zero chance&lt;/a&gt; that a password could be exposed via flaw in the site, attack, disgruntled employee, whatever. But what if you had a use case where you wanted to login as user without a password?
&lt;/p&gt;

&lt;p&gt;
The use case I have in mind is allowing admin users to login as a user via the Django admin application. This could be very useful for reproducing bugs or verifying what a particular user is seeing. Without knowing the user's password, the only way for an admin to login as them would be to reset their password, login, do their bussiness, and then email the user the new password. Hardly ideal.
&lt;/p&gt;

&lt;p&gt;
Adding a button to the user page in admin is easy. The user model is in the auth application, so all you have to do is create a file called admin/auth/change_form.html in your templates directory. There, you can extend the base change_form.html for the User model. &lt;i&gt;Note: root around in the /usr/lib/pymodules/python2.6/django/contrib/admin/templates directory for an idea of what files you can extend.&lt;/i&gt;
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
{% extends "admin/change_form.html" %}

{% block object-tools %}
{% if change %}{% if not is_popup %}
  &amp;lt;ul class="object-tools"&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;a href="history/" class="historylink"&amp;gt;History&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;li&amp;gt;&amp;lt;a href="/login/user/{{ object_id }}?hash={{ 'user'|hash:object_id }}"&amp;gt;Login&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
  &amp;lt;/ul&amp;gt;
{% endif %}{% endif %}
{% endblock %}
&lt;/pre&gt;

&lt;p&gt;
In this case, the relative URL for the login would be the /login/user/$id. If you made the URL absolute, you could provide an alternate domain name, which would allow you a separate cookie, so you could be logged in as different users in both admin and the application at the same time.
&lt;/p&gt;

&lt;p&gt;
What's that hash parameter? It's just a security feature to make sure an attacker cannot access this URL without knowing the secret key. The filter definition looks like this:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django import template

register = template.Library()  

@register.filter()
def hash(type, id):
    hash = hashlib.md5()
    hash.update("%s:%s:%s" % (type, id, settings.ADMIN_HASH_SECRET))
    return hash.hexdigest().upper()
&lt;/pre&gt;

&lt;p&gt;
The URL is routed in typical fashion via urls.py.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
    url(r'^login/user/(?P&amp;lt;user_id&amp;gt;[\d_]+)$', admin.login_as_user),
&lt;/pre&gt;

&lt;p&gt;
Finally, here is the view that implements the login securely.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.conf import settings
from django.http import HttpResponseRedirect
from django.contrib.auth.models import User
from django.core.urlresolvers import reverse
from django.contrib.auth import login, authenticate

# the same filter that I called in the template
from search.helpers.tags import logic

def login_as_user(request, user_id):

    # security check; don't let unauthorised people login
    request_hash = request.REQUEST.get("hash", "")
    if request_hash != logic.hash("user", user_id):
        raise Exception("invalid hash value")
    
    user = User.objects.get(id=user_id)
    
    # ADMIN_HASH_SECRET is set in settings.py, can be any secret string 
    user = authenticate(username=user.username, password=settings.ADMIN_HASH_SECRET)
    login(request, user)    
    
    return HttpResponseRedirect(reverse("home"))
&lt;/pre&gt;

&lt;p&gt;
The Django login() method does the work of logging the user in against whatever backed you have configured, just as if they logged in manually. However, authenticate() is necessary, and by default requires that the actual user's password be passed in. As mentioned previously, this is a big problem because we don't know the user's password; it's stored as a one-way hash.
&lt;/p&gt;

&lt;p&gt;
It turns out to be not such a big problem after all, as Django provides an easy mechanism to extend the authentication module. First, you define your authenticator.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from django.conf import settings
from django.contrib.auth.models import User

class LoginAsUserBackend:
    """
    Allows admins to login as a user without knowing the password.     
    Will authenticate any username, given the password of settings.ADMIN_HASH_SECRET
    """
    
    def authenticate(self, username=None, password=None):
        if settings.ADMIN_HASH_SECRET != "" and password == settings.ADMIN_HASH_SECRET:
            try:
                return User.objects.get(username=username)
            except:
                pass
        return None

    def get_user(self, user_id):
        try:
            return User.objects.get(pk=user_id)
        except:
            return None
&lt;/pre&gt;

&lt;p&gt;
Django authenticators are called in serial; so my version will be called first, and then if that fails the base Django authenticator will have a go. In my case, I'm allowing any user to login with the secret stored in the settings file. My reasoning is that if they know that secret, they would be able to exploit my new login mechanism anyway.
&lt;/p&gt;

&lt;p&gt;
Then, you just add your new authenticator into the mix in settings.py.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
...
AUTHENTICATION_BACKENDS = (
    'django.contrib.auth.backends.ModelBackend',
    'my_application.path.to.my.authenticator.LoginAsUserBackend'
    )
...
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8736033396736559409/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html#comment-form' title='9 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' title='Add a button to Django admin to login as a user (without the password)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>9</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6282573613913179098</id><published>2010-06-04T12:16:00.003-04:00</published><updated>2010-06-04T12:37:39.392-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='xml'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><category scheme='http://www.blogger.com/atom/ns#' term='beautifulsoup'/><title type='text'>Parsing invalid xml with Beautiful Soup</title><content type='html'>&lt;p&gt;
Sometimes, bad xml happens to good people. In my case, I was getting a text stream back from a web-service call that proported to be xml, but was actually not well-formed. It had ampersands inside a tag.
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
 &amp;lt;?xml version="1.0" encoding='UTF-8'?&amp;gt;
 &amp;lt;resume&amp;gt;
   &amp;lt;title&amp;gt;Developer &amp;amp; Manager&amp;lt;/title&amp;gt;
    ...
 &amp;lt;/resume&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
This lead to the following error parsing with python's minidom:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
Traceback (most recent call last):
  ...
    response = minidom.parseString(xml)
  File "/usr/lib/python2.6/xml/dom/minidom.py", line 1928, in parseString
    return expatbuilder.parseString(string)
  File "/usr/lib/python2.6/xml/dom/expatbuilder.py", line 940, in parseString
    return builder.parseString(string)
  File "/usr/lib/python2.6/xml/dom/expatbuilder.py", line 223, in parseString
    parser.Parse(string, True)
ExpatError: not well-formed (invalid token): line 369, column 2025
&lt;/pre&gt;

&lt;p&gt;
Virtually all XML parses will rightly balk at this input, because &lt;a href="http://articles.techrepublic.com.com/5100-10878_11-5032714.html"&gt;it's not valid&lt;/a&gt;. You could easily work-around this issue by replacing all ampersands with the html-entity &amp;amp;amp;, but the real issue is that the web-service is obviously not using an XML parser to create the document. It's likely creating the document by hand, which means that further cases of invalid XML are quite likely.
&lt;/p&gt;

&lt;p&gt;
A more robust solution is to use a lenient parser like &lt;a href="http://www.crummy.com/software/BeautifulSoup/"&gt;Beautiful Soup&lt;/a&gt;, which is actually an HTML parser. Even though it doesn't know anything about XML, it's enough for basic parsing. Beautiful Soup will allow ampersands (which are valid in HTML anyway), unclosed tags, bad encodings or virtually anything else. It's designed to make a best effort no matter what. It's also easy to use.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from BeautifulSoup import BeautifulSoup

response = BeautifulSoup(xml)
print response.find("title").string
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6282573613913179098/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/06/parsing-invalid-xml-with-beautiful-soup.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6282573613913179098'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6282573613913179098'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/parsing-invalid-xml-with-beautiful-soup.html' title='Parsing invalid xml with Beautiful Soup'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4608803855683569611</id><published>2010-05-20T16:10:00.002-04:00</published><updated>2010-05-20T16:17:14.007-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django: ManyToManyField on ModelForm as checkbox widget</title><content type='html'>&lt;p&gt;
By default, Django will use a mutli-select widget for rendering a ManyToManyField on a ModelForm. Switching it out for checkboxes is simple.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;

from django.db import models
from django.forms.models import ModelForm
from django.forms.widgets import CheckboxSelectMultiple

class Company(models.Model):  
    industries = models.ManyToManyField(Industry, blank=True, null=True)

class CompanyForm(ModelForm):
    
    class Meta:
        model = Company
        fields = ("industries")
             
    def __init__(self, *args, **kwargs):
        
        super(CompanyForm, self).__init__(*args, **kwargs)
        
        self.fields["industries"].widget = CheckboxSelectMultiple()
        self.fields["industries"].queryset = Industry.objects.all()

&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4608803855683569611/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/05/django-manytomanyfield-on-modelform-as.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4608803855683569611'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4608803855683569611'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/05/django-manytomanyfield-on-modelform-as.html' title='Django: ManyToManyField on ModelForm as checkbox widget'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-561859550286435608</id><published>2010-05-14T13:44:00.005-04:00</published><updated>2010-05-14T14:14:05.314-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Reuse Django's filter_horizontal admin widget</title><content type='html'>&lt;p&gt;
The HTML &lt;a href="http://www.w3schools.com/tags/att_select_multiple.asp"&gt;select multiple&lt;/a&gt; control sucks mightily. Though it's a standard form widget, regular users seem to have usability problems with it. Specifically, it's easy to forget to control-click to add a new item, and you end up removing anything previously added. Also, it's hard to find options in large unsorted lists.
&lt;/p&gt;

&lt;p&gt;
There are many projects out there that can transform a multiselect into a more advanced widget. Typically they operate via JavaScript, replacing the vanilla control on the fly client-side. The server-side receives the same form variables. This has the advantage of being a drop-in replacement, and of degrading nicely if the user does not have JavaScript enabled.
&lt;/p&gt;

&lt;p&gt;
Django has a particularly nice one built into it's admin interface. It turns a multi-select such as...
&lt;/p&gt;

&lt;img src="http://lh6.ggpht.com/_EE2zVzGv1Ds/S-2OWm8O4kI/AAAAAAAALVM/EU7CFjUKEQk/s800/django-admin-before.png" /&gt;

&lt;p&gt;
into this...
&lt;/p&gt;

&lt;img src="http://lh5.ggpht.com/_EE2zVzGv1Ds/S-2OWXPWSmI/AAAAAAAALVI/QVGFmrPrVko/s800/django-admin-after.png" /&gt;

&lt;p&gt;
This comes complete with add/remove all, and client-side search capability. Because this is all JavaScript, it's easy to remove from Django admin and integrate into any page. I found a &lt;a href="http://www.hoboes.com/Mimsy/hacks/replicating-djangos-admin/reusing-djangos-filter_horizontal/"&gt;decent guide&lt;/a&gt; online, but I think we can do it in fewer steps.
&lt;/p&gt;

&lt;ul&gt;
 &lt;li&gt;Download &lt;a href="http://dl.dropbox.com/u/422013/bitkickers/django-admin.multiselect.js"&gt;django-admin.multiselect.js&lt;/a&gt;, and include in your page.&lt;/li&gt;
 &lt;li&gt;Download &lt;a href="http://dl.dropbox.com/u/422013/bitkickers/django-admin-widgets.css"&gt;django-admin-widgets.css&lt;/a&gt; and include in your page.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
Then, all you have to do is initialise it for any multi-selects you have.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
 jQuery.each($("select[multiple]"), function () {
  // "Locations" can be any label you want
  SelectFilter.init(this.id, "Locations", 0, "/media/");
 });
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/561859550286435608/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/05/reuse-djangos-filterhorizontal-admin.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/561859550286435608'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/561859550286435608'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/05/reuse-djangos-filterhorizontal-admin.html' title='Reuse Django&apos;s filter_horizontal admin widget'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_EE2zVzGv1Ds/S-2OWm8O4kI/AAAAAAAALVM/EU7CFjUKEQk/s72-c/django-admin-before.png' height='72' width='72'/><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2976898705404612913</id><published>2010-05-07T16:29:00.004-04:00</published><updated>2010-07-27T15:44:33.118-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>automatic image resize in Django for thumbnails</title><content type='html'>&lt;p&gt;
Want to resize images uploaded to Django on the fly? It's actually very simple. This solution requires the &lt;a href="http://www.pythonware.com/products/pil/"&gt;Python Imaging Library (PIL)&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;

import Image

class Company(models.Model):

    logo = models.ImageField(upload_to="static/images/logos")

    def save(self, force_insert=False, force_update=False):
        
        super(Company, self).save(force_insert, force_update)

        if self.id is not None:
            previous = Company.objects.get(id=self.id)
            if self.logo and self.logo != previous.logo:
                image = Image.open(self.logo.path)
                image = image.resize((96, 96), Image.ANTIALIAS)
                image.save(self.logo.path)
        
&lt;/pre&gt;

&lt;p&gt;
Updated: Django 1.2 requires that you save the file FIRST, otherwise the path will not be correct.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2976898705404612913/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/05/automatic-image-resize-in-django-for.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2976898705404612913'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2976898705404612913'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/05/automatic-image-resize-in-django-for.html' title='automatic image resize in Django for thumbnails'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4787291707864629123</id><published>2010-04-30T09:59:00.004-04:00</published><updated>2010-04-30T10:26:15.892-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Django ManyToMany error: "Cannot resolve keyword XXX into a field"</title><content type='html'>&lt;p&gt;This week I was doing some refactoring, and started getting the following exception in Django's admin site. This was under Django 1.1.1, and Python 2.6.4.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
Traceback:
File "/usr/lib/pymodules/python2.6/django/core/handlers/base.py" in get_response
  92.                 response = callback(request, *callback_args, **callback_kwargs)
File "/usr/lib/pymodules/python2.6/django/contrib/admin/sites.py" in root
  490.                 return self.model_page(request, *url.split('/', 2))
File "/usr/lib/pymodules/python2.6/django/views/decorators/cache.py" in _wrapped_view_func
  44.         response = view_func(request, *args, **kwargs)
File "/usr/lib/pymodules/python2.6/django/contrib/admin/sites.py" in model_page
  509.         return admin_obj(request, rest_of_url)
File "/usr/lib/pymodules/python2.6/django/contrib/admin/options.py" in __call__
  1098.             return self.change_view(request, unquote(url))
File "/usr/lib/pymodules/python2.6/django/db/transaction.py" in _commit_on_success
  240.                 res = func(*args, **kw)
File "/usr/lib/pymodules/python2.6/django/contrib/admin/options.py" in change_view
  840.             form = ModelForm(instance=obj)
File "/home/chase/bullhorn/branches/powerfill/django/powerfill/search/admin.py" in __init__
  113.         super(CompanyAdminForm, self).__init__(*args, **kwargs)
File "/usr/lib/pymodules/python2.6/django/forms/models.py" in __init__
  222.             object_data = model_to_dict(instance, opts.fields, opts.exclude)
File "/usr/lib/pymodules/python2.6/django/forms/models.py" in model_to_dict
  140.                 data[f.name] = [obj.pk for obj in f.value_from_object(instance)]
File "/usr/lib/pymodules/python2.6/django/db/models/fields/related.py" in value_from_object
  964.         return getattr(obj, self.attname).all()
File "/usr/lib/pymodules/python2.6/django/db/models/manager.py" in all
  105.         return self.get_query_set()
File "/usr/lib/pymodules/python2.6/django/db/models/fields/related.py" in get_query_set
  424.             return superclass.get_query_set(self)._next_is_sticky().filter(**(self.core_filters))
File "/usr/lib/pymodules/python2.6/django/db/models/query.py" in filter
  498.         return self._filter_or_exclude(False, *args, **kwargs)
File "/usr/lib/pymodules/python2.6/django/db/models/query.py" in _filter_or_exclude
  516.             clone.query.add_q(Q(*args, **kwargs))
File "/usr/lib/pymodules/python2.6/django/db/models/sql/query.py" in add_q
  1675.                             can_reuse=used_aliases)
File "/usr/lib/pymodules/python2.6/django/db/models/sql/query.py" in add_filter
  1569.                     negate=negate, process_extras=process_extras)
File "/usr/lib/pymodules/python2.6/django/db/models/sql/query.py" in setup_joins
  1737.                             "Choices are: %s" % (name, ", ".join(names)))

Exception Type: FieldError at /admin/search/company/2273/
Exception Value: Cannot resolve keyword 'company' into field.
&lt;/pre&gt;

&lt;p&gt;
Having made quite a number of changes before noticing this, it took some time to track down. It turned out that it started happening when I moved an import. Eventually, I found &lt;a href="http://code.djangoproject.com/ticket/1796"&gt;Django Ticket #1796&lt;/a&gt;. While that ticket is marked as "Fixed", it does not actually appear to be fixed in all cases. 
&lt;/p&gt;

&lt;p&gt;
The problem is deep in the Django stack, and involves class loading at the Python level as well. It's in a piece of the Django code that is only executed for ManyToMany relationships. Read the ticket if you're interested in the details.
&lt;/p&gt;

&lt;p&gt;
In my case, the ManyToMany relationship in question was a field on a Company model which referenced a Django User model:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class Company(models.Model): 

    ...

    connection_users = models.ManyToManyField(
        User,
        symmetrical=False,
        blank=True,
        null=True
        )
&lt;/pre&gt;

&lt;p&gt;
I also have a UserProfile model which extends the base User model:
&lt;/p&gt;


&lt;pre name="code" class="python"&gt;
class UserProfile(models.Model):              
    user = models.ForeignKey(User, unique=True)
    company = models.ForeignKey(Company)
    phone = PhoneNumberField()
&lt;/pre&gt;

&lt;p&gt;
Essentially, the django.contrib.auth.models.User model is necessarily loaded first, then my related UserProfile model is loaded before the Company model due to Python class loading behavior. When Company finally loads, the Django bug kicks in and it confuses the company field on UserProfile with a symmetric version of the ManyToMany relationship connection_users on Company.
&lt;/p&gt;

&lt;p&gt;
After much fiddling, the fix was to force the class loading order to load Company before UserProfile. A good spot to do this is at the top of the models module.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from company import Company, UserProfile
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4787291707864629123/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/04/django-manytomany-error-cannot-resolve.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4787291707864629123'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4787291707864629123'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/django-manytomany-error-cannot-resolve.html' title='Django ManyToMany error: &quot;Cannot resolve keyword XXX into a field&quot;'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8381675526240131</id><published>2010-04-23T15:09:00.003-04:00</published><updated>2010-04-23T15:29:43.246-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Slicehost: Six month review</title><content type='html'>&lt;p&gt;
Six months ago, I opened an account with &lt;a href="http://www.slicehost.com/"&gt;Slicehost&lt;/a&gt; for a work project. They provide a &lt;a href="http://en.wikipedia.org/wiki/Virtual_private_server"&gt;VPS&lt;/a&gt; service, which is essentially just a virtual machine in the cloud. In our case, we are hosting a website with a traditional &lt;a href="http://en.wikipedia.org/wiki/LAMP_%28software_bundle%29"&gt;LAMP&lt;/a&gt; stack (but where the P is Python).
&lt;/p&gt;

&lt;p&gt;
We decided on a $250/mo "slice", which gets you 4GB or RAM on any 64-bit Linux distro you want, as well as more bandwidth than you can shake a stick at. They offer some nice web-based tools to clone VMs, manage DNS and reboot servers. But that's about it. Everything else you configure yourself, including firewalls, databases, webservers, etc. 
&lt;/p&gt;

&lt;p&gt;
That's just fine with me. All I ever want from my ISP is to be &lt;a href="http://en.wikipedia.org/wiki/Dumb_pipe"&gt;dumb pipe&lt;/a&gt;. I don't want your custom software on my PC (wait, what do you mean you don't "support" Linux?). Please don't throttle my connection, etc. Likewise, all I want from a VPS is a dumb terminal.
&lt;/p&gt;

&lt;p&gt;
Reliability has been awesome. Speed is great. Bandwidth seems solid. So far, the only killer feature I've used is the &lt;a href="http://forum.slicehost.com/comments.php?DiscussionID=21"&gt;emergency console&lt;/a&gt;. Having been locked out of the machine by a bad firewall config change, we were able to recover access without Slicehost support using their awesome Ajax based root login.
&lt;/p&gt;

&lt;p&gt;
Any bad news? Nope, not so far. But be warned: slices are like potato chips. We started thinking we would only need one, but that "clone" button is just too damn easy! All it takes is one click to spin off another instance, already configured and ready to go. So far, we spun off a demo site AND a skunkworks box.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8381675526240131/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/04/slicehost-six-month-review.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8381675526240131'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8381675526240131'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/slicehost-six-month-review.html' title='Slicehost: Six month review'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2276071926905478436</id><published>2010-04-09T11:41:00.010-04:00</published><updated>2010-04-09T15:59:00.653-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='jquery'/><title type='text'>click on a link (follow) via jQuery/JavaScript</title><content type='html'>&lt;p&gt;
You might reasonably assume that it would be possible to fire a click event on an "A" element (link) via JavaScript, at which point the browser would fire any click event handlers currently attached, or otherwise just follow the link. But you would be wrong, at least in the case of Firefox.
&lt;/p&gt;

&lt;blockquote&gt;
The click method is intended to be used with INPUT elements of type button, checkbox, radio, reset or submit. Gecko does not implement the click method on other elements that might be expected to respond to mouseclicks such as links (A elements), nor will it necessarily fire the click event of other elements. 
  - &lt;a href="https://developer.mozilla.org/en/DOM/element.click"&gt;Mozila Documentation&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
Why is that? It seems that Firefox is &lt;a href="http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-2651361"&gt;following the standard&lt;/a&gt; quite strictly, whereas IE has no problems automating link clicks. There may also be a sandbox security argument here, but personally I don't buy that as long as we are allowing &lt;a href="http://trevordavis.net/blog/tutorial/ajax-forms-with-jquery/"&gt;JavaScript to fire FORM POSTS&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Regardless, a cross browser solution is needed. At first blush, just setting window.location directly seems to work.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
   window.location = $("a#my-link").attr("href");
&lt;/pre&gt;

&lt;p&gt;
This naive solution has serious drawbacks; IE will not post a &lt;a href="http://en.wikipedia.org/wiki/HTTP_referrer"&gt;HTTP Referrer&lt;/a&gt; header, and the back button may skip pages navigated to this way. However, it may be an acceptable solution depending on your application.
&lt;/p&gt;

&lt;p&gt;
If you have control over the HTML itself, a better solution is to just use FORMs instead. It's trivial to submit a form via jQuery. It's even possible to make the button look somewhat like a HTML link.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;

&amp;lt;!-- was &amp;lt;a href="/my-link-url"&amp;gt;Click me&amp;lt;/a&amp;gt; --&amp;gt;
&amp;lt;form id="my-form" action="/my-link-url" action="get"&amp;gt;
   &amp;lt;input class="button-link" type="submit" value="Click me" /&amp;gt;
&amp;lt;/form&amp;gt;

&amp;lt;script&amp;gt;
   // simulate a user clicking the "link"
   $(".button-link").click();

   // you could also just submit the form directly, depending on what's easier
   $("form#my-form").submit();
&amp;lt;/script&amp;gt;

&amp;lt;style&amp;gt;
   .button-link {
      background-color:white;
      border:0;
      color:blue;
      text-decoration:underline;
      font-size:1em;
      font-family:inherit;
      cursor:pointer;
   }
&amp;lt;/style&amp;gt;

&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2276071926905478436/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/04/click-on-link-follow-via.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2276071926905478436'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2276071926905478436'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/click-on-link-follow-via.html' title='click on a link (follow) via jQuery/JavaScript'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9186781643839438683</id><published>2010-04-02T11:03:00.004-04:00</published><updated>2010-11-05T12:37:01.340-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><title type='text'>Ubuntu keyboard shortcut cheatsheet</title><content type='html'>&lt;p&gt;
Everyone assumes that using keyboard shortcuts is more efficient than using the mouse. But by how much? One &lt;a href="http://www.ruf.rice.edu/~lane/papers/hidden_costs.pdf"&gt;2005 study&lt;/a&gt; found that keyboard shortcuts are approximately twice as fast.
&lt;/p&gt;

&lt;p&gt;
So why don't more people use them? It's apparently not an experience issue. &lt;a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.117.3187&amp;rep=rep1&amp;type=pdf"&gt;A separate study&lt;/a&gt; found that keyboard shortcut usage does not tend to increase over time, but rather correlates to social experiences. &lt;i&gt;People learn to use shortcuts from watching others.&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;
With that in mind, here is a cheat sheet of my personal most commonly used keyboard shortcuts. I'm not making any claims to exhaustiveness; in fact I intentionally left out commonly used but also commonly known shortcuts like "Alt + Tab".
&lt;/p&gt;

&lt;p&gt;
I'm also not claiming that these are generally applicable. I'm a developer, so I included Eclipse, etc. Others are Linux specific, which automatically rules out 99% of users. Others require customisation to enable.
&lt;/p&gt;

&lt;img src='
http://lh5.ggpht.com/_EE2zVzGv1Ds/S7YHpCJi_jI/AAAAAAAALLA/9Zu6PurSd_U/s800/Screenshot-Ubuntu-Gnome%20cheat%20sheet.pdf.png' /&gt;

&lt;p&gt;
Download the &lt;a href="http://dl.dropbox.com/u/422013/Ubuntu-Gnome%20cheat%20sheet.pdf"&gt;PDF&lt;/a&gt; or the original &lt;a href="http://dl.dropbox.com/u/422013/Ubuntu-Gnome%20cheat%20sheet.odt"&gt;OpenOffice document&lt;/a&gt;.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/9186781643839438683/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/04/ubuntu-keyboard-shortcut-cheatsheet.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/9186781643839438683'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/9186781643839438683'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/ubuntu-keyboard-shortcut-cheatsheet.html' title='Ubuntu keyboard shortcut cheatsheet'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8703895278005579439</id><published>2010-03-24T14:56:00.004-04:00</published><updated>2010-03-24T15:22:31.064-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><title type='text'>Java hack to deal with Windows file paths in Linux</title><content type='html'>&lt;p&gt;
Say you have a large legacy ColdFusion app on top of Java that runs on Windows. File access is done both via java.io.File and by CFFILE (which in turn also uses java.io.File), but not centralised in any way into a single file access library. Further, say you have file paths both hard-coded in the code, and also in a database.
&lt;/p&gt;

&lt;p&gt;
In other words, the file paths themselves cannot change. They could be either local or remote Windows file paths, such as "c:\temp\file.txt" or "\\server\share\file.txt ".
&lt;/p&gt;

&lt;p&gt;
How would you run this application on Linux without changing the code?
&lt;/p&gt;

&lt;p&gt;
First, I tried running the application in &lt;a href="http://www.winehq.org/"&gt;WINE&lt;/a&gt;. This worked surprisingly well. WINE actually has awesome &lt;a href="http://www.winehq.org/docs/winedev-guide/x3062"&gt;path conversion&lt;/a&gt;, including UNC support.
&lt;/p&gt;

&lt;p&gt;
Don't want to run WINE? I have another solution. It's actually possible to implement your own version of java.io.File, and have the classloader pick up your version when the JVM starts. The tricky part is that since your class needs to actually be named java.io.File, you can't just extend Sun's java.io.File. 
&lt;/p&gt;

&lt;p&gt;
However, you can download the code for java.io.File from the &lt;a href="http://java.sun.com/javase/downloads/index.jsp"&gt;JDK&lt;/a&gt;, and make modifications as needed.
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;

 // added to each constructor
 pathname = translate(pathname);

 ...

 private static Pattern regexDriveLetter = Pattern.compile("^[a-zA-Z]:");
 private static Pattern regexSlashes = Pattern.compile("\\\\");
 private static Pattern regexUnc = Pattern.compile("^//");
 
 public static String translate(String pathname) {
  
  if (pathname == null) {
      return null;
  }
  
  pathname = regexDriveLetter.matcher(pathname).replaceAll("");
  pathname = regexSlashes.matcher(pathname).replaceAll("/");
  pathname = regexUnc.matcher(pathname).replaceAll("/mnt/");
  return pathname;
 }

&lt;/pre&gt;

&lt;p&gt;
The regular expression rules convert "c:\temp\text.txt" to "/temp/text.txt", and "\\fileserver\userfiles\test.txt" to "/mnt/fileserver/userfiles/test.txt", but of course you can customize them to do anything you like.
&lt;/p&gt;

&lt;p&gt;
To load your java.io.File when the JVM starts, just compile it into a JAR, and add "-Xbootclasspath/p:javafilehack.jar" to your java command-line. &lt;a href="http://java.sun.com/j2se/1.3/docs/tooldocs/solaris/java.html"&gt;Xbootclasspath/p&lt;/a&gt; simply places your JAR at the head of the line when the classpath is processed.
&lt;/p&gt;

&lt;p&gt;
I'm not saying I recommend this approach. If you can modify the legacy code to support Linux file paths, that would be far better. If that's not an option, I would say that the WINE approach is more maintainable. With the Java hack, you would need to merge your changes separately into each version of the JVM you want to run, due to the serialVersionUID if nothing else.
&lt;/p&gt;

&lt;p&gt;
I'm working on a compromise solution using &lt;a href="http://en.wikipedia.org/wiki/Aspect-oriented_programming"&gt;AoP&lt;/a&gt;. I'll keep you posted.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8703895278005579439/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/03/java-hack-to-deal-with-windows-file.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8703895278005579439'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8703895278005579439'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/java-hack-to-deal-with-windows-file.html' title='Java hack to deal with Windows file paths in Linux'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3962763741434966893</id><published>2010-03-19T11:42:00.003-04:00</published><updated>2010-03-19T12:55:28.047-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='email'/><category scheme='http://www.blogger.com/atom/ns#' term='spam'/><category scheme='http://www.blogger.com/atom/ns#' term='postfix'/><title type='text'>How to not get caught in spam filters</title><content type='html'>&lt;p&gt;
Reliably sending email without getting caught in spam filters is a full-time job, for someone. Surely not for an end-user, but for every end-user email, there is an administrator somewhere who has to deal with daily occurrences of some user message not getting through because it got stuck in a spam filter on the other end.
&lt;/p&gt;

&lt;p&gt;
At the enterprise level, this could easily be several people's full-time jobs. Spam filtering is constantly evolving. This is partly due to new spam filtering initiatives that require administrators to configure something new, such as SPF or DKIM. A few years ago, SPF didn't exist. Now, anyone who sends lots of email virtually has to implement it. It's also partly due to other administrators; sometimes you just have to get on the phone with the recipient's admin to  figure out what's going wrong.
&lt;/p&gt;

&lt;p&gt;
This guide is not for those enterprise admins. It's for the hapless developers pressed into Postfix config duty for a small start-up, or for the first time admin just getting into outbound mail. What follows is a quick and dirty guide to making sure 99% of your email is delivered.
&lt;/p&gt;

&lt;h4&gt;
Make sure you're not on a DNS blacklist (aka RBL: Reverse Blacklist)
&lt;/h4&gt;

&lt;p&gt;
By far the most frequently used type of spam filter is the DNS blacklist. There are hundreds of free services out there that keep records of IP addresses they think send a lot of spam. Virtually every spam filtering product on the market comes pre-configured to look at a few of these every time they get a new connection. It's fast due to extremely low over-head (DNS scales, baby), and relatively accurate.
&lt;/p&gt;

&lt;p&gt;
You will need to know &lt;a href="http://www.whatismyip.com/"&gt;what IP you're sending from&lt;/a&gt;. You can check many blacklists at once via &lt;a href="http://www.dnsbl.info/dnsbl-database-check.php"&gt;various&lt;/a&gt; &lt;a href="http://www.mxtoolbox.com/SuperTool.aspx"&gt;different&lt;/a&gt; &lt;a href="http://www.anti-abuse.org/"&gt;sites&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
If you are on a blacklist, you might be wondering how to get off it, and how you got on in the first place. Unfortunately, there is no single answer. Each blacklist has its own criteria for who it lists, and has its own process for removal. Indeed, many lists don't allow removal at all. It's the wild-west out there. If you find yourself unable to be removed from a popular blacklist, you may have no choice but to buy another IP address. Just make sure it's clean first!
&lt;/p&gt;

&lt;p&gt;
Some people think blacklists are the devil. If you have ever found yourself at the mercy of a popular, but totally non-responsive blacklist, you might agree. But in general, the problem is that some administrators outright block email that matches a single blacklist. If you're an inbound admin, don't do that! You want to weigh many factors, and multiple blacklists, before you decide to reject a message. Regardless, they are a reality of the modern Internet you need to just deal with.
&lt;/p&gt;

&lt;h4&gt;
Make sure you're not an open relay
&lt;/h4&gt;

&lt;p&gt;
If you want to STAY off blacklists, you at the very least need to make sure you're not an &lt;a href="http://en.wikipedia.org/wiki/Open_mail_relay"&gt;open relay&lt;/a&gt;. Basically, you should not accept and definitely not send out any mail that's not destined for a domain you actually own. Testing can be done via telnet, or via a &lt;a href="http://www.abuse.net/relay.html"&gt;web-based tool&lt;/a&gt;. 
&lt;/p&gt;

&lt;h4&gt;
Reverse DNS (aka PTR records)
&lt;/h4&gt;

&lt;p&gt;
Another very common check is whether your IP address is named, or unnamed. The idea here is that dynamic IPs, such as those given to home users by their ISP, generally don't need to have names associated with them. A lot of spam these days comes from &lt;a href="http://en.wikipedia.org/wiki/Zombie_computer"&gt;zombied home machines&lt;/a&gt;. 
&lt;/p&gt;

&lt;p&gt;
This is a simple DNS fix. You just need to create an &lt;a href="http://en.wikipedia.org/wiki/Reverse_DNS_lookup"&gt;PTR record&lt;/a&gt; for that IP address. You can check if your PTR is setup correctly with the following command.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
dig -x MY_IP_ADDRESS
&lt;/pre&gt;

&lt;h4&gt;
MX Records, postmaster, root &amp; abuse
&lt;/h4&gt;

&lt;p&gt;
While the &lt;a href="http://www.faqs.org/rfcs/rfc2821.html"&gt;standards RFCs&lt;/a&gt; don't require you to receive mail just because you're sending mail, in reality many anti-spam systems are biased against message from a domain that does not also accept mail. You don't have to send and receive from the same server(s), but if you're sending mail from @example.com, it's a good idea to make sure some real human somewhere is getting any messages sent to postmaster@example.com, root@example.com and abuse@example.com.
&lt;/p&gt;

&lt;p&gt;
Postmaster IS strictly required by the RFC. Root is a legacy version of postmaster. Abuse is a relatively new "standard" that many administrators would try first to resolve a spam issue.
&lt;/p&gt;

&lt;p&gt;
Inbound email is a whole other subject. But the basic gist is that you need an &lt;a href="http://en.wikipedia.org/wiki/MX_record"&gt;MX record&lt;/a&gt; for example.com, and it needs to point to a server that can accept mail for example.com. If you don't have an existing inbound server, or don't want to run your own, many &lt;a href="http://www.google.com/apps/intl/en/business/index.html"&gt;hosted alternatives&lt;/a&gt; exists. 
&lt;/p&gt;

&lt;p&gt;
You should explicitly test postmaster, root &amp; abuse manually via your regular email client to make sure they actually work.
&lt;/p&gt;

&lt;h4&gt;
HELO, I'm your mail server
&lt;/h4&gt;

&lt;p&gt;
Mail servers communicate via a protocol called SMTP. It's actually a plain-text protocol, which you can easily &lt;a href="http://www.anta.net/misc/telnet-troubleshooting/smtp.shtml"&gt;emulate via telnet&lt;/a&gt;. The very first line of a SMTP handshake is the "HELO" command, where the sending server identifies itself. A typical example would be "HELO example.com", meaning, "Hi, I'm the mail server for example.com".
&lt;/p&gt;

&lt;p&gt;
Many spammers set this to a bogus value, or try to use the recipient's host name or IP address, which is nonsensical. In any case, the correct thing to do is for you to set it to your domain. 
&lt;/p&gt;

&lt;p&gt;
How you set this will vary by mailserver. In Postfix, it's the myhostname parameter in /etc/postfix/main.cf. Checking it is easy; just send a message through the server, and look at the headers on the remote end. Your hostname will show up on the first "Received" header line:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
Received: by example.com (Postfix, from userid 0)
 id A72979E4144; Thu, 18 Mar 2010 23:00:01 -0400 (EDT)
&lt;/pre&gt;

&lt;h4&gt;
SPF/DKIM
&lt;/h4&gt;

&lt;p&gt;
&lt;a href="http://en.wikipedia.org/wiki/Sender_Policy_Framework"&gt;SPF&lt;/a&gt; and &lt;a href="http://en.wikipedia.org/wiki/DomainKeys"&gt;DKIM&lt;/a&gt; are newer standards that are slowly gaining popularity. The basic idea is that your DNS records can encode a list of rules about what IP addresses are allowed to send mail for your domain. It's a whitelist, versus a blacklist. Typically, you can ignore these unless you're sending a large volume of mail.
&lt;/p&gt;


&lt;h4&gt;
Monitoring
&lt;/h4&gt;

&lt;p&gt;
That just about covers anti-anti-spam 101. As mentioned, this will likely be an ongoing effort, and you need to keep on top of how it's going. Ideally, there would be an administrator who would be alerted if emails are bouncing due to spam filters. For postfix, I would recommend &lt;a href="http://linux.die.net/man/1/pflogsumm"&gt;pflogsumm&lt;/a&gt;.  
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
apt-get install pflogsumm
&lt;/pre&gt;

&lt;pre name="code" class="bash"&gt;
sudo crontab -e
&lt;/pre&gt;

&lt;pre name="code" class="bash"&gt;
...
# every work-day at 11pm
00 23 * * mon-fri cat /var/log/mail.log |/usr/sbin/pflogsumm -d today |mail -s "daily mail log" postmaster@example.com
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3962763741434966893/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/03/how-to-not-get-caught-in-spam-filters.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3962763741434966893'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3962763741434966893'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/how-to-not-get-caught-in-spam-filters.html' title='How to not get caught in spam filters'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1756163392948680222</id><published>2010-03-04T11:50:00.005-05:00</published><updated>2010-03-05T15:25:32.790-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Apache fix for IE "webpage has expired" on back button</title><content type='html'>&lt;p&gt;
When you refresh a webpage that was the result of a HTTP POST, your browser asks you if you want to reload.
&lt;/p&gt;

&lt;p&gt;
   &lt;img src="http://lh3.ggpht.com/_EE2zVzGv1Ds/S5FfHNuReqI/AAAAAAAALKM/WVIh1IyW6vk/s800/Screenshot-Confirm.png" /&gt;
&lt;/p&gt;

&lt;p&gt;
The reason for this dialog is to stop the user from inadvertently submitting the same blog post/email message/payment details multiple times. That behaviour is standardised across all browsers. What's not standardised is what happens when you use the "Back" button to navigate to a previous POST page. In most browsers, you get the page from your cache. In IE, you get the dreaded "webpage has expired":
&lt;/p&gt;

&lt;p&gt;
   &lt;img src="http://lh5.ggpht.com/_EE2zVzGv1Ds/S5FgR6HI5uI/AAAAAAAALKU/got-17Gpagg/s800/expired_page.png" /&gt;
&lt;/p&gt;

&lt;p&gt;
The intention here is good. This is a fool proof mechanism for keeping the user from submitting that page again. But what if your site can actually handle that? Why break the back button this way? A good counter example is a search engine. The search string may be sent via HTTP POST, but you would still like the user to be able to hit "back", change the search string, and hit submit again. In IE, you need a work-around for this.
&lt;/p&gt;

&lt;p&gt;
The most common work-around is to &lt;a href="http://stackoverflow.com/questions/1580085/show-webpage-has-expired-on-back-button#answer-1580126"&gt;redirect the POST to a GET&lt;/a&gt; on the server side, aka the &lt;a href="http://www.theserverside.com/tt/articles/article.tss?l=RedirectAfterPost"&gt;PRG Pattern&lt;/a&gt;. This adds some back-end code, but generally solves the problem. However, it can get complicated if you are doing server-side validation, as you generally want to show the form again with validation exceptions in that case. So then you have to persist the temporary state of the FORM in either the session state or the database... messy.
&lt;/p&gt;

&lt;p&gt;
Another solution is to use GETs in the first place. This is ok for some things, like Google searches, but does not work if you need to &lt;a href="http://classicasp.aspfaq.com/forms/what-is-the-limit-on-querystring/get/url-parameters.html"&gt;pass a lot of form data&lt;/a&gt; between pages. Also, it ignores the principle of &lt;a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.1.2"&gt;idempotence&lt;/a&gt;, which for HTTP means that you should not use GETs for state-changes.
&lt;/p&gt;

&lt;p&gt;
The work-around I have been using recently is to not send a &lt;a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.44"&gt;Vary header&lt;/a&gt; for IE only.
&lt;/p&gt;

&lt;blockquote&gt;The Vary field value indicates the set of request-header fields that fully determines, while the response is fresh, whether a cache is permitted to use the response to reply to a subsequent request without revalidation.&lt;/blockquote&gt;

&lt;p&gt;
In Apache, this is a simple configuration change in httpd.conf:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
BrowserMatch MSIE force-no-vary
&lt;/pre&gt;

&lt;p&gt;
The practical effect is that when you go "back" to a POST, IE simply gets the page from the history cache. No request at all goes to the server side. I would be interested in hearing about potential down-sides of this solution, other than the fact that the user can submit the form twice. In my case, this is handled already by the &lt;a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery"&gt;CSRF&lt;/a&gt; token.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1756163392948680222/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html#comment-form' title='7 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html' title='Apache fix for IE &quot;webpage has expired&quot; on back button'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_EE2zVzGv1Ds/S5FfHNuReqI/AAAAAAAALKM/WVIh1IyW6vk/s72-c/Screenshot-Confirm.png' height='72' width='72'/><thr:total>7</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2688821394401024336</id><published>2010-02-26T10:59:00.005-05:00</published><updated>2010-02-26T12:48:14.022-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>useful decorators for Django views</title><content type='html'>&lt;p&gt;
Python implements a light version of &lt;a href="http://en.wikipedia.org/wiki/Aspect-oriented_programming"&gt;aspect oriented&lt;/a&gt; programming via
&lt;a href="http://www.artima.com/weblogs/viewpost.jsp?thread=240808"&gt;decorators&lt;/a&gt;. I find myself using them often, specifically for Django views. Here are a few of my favourites.
&lt;/p&gt;

&lt;p&gt;
This first one enforces that requests coming into the view are coming from localhost. This can be useful if you are creating REST APIs that are for internal use only. Of course, you should also hide these views via Apache for added security. 
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
"""When added to a view, requires that the request came from localhost.
Used as an added security measure to make sure that remote users cannot
call REST APIs designed to be called from the Java back-end. """

def localhost(f):
    """Requires that a view be invoked from localhost only."""
    
    def new_f(*args, **kwargs):
        request = args[0]
        if request.META["REMOTE_ADDR"] != "127.0.0.1":
            raise Exception("This URL is only invokable by localhost.")  
        return f(*args, **kwargs)                
    return new_f
&lt;/pre&gt;

&lt;p&gt;
This next one sends the view back to the referrer. This can be useful to prevent the using from refreshing a page with a FORM POST.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
"""
A view decorator that sends the user back to the last page after the view
logic executes. Useful for actions that don't change the page the user is 
looking at. One example is clicking on a link to mark a message as read.
The messages view is refreshed, with that item marked as read.
"""

from django.http import HttpResponseRedirect

def back_to_referrer(f):
    
    def new_f(*args, **kwargs):        
        f(*args, **kwargs)
        request = args[0]
        return HttpResponseRedirect(request.META["HTTP_REFERER"])
            
    return new_f
&lt;/pre&gt;

&lt;p&gt;
The last one wraps a view in a try/catch that will redirect the user to a custom error page if the exception is a sub-class of a "UserException". I use this custom exception type to denote any error that the user themselves can resolve.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def usererror(f):
    
    def new_f(*args, **kwargs):
        
        try:
            return f(*args, **kwargs)
        except (
            UserException
            ), (error):
    
            return render_to_response("usererror.html", {
                "message": str(error)
                })  
            
    return new_f

class UserException(Exception):
    """Python does not support interfaces, but that's what this is."""     
    state = None
    
class NoEmailAddressError(UserException):        
    def __str__(self):
        return "You don't have an email address filled out on your profile." 

&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2688821394401024336/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/02/useful-decorators-for-django-views.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2688821394401024336'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2688821394401024336'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/useful-decorators-for-django-views.html' title='useful decorators for Django views'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3929878854696214937</id><published>2010-02-10T14:10:00.005-05:00</published><updated>2010-02-12T11:16:32.128-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>duplicate values with jQuery.cookies (set the path!)</title><content type='html'>&lt;blockquote&gt;A program should follow the "Law of Least Astonishment". What is this law? It is simply that the program should always respond to the user in the way that astonishes him least. - Geoffrey James, &lt;a href="http://www.canonical.org/~kragen/tao-of-programming.html#book4"&gt;The Tao of Programming&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;
I recently ran into an astonishing behaviour in an API I was using, namely the official &lt;a href="http://plugins.jquery.com/project/cookie"&gt;jQuery cookie plug-in&lt;/a&gt;. But first, a little background on cookies.
&lt;/p&gt;

&lt;p&gt;
Now, I've been writing web-apps that use cookies for about 15 years. But I had no idea that cookies could be associated with specific paths. &lt;a href="http://www.quirksmode.org/js/cookies.html"&gt;Quirksmode&lt;/a&gt; (as usual) gives the low-down:
&lt;/p&gt;

&lt;blockquote&gt;The path gives you the chance to specify a directory where the cookie is active. So if you want the cookie to be only sent to pages in the directory cgi-bin, set the path to /cgi-bin. Usually the path is set to /, which means the cookie is valid throughout the entire domain.&lt;/blockquote&gt;

&lt;p&gt;
The fact that it defaults to "/" is why I would venture to guess that relatively few developers are aware of this option. After all, in 99% of the cases, cookies are used to persist a session, which you want to be valid at the domain or sub-domain level, but invariant bellow that. 
&lt;/p&gt;

&lt;p&gt;
The jQuery cookie plug-in, however, inexplicably defaults the path to the actual path of the URL you're at. This forces you to set default the path to "/" &lt;span style="font-style:italic;"&gt;manually&lt;/span&gt;, a fact that the top-level "documentation", which only exists in the form of &lt;a href="http://plugins.jquery.com/files/jquery.cookie.js.txt"&gt;comments in the code&lt;/a&gt;, exacerbates by showing the initial example without the path:
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Set the value of a cookie
&lt;/pre&gt;

&lt;p&gt;
Of course, you would probably spend 20 minutes or so tearing you're hair out about why cookies were not persisting properly. Finally, you would use Firebug to inspect the actual request/response pairs, and realise that there are multiple values of "the_cookie" being passed for each request. In fact, what virtually everyone using this API will want to do is the following:
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
 $.cookie('the_cookie', 'the_value', { path: "/" });
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3929878854696214937/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html#comment-form' title='7 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html' title='duplicate values with jQuery.cookies (set the path!)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>7</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4931987201640798656</id><published>2010-02-05T13:48:00.000-05:00</published><updated>2010-02-12T10:17:54.266-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Too cute: Django schema migration tools</title><content type='html'>&lt;p&gt;
Like Ruby on Rails, Django uses a model API to abstract the database layer. A command-line script creates schema for new object definitions. Unlike Ruby on Rails, Django did not ship with a way to modify existing schema as your models change.
&lt;/p&gt;

&lt;p&gt;
Many projects have sprung up trying to fill this void. After watching a &lt;a href="http://www.youtube.com/watch?gl=AU&amp;hl=en-GB&amp;v=VSq8m00p1FM"&gt;video&lt;/a&gt; on a presentation by some of the early contenders, I choose &lt;a href="http://code.google.com/p/django-evolution/"&gt;django-evolution&lt;/a&gt; for my current project, mainly because the presenter was also a Django core developer, and came off as more of a &lt;a href="http://blogs.microsoft.co.il/blogs/tamir/archive/2008/04/28/computer-languages-and-facial-hair-take-two.aspx"&gt;beard developer&lt;/a&gt; than the others.
&lt;/p&gt;

&lt;p&gt;
Getting started was very easy. For the most part, migrations were smooth. But occasionally, I would hit a bug in the evolution framework. Sometimes it would be an unsupported operation, like changing a column from and int to a float. Sometimes it would be a bug related to my particular database (MySQL). Sometimes I had no idea what was wrong. You would just get a stack-trace, and have to track it down from there.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
var/lib/python-support/python2.6/MySQLdb/__init__.py:34: DeprecationWarning: the sets module is deprecated
  from sets import ImmutableSet
Traceback (most recent call last):
  File "./manage.py", line 11, in &amp;lt;module&amp;gt;
    execute_manager(settings)
  File "/var/lib/python-support/python2.6/django/core/management/__init__.py", line 340, in execute_manager
    utility.execute()
  File "/var/lib/python-support/python2.6/django/core/management/__init__.py", line 295, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/var/lib/python-support/python2.6/django/core/management/base.py", line 192, in run_from_argv
    self.execute(*args, **options.__dict__)
  File "/var/lib/python-support/python2.6/django/core/management/base.py", line 219, in execute
    output = self.handle(*args, **options)
  File "/usr/local/lib/python2.6/dist-packages/django_evolution/management/commands/evolve.py", line 87, in handle
    hinted_evolution = diff.evolution()
  File "/usr/local/lib/python2.6/dist-packages/django_evolution/diff.py", line 197, in evolution
    changed_attrs[prop] = current_field_sig.get(prop, ATTRIBUTE_DEFAULTS[prop])
KeyError: 'field_type'
&lt;/pre&gt;

&lt;p&gt;
After spending a couple hours tracking down an similar issue that was actually blocking a QA deploy, I noticed that the django-evolution mainline had only had &lt;a href="http://code.google.com/feeds/p/django-evolution/svnchanges/basic"&gt;two check-ins&lt;/a&gt; in the entire year of 2009. That was when I realised that I picked a winner without looking at which project was actually being actively supported.
&lt;/p&gt;

&lt;p&gt;
I briefly looked at both &lt;a href="http://south.aeracode.org/"&gt;South&lt;/a&gt; and &lt;a href="http://code.google.com/p/dmigrations/"&gt;dmigrations&lt;/a&gt;. But then I thought about the solution we use on non-Django code-bases; manual scripts. Sure, they are a little more work and they were somewhat inelegant. But they can do absolutely any data migration, and I don't remember one ever blocking a QA deploy for more than a few minutes.
&lt;/p&gt;

&lt;p&gt;
That's the core of my issue with these solutions. They are trying to be "cute", and provide a gee-wiz solution to a problem that is more of an annoyance than anything. But the most critical part of a database migration scheme is reliability. If there is even a small chance that it screws up a deploy or (god forbid) actually messes up data, then it's just not worth the time savings.
&lt;/p&gt;

&lt;p&gt;
Since moving back to sequential, numbered SQL files, we had no problems deploying schema changes. Of course, we are missing out on true database independence, but I figure we can always use syncdb to generate the entire schema from scratch if we ever do change databases.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4931987201640798656/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/01/too-cute-django-schema-migration-tools.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4931987201640798656'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4931987201640798656'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/too-cute-django-schema-migration-tools.html' title='Too cute: Django schema migration tools'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4928616871648353365</id><published>2010-01-26T14:04:00.003-05:00</published><updated>2010-01-29T14:30:00.005-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>scripting multiple gnome terminal tabs</title><content type='html'>&lt;p&gt;
Sometimes it feels like I'm looking at logs all day. Certainly there are times when this is more true than others. If you find yourself in one of those times, you might benefit from being able to call all your typical log files up at once.
&lt;/p&gt;

&lt;p&gt;
On my system, I do this by opening a gnome terminal, and having one tab for each file doing a tail command. Here is a BASH script that launches such a terminal window, opens and even names the tabs for you with convenient titles.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
#!/bin/bash

# space-delimited list of colon-delimited tab name, log file pairs
LOGS="jboss:~/jboss/server/bullhorn/log/server.log solr:/var/log/solr.log"

args=""
for log in $LOGS
do
 tab_name=${log%:*}
 log_file=${log#*:}
 args=" $args --tab -e \"bash -c \\\"printf '\033]2;%s\007' '$tab_name'; tail -f $log_file\\\"\""
done

eval "gnome-terminal --hide-menubar --maximize $args"
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4928616871648353365/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/01/scripting-multiple-gnome-terminal-tabs.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4928616871648353365'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4928616871648353365'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/scripting-multiple-gnome-terminal-tabs.html' title='scripting multiple gnome terminal tabs'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2596072972017889563</id><published>2010-01-15T13:52:00.011-05:00</published><updated>2010-01-22T16:02:30.881-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MySQL'/><title type='text'>MySQL drop column if exists</title><content type='html'>&lt;blockquote&gt;
Idempotence describes the property of operations in mathematics and computer science that means that multiple applications of the operation do not change the result.
   - &lt;a href="http://en.wikipedia.org/wiki/Idempotence"&gt;Wikipedia&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
When updating a database schema, it's very useful to make your SQL scripts idempotent. I.e. you should be able to run the script more than once, no run should error out, and the end result should be the same as when you ran it the first time.
&lt;/p&gt;

&lt;p&gt;
On the face of it, this seems absurd. Why might you want to code idempotent schema updates? Say your initial version of the schema update got it slightly wrong. You actually want a column to be varchar(255), not a varchar(50). You could add yet another schema update to fix this, or if your script was idempotent, you could simply modify the original script and run it again.
&lt;/p&gt;

&lt;p&gt;
The most common operation you will want to do is to drop a table or column, &lt;span style="font-style:italic;"&gt;but only if it exists&lt;/span&gt;. MySQL has a built-in modifier for this.
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
DROP TABLE IF EXISTS candidate;
CREATE TABLE candidate...
&lt;/pre&gt;

&lt;p&gt;
For some reason, the same facility does not exist in MySQL for dropping a column if it exists. But you can fake it, at least in MySQL 5 or later, by querying the database meta-data do see if the column exists, and drop it if it does. However, because you need an IF statement, it will need to be a stored procedure.
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
drop procedure if exists schema_change;

delimiter ';;'
create procedure schema_change() begin

 /* delete columns if they exist */
 if exists (select * from information_schema.columns where table_name = 'table1' and column_name = 'column1') then
  alter table table1 drop column `column1`;
 end if;
 if exists (select * from information_schema.columns where table_name = 'table1' and column_name = 'column2') then
  alter table table1 drop column `column2`;
 end if;
 
 /* add columns */
 alter table table1 add column `column1` varchar(255) NULL;
 alter table table1 add column `column2` varchar(255) NULL;
  
end;;

delimiter ';'
call schema_change();

drop procedure if exists schema_change;
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2596072972017889563/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/01/mysql-drop-column-if-exists.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2596072972017889563'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2596072972017889563'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/mysql-drop-column-if-exists.html' title='MySQL drop column if exists'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1588839622246397352</id><published>2010-01-12T13:33:00.004-05:00</published><updated>2010-01-22T16:09:36.395-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Django forms date field format</title><content type='html'>&lt;p&gt;
Django defaults dates in forms to the format "2010-01-15". But changing the default format is fairly straight-forward, though there appears to be some &lt;a href="http://code.djangoproject.com/ticket/3672"&gt;confusion&lt;/a&gt; about how.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
class MyForm(Form):
    
    # the default format is %Y-%m-%d
    date_available = forms.DateField(
        widget=forms.widgets.DateInput(format="%m/%d/%Y"))
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1588839622246397352/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html#comment-form' title='4 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1588839622246397352'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1588839622246397352'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html' title='Django forms date field format'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>4</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8999054281135272066</id><published>2009-12-29T09:37:00.003-05:00</published><updated>2009-12-31T09:56:17.563-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Finding open VNC hosts with nmap</title><content type='html'>&lt;p&gt;
Say you have a machine using DHCP that you only boot up once in a while. It's headless, so you need to remote into it. How can you find out what IP it has? Here is quick command to scan for open VNC ports on the 172.27.1.* sub-net.
&lt;/p&gt;

&lt;pre&gt;
nmap -p 5900 172.27.1.0/24 --open |grep Interesting
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8999054281135272066/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/12/finding-open-vnc-hosts-with-nmap.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8999054281135272066'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8999054281135272066'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/12/finding-open-vnc-hosts-with-nmap.html' title='Finding open VNC hosts with nmap'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3093466727061418494</id><published>2009-12-15T14:08:00.005-05:00</published><updated>2010-01-22T15:37:47.635-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='email'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Python smtplib long header folding using tabs instead of spaces</title><content type='html'>&lt;p&gt;
Unless you have done a lot of work with generating and parsing emails, you are probably not intimately familiar with the details of the &lt;a href="http://tools.ietf.org/html/rfc2822"&gt;MIME format&lt;/a&gt;. Here is an example of a MIME encoded email:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
From: user1@example.com
To: user2@example.com
Subject: Christmas party!
Mime-Version: 1.0
Content-Type: multipart/mixed; 
 boundary="----=_Part_20502_1870283373.1261059406023"
Date: 17 Dec 2009 09:16:46 -0500

------=_Part_20502_1870283373.1261059406023
Content-Type: multipart/alternative; 
 boundary="----=_Part_20503_1134508872.1261059406023"
...
&lt;/pre&gt;

&lt;p&gt;
Typically, all lines in MIME wrap at 80 characters. For headers, the standard is to break before the last whitespace under the character limit. This is defined in &lt;a href="http://tools.ietf.org/html/rfc2822#section-2.2.3"&gt;RFC 2822, section 2.2.3&lt;/a&gt;. So, if you have a long subject, it might look like:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
...
Subject: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec quis 
 est dolor, a faucibus nisi. Curabitur et ipsum ut arcu commodo feugiat. 
...
&lt;/pre&gt;

&lt;p&gt;
I ran into &lt;a href="http://bugs.python.org/issue1974"&gt;bug 1974&lt;/a&gt; in Python where the standard smptlib example was throwing an error on long subject lines.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
    from email.MIMEText import MIMEText
    
    msg = MIMEText(body, "html")
    msg["From"] = "user1@example.com"
    msg["To"] = "user2@example.com"             
    msg["subject"] = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec quis est dolor, a faucibus nisi. Curabitur et ipsum ut arcu commodo feugiat."

    ...
&lt;/pre&gt;

&lt;p&gt;
When looking at the resulting email is some clients (Outlook, Thunderbird), the subject like was concatenating the words "quis" and "est" into "quisest", instead of "quis est". It turns out that smtplib is inserting a tab character in between them, which some clients ignore.
&lt;/p&gt;

&lt;p&gt;
The solution was simple enough. Just set header fields as Header objects, instead of strings:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
    from email.MIMEText import MIMEText
    from email.Header import Header
    import smtplib

    msg = MIMEText(body, "html")
    msg["From"] = "powerfill@powerfill.com"
    msg["To"] = to_addr
    msg["subject"] = Header(subject)    

    smtp = smtplib.SMTP(settings.EMAIL_HOST, settings.EMAIL_PORT)        
    smtp.sendmail(msg["From"], [msg["To"]], msg.as_string())
    smtp.quit()
&lt;/pre&gt;

&lt;p&gt;
&lt;i&gt;Edit: Don't wrap the from/to addresses in Header object. I ran into a "TypeError: unhashable instance" deploying this code to Python 2.6.&lt;/i&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3093466727061418494/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/12/python-smtplib-long-header-folding.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3093466727061418494'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3093466727061418494'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/12/python-smtplib-long-header-folding.html' title='Python smtplib long header folding using tabs instead of spaces'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4859248537625925726</id><published>2009-12-08T20:26:00.005-05:00</published><updated>2009-12-11T16:02:47.198-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Protocol Relative URLs</title><content type='html'>&lt;p&gt;
   If you follow &lt;a href="http://developer.yahoo.com/performance/rules.html"&gt;YSlow rules&lt;/a&gt;, then you are likely separating HTTP requests for static resources (images, CSS, javascript) onto a second domain. Maybe you even have a &lt;a href="http://bitkickers.blogspot.com/2009/11/changing-image-links-in-css-to-use.html"&gt;nice script&lt;/a&gt; to translate your includes when you deploy to production. Then one day, you enable your site for SSL.
&lt;/p&gt;

&lt;p&gt;
Most likely, your static domain resources are being referenced as absolute, global, non-SSL URLs. Ie, &lt;a href="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"&gt;http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&lt;/a&gt;. In most browsers, there is no problem with mixing an HTTPS page with HTTP includes. But with IE, Microsoft has made the dubious decision to warn users that "this page contains both secure and nonsecure items".
&lt;/p&gt;

&lt;img src="http://lh6.ggpht.com/_EE2zVzGv1Ds/SyKwDwHoI7I/AAAAAAAAJas/mWz-4mY8gKE/s800/nonsecure-items.gif" /&gt;

&lt;p&gt;
Personally, I don't think this makes much sense. Whether my static resources are being served by SSL or not does not effect the security of the page, and it definitely slows it down.
&lt;/p&gt;

&lt;p&gt;
The most obvious solution to include these resources with HTTPS when appropriate is to change the includes to relative (or domain relative) URLs. Ie, /ajax/libs/jquery/1/jquery.min.js. But then YSlow rightly complains that this is not optimized; you're sending cookies for each static include, and the browser can't load the includes in parallel with your main page.
&lt;/p&gt;

&lt;p&gt;
Another solution is to change the includes dynamically based on whether the main page is HTTPS or not. Fine for HTML, but what about the CSS file? That's usually static. You could dynamically generate it on the fly (performance problem), or generate two versions on deploy and include the HTTP or HTTPS one as appropriate. Neither option is appealing.
&lt;/p&gt;

&lt;p&gt;
Now, I have been writing HTML for about 15 years. But until I did a little research for this issue, I had never heard of &lt;a href="http://nedbatchelder.com/blog/200710/httphttps_transitions_and_relative_urls.html"&gt;protocol relative URLs&lt;/a&gt;. It turns out that the browser can load a resource from a URL pointing to another domain, and decide to use either HTTP or HTTPS on the fly depending on the current page. Fantastic!
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
.body {
    background-image: url("//static.powerfill.com/images/woot.gif");
}
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4859248537625925726/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/12/protocol-relative-urls.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4859248537625925726'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4859248537625925726'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/12/protocol-relative-urls.html' title='Protocol Relative URLs'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_EE2zVzGv1Ds/SyKwDwHoI7I/AAAAAAAAJas/mWz-4mY8gKE/s72-c/nonsecure-items.gif' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8974172900740935316</id><published>2009-12-04T15:56:00.005-05:00</published><updated>2010-01-22T16:09:41.160-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><title type='text'>Allowing periods (and other characters) in Django's user model</title><content type='html'>&lt;p&gt;
By default, Django's authentication middleware only allows user names with 30 characters or fewer, containing only letters, digits and underscores. What if you want to allow other user names? It's actually a very small change to admin.py:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
username_regex_field = forms.RegexField (
        label = "Username", 
        max_length = 30,
        regex = r"^[\w'\.\-@]+$",
        help_text = "Required. 30 characters or fewer. Letters, apostrophes, periods, hyphens and at signs.",
        error_message = "This value must contain only letters, apostrophes, periods, hyphens and at signs."
        )

class UserCreationForm(UserCreationForm):
    username = username_regex_field
    
class UserChangeForm(UserChangeForm):
    username = username_regex_field
    
class UserProfileAdmin(UserAdmin):
    form = UserChangeForm
    add_form = UserCreationForm
&lt;/pre&gt;

&lt;p&gt;
All I'm doing here is defining a new &lt;a href="http://docs.djangoproject.com/en/dev/ref/forms/fields/#regexfield"&gt;RegexField&lt;/a&gt;, and then over-writing the default create and change user forms for Django auth.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8974172900740935316/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/12/allowing-periods-and-other-characters.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8974172900740935316'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8974172900740935316'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/12/allowing-periods-and-other-characters.html' title='Allowing periods (and other characters) in Django&apos;s user model'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4141879128909009117</id><published>2009-11-25T12:35:00.008-05:00</published><updated>2011-06-07T09:04:29.028-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><title type='text'>Letting ssh remember your passwords</title><content type='html'>&lt;p&gt;
If you're like me, you ssh into the same small set of machines over and over. Maybe sometimes you run commands that sit on top of ssh, like scp for file copies. Wouldn't it be nice if you could have ssh remember your passwords? This is especially useful for automation.
&lt;/p&gt;

&lt;p&gt;
It seems like this has been built into ssh forever, but I just discovered it. So, excuse me if this is child's play for the grey beards out there.
&lt;/p&gt;

&lt;p&gt;
Create your public/private key pair. Hit enter at any prompts; you don't need a password.
&lt;/p&gt;

      &lt;pre name="code" class="bash"&gt;
          ssh-keygen -t rsa
      &lt;/pre&gt;
&lt;p&gt;
      You now have a local key in /home/$user/.ssh/id_rsa.pub
&lt;/p&gt;

&lt;p&gt;
      Copy your key to the remote machine (server1), and append it to /home/$user/.ssh/authorized_keys
&lt;/p&gt;

      &lt;pre name="code" class="bash"&gt;
          ssh $user@server1 mkdir -p ~/.ssh
          cat ~/.ssh/id_rsa.pub | ssh $user@server1 'cat &gt;&gt; ~/.ssh/authorized_keys'
      &lt;/pre&gt;

&lt;p&gt;
That's it! You should now be able to ssh and scp to the remote machine without supplying a password. 
&lt;/p&gt;

&lt;p&gt;
&lt;i&gt;
   Security note: It's important to note that ssh is &lt;span style="font-weight:bold;"&gt;not&lt;/span&gt; remembering a password, it's using a pre-exchanged public/private key. Regardless, you want to think twice about doing this in a production environment, where access to one terminal would result in accesses to many other terminals.
&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;i&gt;
Edit: Most distributions will have a ssh-copy-id command, which makes the "cat" above obsolete. 
&lt;/i&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4141879128909009117/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/11/letting-ssh-remember-your-passwords.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4141879128909009117'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4141879128909009117'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/11/letting-ssh-remember-your-passwords.html' title='Letting ssh remember your passwords'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3865943760688843386</id><published>2009-11-20T11:05:00.006-05:00</published><updated>2009-11-20T11:21:45.073-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Changing image links in CSS to use a static domain with Django compress</title><content type='html'>&lt;p&gt;
&lt;a href="http://code.google.com/p/django-compress/"&gt;Django compress&lt;/a&gt; is a great little utility for hitting some of the &lt;a href="http://developer.yahoo.com/performance/rules.html"&gt;YSlow&lt;/a&gt; website performance high notes. It can combine and minify css/js files on the fly, when settings.DEBUG is set to False. This allows you to keep the files separate in development for debugging.&lt;/p&gt;

&lt;p&gt;
I also wanted to use django compress to serve js, css and image resources from a static domain as per YSlow's &lt;a href="http://developer.yahoo.com/performance/rules.html#cookie_free"&gt;Cookie-Free&lt;/a&gt; and &lt;a href="http://developer.yahoo.com/performance/rules.html#split"&gt;Domain Split&lt;/a&gt; rules.
&lt;/p&gt;

&lt;blockquote&gt;
 When the browser makes a request for a static image and sends cookies together with the request, the server doesn't have any use for those cookies. So they only create network traffic for no good reason. You should make sure static components are requested with cookie-free requests. Create a subdomain and host all your static components there.&lt;br/&gt;
&lt;br/&gt;
If your domain is www.example.org, you can host your static components on static.example.org. However, if you've already set cookies on the top-level domain example.org as opposed to www.example.org, then all the requests to static.example.org will include those cookies. In this case, you can buy a whole new domain, host your static components there, and keep this domain cookie-free. Yahoo! uses yimg.com, YouTube uses ytimg.com, Amazon uses images-amazon.com and so on.&lt;br/&gt;
&lt;br/&gt;
Another benefit of hosting static components on a cookie-free domain is that some proxies might refuse to cache the components that are requested with cookies. On a related note, if you wonder if you should use example.org or www.example.org for your home page, consider the cookie impact. Omitting www leaves you no choice but to write cookies to *.example.org, so for performance reasons it's best to use the www subdomain and write the cookies to that subdomain. 
&lt;/blockquote&gt;

&lt;blockquote&gt;
Splitting components allows you to maximize parallel downloads. Make sure you're using not more than 2-4 domains because of the DNS lookup penalty. For example, you can host your HTML and dynamic content on www.example.org  and split static components between static1.example.org and static2.example.org
&lt;/blockquote&gt;

&lt;p&gt;
Django compress can do this for css and js resources using MEDIA_URL. But out of the box, it doesn't help with image links &lt;span style="font-weight:bold;"&gt;inside&lt;/span&gt; a css file. But it's easily extensible. Here is a quick filter to replace image links (or anything, really), in your css. Again, this would only fire in production.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
"""Django compress filter to replace image src URLs in a CSS file with a static 
domain. See: http://developer.yahoo.com/performance/rules.html#cookie_free 

Example configuration in settings:

COMPRESS_CSS_FILTERS = ('compress.filters.csstidy.CSSTidyFilter', 
    'search.helpers.static_domain_css.StaticDomainCSSFilter')
    
COMPRESS_STATICDOMAIN_SETTINGS = [
    ("/static/images/", "http://static.powerfill.com/static/images/"),
    ("../images/", "http://static.powerfill.com/static/images/"),
    ] 

"""
from django.conf import settings
from compress.filter_base import FilterBase

COMPRESS_STATICDOMAIN_SETTINGS = getattr(
    settings, 'COMPRESS_STATICDOMAIN_SETTINGS', {})

class StaticDomainCSSFilter(FilterBase):
    def filter_css(self, css):
        for old, new in COMPRESS_STATICDOMAIN_SETTINGS:      
            css = css.replace(old, new)
        return css
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3865943760688843386/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/11/changing-image-links-in-css-to-use.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3865943760688843386'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3865943760688843386'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/11/changing-image-links-in-css-to-use.html' title='Changing image links in CSS to use a static domain with Django compress'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1101408330788699177</id><published>2009-11-06T15:50:00.005-05:00</published><updated>2009-11-06T16:06:15.927-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>YSlow 80/20</title><content type='html'>&lt;p&gt;
I spent some time this week optimising a new site, specifically looking at some of the &lt;a href="http://developer.yahoo.com/yslow/"&gt;YSlow&lt;/a&gt; recommendations.
&lt;/p&gt;

&lt;p&gt;
For a smaller, low traffic site, some of the recommendations are over-kill. I'm not paying for a CDN. But I did find some of the tidbits valuable, specifically around what Apache does not do by default.
&lt;/p&gt;

&lt;p&gt;
First of all, Apache2 out of the box has gzip enabled, but CSS and Javascript files are not in the list the zippable MIME types. Adding them is easy. Just edit /etc/apache2/mods-available/deflate.conf:
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;IfModule mod_deflate.c&amp;gt;
      AddOutputFilterByType DEFLATE text/html text/plain text/xml application/x-javascript text/javascript text/css application/javascript
&amp;lt;/IfModule&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
The larger win was the Expires HTTP header, which lets the browser know that it shouldn't even attempt to see if a CSS, Javascript or image has been updated until such and such a date. By default, Apache2 deploys with Expires disabled.
&lt;/p&gt;

&lt;p&gt;
Yahoo! recommends setting this to a "far future" value, like 10 years from now, and then managing this by changing the URLs for CSS, Javascript or images every time they actually change on the server. Implementing that is a PITA because you need a tool that can auto-rewrite the image URLs in the CSS, and the script URLs in your HTML.
&lt;/p&gt;

&lt;p&gt;
This may make sense for a large site, where you are concerned with minimising bandwidth. But on a smaller site like mine, I'm more concerned with minimising the number of HTTP connections when the user is rapidlly clicking between pages. I don't care if they have to hit the server again per resource every once in a while, just as long as in the average case they are only loading one HTML page per request.
&lt;/p&gt;

&lt;p&gt;
I picked an Expire window of just 12 hours. This is long enough so that during a single session, the user will only request each resource once. But it's short enough that if I push an actual change at night, everyone will get it in the morning.
&lt;/p&gt;

&lt;p&gt;
To make the actual change, you need to enable the expire_mod, and then set the actual Expires value per MIME type.
&lt;/p&gt;

&lt;pre&gt;
&amp;gt;cd /etc/apache2
&amp;gt;sudo ln -s ../mods-available/expires.load mods-enabled/expires.load
&lt;/pre&gt;

&lt;pre name="code" class="bash"&gt;
# edit /etc/apache2/sites-available/default
ExpiresActive On
ExpiresByType text/css "access plus 12 hours"
ExpiresByType application/javascript "access plus 12 hours"
ExpiresByType image/png "access plus 12 hours"
ExpiresByType image/gif "access plus 12 hours"
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1101408330788699177/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/11/yslow-8020.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1101408330788699177'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1101408330788699177'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/11/yslow-8020.html' title='YSlow 80/20'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5498865099913340340</id><published>2009-10-29T12:07:00.009-04:00</published><updated>2009-10-29T12:38:02.349-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><title type='text'>Easier Development with Unobtrusive JavaScript, Part III</title><content type='html'>&lt;p&gt;
&lt;a href="/2009/06/easier-development-with-unobtrusive.html"&gt;Part I&lt;/a&gt; defined what I mean by Unobtrusive JavaScript. &lt;a href="/2009/06/easier-development-with-unobtrusive_19.html"&gt;Part II&lt;/a&gt; showed some specific examples. Now I want to talk a little more about &lt;span style="font-style:italic;"&gt;why&lt;/span&gt; you might want to do all this.
&lt;/p&gt;

&lt;p&gt;
We have already discussed how a small subset of users don't have JavaScript, or don't have it enabled. There are also users with disabilities, and SEO issues. However, none of these are likely to sell your development manager. Time for some new arguments.
&lt;/p&gt;

&lt;p&gt;
   &lt;b&gt;Unobtrusive JavaScript means writing as little JavaScript as possible.&lt;/b&gt;
&lt;/p&gt;

&lt;p&gt;
If you've implemented the behaviour on the back-end, all you need is a little &lt;a href="/2009/10/quick-and-dirty-ajax-on-any-form.html"&gt;sprinkling&lt;/a&gt; of JavaScript to make it dynamic. Now, why is that net benefit?
&lt;/p&gt;

&lt;p&gt;
   &lt;b&gt;JavaScript is harder to write, debug and refactor than back-end code.&lt;/b&gt;
&lt;/p&gt;

&lt;p&gt;
JavaScript tooling is fairly weak. Debugging tools are browser specific. Going on the theory that less code is more maintainable than more code, and that JavaScript is in general harder to maintain than say Java, Ruby or Python, it stands to reason that less JavaScript means more maintainable code.
&lt;/p&gt;

&lt;p&gt;
   &lt;b&gt;JavaScript is harder to test than back-end code.&lt;/b&gt;
&lt;/p&gt;

&lt;p&gt;
Likewise, unit and functional testing tools for JavaScript are weaker than their back-end counterparts, and browser specific to boot. The vast majority of the time, this results in zero automated testing coverage for JavaScript code.
&lt;/p&gt;


&lt;p&gt;
   &lt;b&gt;JavaScript is harder to make performant than back-end code.&lt;/b&gt;
&lt;/p&gt;

&lt;p&gt;
This is the kicker. Typically, JavaScript is thought of as a way to improve the perceived performance of a site, by reducing page refreshes. However, it is very possible to find yourself in a position where the Ajax update is actually &lt;a href="/2008/12/ajax-grid-performance-in-ie.html"&gt;slower&lt;/a&gt; than a page refresh, especially in Internet Explorer.
&lt;/p&gt;

&lt;p&gt;
Often times, you may not realise this is the case until late in the development cycle. Perhaps you have not been testing on other browsers, and you find out during acceptance testing. Perhaps you waiting until the last minute to roll in new design html/css from the UI folks, and it makes the DOM insertions a lot slower. Perhaps it's the result of new content from a new feature request.
&lt;/p&gt;

&lt;p&gt;
In any case, you realise that Ajax is slower. What do you do? If you used Unobtrusive JavaScript, you can selectively disable JavaScript for certain pages or components. You can even decide whether to use the JavaScript or refresh version per-browser. You can do this will almost no code change.
&lt;/p&gt;

&lt;p&gt;
Without Unobtrusive JavaScript, you're looking at either living with the problem, or re-writing some code. Maybe a lot of code, if it's really JavaScript heavy. 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5498865099913340340/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/10/easier-development-with-unobtrusive.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5498865099913340340'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5498865099913340340'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/10/easier-development-with-unobtrusive.html' title='Easier Development with Unobtrusive JavaScript, Part III'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7973793354404234451</id><published>2009-10-23T15:49:00.010-04:00</published><updated>2009-10-29T12:00:21.117-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='jquery'/><category scheme='http://www.blogger.com/atom/ns#' term='ajax'/><title type='text'>Quick and dirty Ajax on any FORM</title><content type='html'>&lt;p&gt;
I have been trying to write as much unobtrusive javascript as possibly lately. Mainly this means getting everything working without any javascript in the picture to start, and then layering in dynamic elements without breaking anything for javascript-disabled users.
&lt;/p&gt;

&lt;p&gt;
This week, I had a pretty simply page with a single FORM element and a bunch of INPUT  elements, many of which were submit buttons with various name/value pairs. Why so many buttons? Well, it's a semantically valid way to capture a single-click user action.
&lt;/p&gt;

&lt;p&gt;
The user wants to go to the next page? That's a button. Want to remove a keyword from this list? That's a button. Want to expand a section? You guessing it, that's a button.
&lt;/p&gt;

&lt;p&gt;
Why not use a link for this? In a simple case that's fine. If you wanted to go a whole other page, that's a link. But usually when I'm writing a web-application (as opposed to a web-site) there is a whole lot of state to pass around. Sure, the "next page" operation is the new piece of state, but what about the current page/last page state? I could wrap those into each link on the server-side, but that gets messy quickly. You're also limiting yourself to the size of the state by using a GET for that request.
&lt;/p&gt;

&lt;p&gt;
Now, buttons are kind ugly. Luckily, there is a cross-browser way to display them as images using just CSS:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
INPUT.ImageButton {
 border: 0px;
 padding: 0 0 0 16px !important; /* Hide text - IE */
 text-indent: -999em; /* Hide text - FF */
 height: 10px;
 width: 10px;
 margin-bottom: 3px;
 cursor: pointer;
 display: inline;
 font-size: 8px;
}

INPUT.ImageButton.Add {
 background: transparent url(/media/img/admin/icon_addlink.gif) no-repeat center;
}

...

&amp;lt;input type="submit" class="ImageButton Add" name="next_page" value="true"/&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
What does this have to do with Ajax? Well, it makes Ajax a breeze. Here is a generic jQuery snippet for turning any page where the state is entirely FORM-based into an Ajax request.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
$(document).ready(function() {
 bind(); 
})

function bind() {
 var form = $("#results-form");
 if (form) {
  
  $("input[type=submit]").click(function(e) {

   // disable the form buttons so the user can't submit twice   
   $("input[type=submit]").click(function(){ return false; });

   var form = $("#results-form");
   var button = this;
   var url = "ajax=true&amp;amp;" + button.name + "=" + button.value + "&amp;amp;";
   
   document.body.style.cursor = 'wait';
   
   $.post(form[0].action, url + form.serialize(), function (data) {    

    document.body.style.cursor = 'auto';
    
    $("#contentDiv").html(data);
        
    // re-bind new html for next Ajax call
    bind();    
   });
   
   return false;
  });
 }
}
&lt;/pre&gt;

&lt;p&gt;
All you need to do is change your back-end to look for the ajax parameter, and only render the contents of contentDiv in that case.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/7973793354404234451/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/10/quick-and-dirty-ajax-on-any-form.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7973793354404234451'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7973793354404234451'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/10/quick-and-dirty-ajax-on-any-form.html' title='Quick and dirty Ajax on any FORM'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1266904188116878083</id><published>2009-10-14T12:29:00.007-04:00</published><updated>2009-10-14T12:53:32.605-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Unit testing Django with doctest</title><content type='html'>&lt;p&gt;
There are two main ways to write &lt;a href="http://docs.djangoproject.com/en/dev/topics/testing/"&gt;tests in Django&lt;/a&gt;; doctests and unit tests. Units tests will be familiar to you if you're coming from Java. You basically write new Python code to setup and execute your tests. Doctests are a combination of documentation and unit testing. You actually write executable tests in your comments.
&lt;/p&gt;

&lt;p&gt;
Why is this is a good idea? Well, for one thing, they make sure your comments are accurate. If you change how a function behaves, your doctests will let you know if you forget to update the comments. But I mainly appreciate them because of their brevity. 
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
def _lucene_location(job):
    """Formats a Lucene query for searching by city/state
    
    Values must be double-quoted in case there are spaces
    &amp;gt;&amp;gt;&amp;gt; _lucene_location(Job(city="Fort Worth", state="TX"))
    ' +JOBCITY:"Fort Worth" +JOBSTATE:"TX"'
    
    Need to escape quotes in the city/state values
    &amp;gt;&amp;gt;&amp;gt; _lucene_location(Job(city='"Bad" City', state="MA"))
    ' +JOBCITY:"%22Bad%22 City" +JOBSTATE:"MA"'        
    
    """
    return "".join([
        ' +%s:"%s"' % (field_solr[attr], urllib.quote(getattr(job, attr), " "))
        for attr in  ["city", "state"]
        ])
&lt;/pre&gt;

&lt;p&gt;
Here we have a function that takes a Job model object and formats a Lucene search string for city and state. The primary edge case, which we are testing for, is that the city name can contain a space, so it needs to be in double-quotes. But what if the name itself has a double-quote character? Then it needs to be encoded.
&lt;/p&gt;

&lt;p&gt;
These conditions are covered by doctests, where "&gt;&gt;&gt;" denotes a statement to be run in a Python interactive session, and where the following line is the expected result. I can't think of a way to express these tests with less code.
&lt;/p&gt;

&lt;p&gt;
Doctests have some downsides. They are not as flexible as unit tests. If your tests require a complicated setup procedure, that's probably better done as a unit test. The other downside I encounted was documentation. The Django website simply tells you to place your doctests in a file called tests.py. But of course, most developers will want to execute doctests that are in-line with functions in other .py files.
&lt;/p&gt;

&lt;p&gt;
The solution is easy, but was not readily apparent to me from the documentation. Simply put this in your tests.py file:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
from search.models import Job
from search.placement import _lucene_location, _lucene_query, _fuzzy_titles

__test__ = {
    "_lucene_location": _lucene_location,
    "_lucene_query": _lucene_query,
    "_fuzzy_titles": _fuzzy_titles
}
&lt;/pre&gt;

&lt;p&gt;
Here, I am importing anything my doctests might need, such as the Job model. Otherwise, I would have to clutter my doctests themselves with those imports. This would be a good place to do some setup common to the doctests, as well. __test__ is an undocumented dictionary that maps test name to callable object.
&lt;/p&gt;

&lt;p&gt;
To run the tests, just execute the following command-line:
&lt;/p&gt;

&lt;pre&gt;
&amp;gt;python manage.py test
Creating test database...
...
Creating table search_job
...
Installing json fixture 'initial_data' from '../powerfill/search/fixtures'.
Installed 48 object(s) from 1 fixture(s)
...................
----------------------------------------------------------------------
Ran 19 tests in 2.285s

OK
&lt;/pre&gt;

&lt;p&gt;
As opposed to vanilla Python doctests, Django is actually spinning up a clean database, and populating your default fixture data. This is a great way to avoid having to mock models. Your continuous integration server could even run these tests without having a real database, by using sql lite.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1266904188116878083/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/10/unit-testing-django-with-doctest.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1266904188116878083'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1266904188116878083'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/10/unit-testing-django-with-doctest.html' title='Unit testing Django with doctest'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8532680816433073656</id><published>2009-10-09T14:50:00.004-04:00</published><updated>2009-10-14T12:29:13.817-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Django - Externalize settings.py</title><content type='html'>&lt;p&gt;
In Django, settings.py is where you store configuration such as database connection strings, directory paths for static and media resources, as well as caching settings. Obviously, these settings will be different between various developers, not to mention qa and production environments.
&lt;/p&gt;

&lt;p&gt;
A typical solution is to branch settings.py, and then copy in the appropriate version after a deploy. This adds an extra moving piece that you may forget. Another solution is to put logic into settings.py to branch by host name, but this is a fairly brittle approach.
&lt;/p&gt;

&lt;p&gt;
I have my settings.py file in an external directory. That way, it doesn't get checked into source control, or over-written by a deploy. I put this in the settings.py file under my Django project, along with any default settings:
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import sys
import os.path

def _load_settings(path):    
    print "Loading configuration from %s" % (path)
    if os.path.exists(path):
        settings = {}
        # execfile can't modify globals directly, so we will load them manually
        execfile(path, globals(), settings)
        for setting in settings:
            globals()[setting] = settings[setting]
     
 _load_settings("/usr/local/conf/local_settings.py")
&lt;/pre&gt;

&lt;p&gt;
&lt;i&gt;
Note: This is very dangerous if you can't trust local_settings.py.
&lt;/i&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8532680816433073656/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/10/django-externalize-settingspy.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8532680816433073656'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8532680816433073656'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/10/django-externalize-settingspy.html' title='Django - Externalize settings.py'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-182324671156774273</id><published>2009-10-02T15:29:00.018-04:00</published><updated>2009-10-14T12:29:24.555-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='django'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Python/Django: First Impressions</title><content type='html'>&lt;p&gt;
I've started a brand-new codebase at work. With new code comes the possibility of a new language/platorm. What we really needed was speed; we don't know exactly what we want to build; we are going to have to iterate over many ideas quickly.
&lt;/p&gt;

&lt;p&gt;
We had a long list of requirements. We wanted a simple, clean language. We needed to integrate with &lt;a href="http://lucene.apache.org/solr/"&gt;SOLR&lt;/a&gt;, but SOLR integrated with anything easily. We wanted fine-grain control of HTML output, so WSIWYG UI framewords like &lt;a href="http://java.sun.com/javaee/javaserverfaces/"&gt;JSF&lt;/a&gt; and &lt;a href="http://code.google.com/webtoolkit/"&gt;GWT&lt;/a&gt; were out. We wanted a &lt;a href="http://stackoverflow.com/tags"&gt;popular platform&lt;/a&gt;, so there would be a good community to field questions.
&lt;/p&gt;

&lt;p&gt;
Most importantly, we didn't want to limit our options down the road. Being potentially able to deploy on J2EE was huge. Ideally we would be able to import Java JARs, as well.
&lt;/p&gt;

&lt;p&gt;
Both Ruby on Rails and Python/Django met our requirements. Django came out slightly ahead by having better documentation. Too much RoR info is still woefully out of date, or trapped in youtube videos.
&lt;/p&gt;

&lt;p&gt;
Here are some quick thoughts on my first week programming Python/Django for an actual work project:
&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Python itself is as nice a language as advertised.
     &lt;ul&gt;
        &lt;li&gt;Hardly a single character is wasted in the source. You can do a lot in ten lines of Python, even if you're not calling out to libraries.&lt;/li&gt;
        &lt;li&gt;lists, dictionaries, tuples, map() really help reduce your code.

&lt;pre name="code" class="python"&gt;
def id_value_long(objs):
   result = []
   for obj in objs:
       result.append((obj.id, str(obj))
   return result

# this is equivalent to id_value_long()
def id_value(objs):
   return map(lambda obj: (obj.id, str(obj)), objs) 
&lt;/pre&gt;

        &lt;/li&gt;
        &lt;li&gt;You can make your code object oriented, or not. Mix and match. &lt;i&gt;Note: private members are only by convention; the door is wide open to get at those.&lt;/i&gt;&lt;/li&gt;
        &lt;li&gt;You have modern language features like aspect oriented programming (via decorators) and lambdas, implemented with clean syntax. They don't feel like in-elegant tack-ons.&lt;/li&gt;
        &lt;li&gt;The standard library includes almost everything you could possibly want: reflection, regular expressions, dom parsing, web-services and unit testing.&lt;/li&gt;

     &lt;/ul&gt;
  &lt;/li&gt;

  &lt;li&gt;Django lets you do more with less code (sense a pattern here?)
     &lt;ul&gt;
        &lt;li&gt;Real templating is worlds better than ColdFusion/JSP/PHP includes.&lt;/li&gt;
        &lt;li&gt;You can hand-code your HTML for greater control, or use generic views for common cases.

&lt;pre name="code" class="python"&gt;

class SearchForm(forms.Form):
   job = forms.ChoiceField(label="Source Job")
   query = forms.ChoiceField(label="Query Options")           
  
   def __init__(self, jobs, queries, *args, **kwargs):
       super(SearchForm, self).__init__(*args, **kwargs)   
       # ChoiceField needs id/value pairs, not full model objects
       self.fields["job"].choices = id_value(jobs)
       self.fields["query"].choices = id_value(queries)

...

&amp;lt;FORM action="{% url results_link %}" method="get"&amp;gt;
 {{ form.as_p }}   
 &amp;lt;INPUT type="submit" value="Search"/&amp;gt;
&amp;lt;/FORM&amp;gt;
&lt;/pre&gt;

&lt;/li&gt;
     &lt;li&gt;Just like RoR, you can auto-generate views from models. But in Django, these are by default relegated to an "admin" sub-site, which makes sense.&lt;/li&gt;
     &lt;li&gt;Unlike RoR, Django doesn't manage scheme updates for you. Unless you want to blow away all your data every time, you need to write schema update scripts by hand. &lt;a href="http://www.djangoproject.com/documentation/models/fixtures/"&gt;Fixtures&lt;/a&gt; can mitigate this in development, but not in production. &lt;/li&gt;
     &lt;li&gt;Django doesn't do MVC, it does "MTV" (model, view, template). In my opinion, it's really MuTV, because the url mapper plays a controller-like role.&lt;/li&gt;
     &lt;/ul&gt;

  &lt;/li&gt;
&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/182324671156774273/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/10/pythondjango-first-impressions.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/182324671156774273'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/182324671156774273'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/10/pythondjango-first-impressions.html' title='Python/Django: First Impressions'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6943636893329091031</id><published>2009-09-25T13:30:00.005-04:00</published><updated>2009-09-25T13:52:57.272-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='rails'/><category scheme='http://www.blogger.com/atom/ns#' term='soap'/><title type='text'>Ruby on Rails: anyType, soap4r and handsoap to the rescue</title><content type='html'>&lt;blockquote&gt;
Perl makes the easy things easy and the hard things possible. - &lt;a href="http://www.perl.com/lpt/a/748"&gt;Larry Wall&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
This sentiment has been applied to many different languages, frameworks and systems. It not surprising; it's the underlying goal of most software. Ruby on Rails is a little different. It makes the easy things extremely easy. But god help you if you want to get off the train in between stops.
&lt;/p&gt;

&lt;p&gt;
After playing with rails a few months ago, I wanted to upgrade my toy project by getting some data from a SOAP web-service. Google pointed me to &lt;a href="http://dev.ctor.org/soap4r"&gt;soap4r&lt;/a&gt;, which seems to be the common solution. However, I quickly ran into problems.
&lt;/p&gt;

&lt;p&gt;
It seems that the WSDL I was consuming made judicious use of the anyType primitive, which Java uses to expose an Object parameter in a method. However, the remote method end-points assumed you were going to tell it at runtime what the type of the object you're passing is. In practice, it was an integer.
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;?xml version="1.0" encoding="utf-8" ?&amp;gt;
&amp;lt;env:Envelope xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:env="http://schemas.xmlsoap.org/soap/envelope/"&amp;gt;
  &amp;lt;env:Body&amp;gt;
    &amp;lt;n1:find xmlns:n1="http://apiservice.bullhorn.com/"&amp;gt;
      &amp;lt;session&amp;gt;
        &amp;lt;client&amp;gt;rO0ABXNyACpjb20uYnVsbGhvcm4uZGF0YXNlcnZpY2UuYXBpLkFwaURhdGFDbGllbnQAAAAAAAAA
AQIACEoACmxhc3RBY2Nlc3NJAA5zdXBlckNsdXN0ZXJJZEwADWNvcnBvcmF0aW9uSWR0ABNMamF2
YS9sYW5nL0ludGVnZXI7TAAGZGJOYW1ldAASTGphdmEvbGFuZy9TdHJpbmc7TAAMbWFzdGVyVXNl
cklkcQB+AAFMAA5wcml2YXRlTGFiZWxJZHEAfgABTAAGdXNlcklkcQB+AAFMAAp1c2VyVHlwZUlk
cQB+AAF4cAAAASPoSwbkAAAAAHNyABFqYXZhLmxhbmcuSW50ZWdlchLioKT3gYc4AgABSQAFdmFs
dWV4cgAQamF2YS5sYW5nLk51bWJlcoaslR0LlOCLAgAAeHAAAARmdAAJQlVMTEhPUk4xc3EAfgAE
AE2pkXNxAH4ABAAABmZzcQB+AAQAAADpc3EAfgAEAAAP3A==&amp;lt;/client&amp;gt;
        &amp;lt;corporationId&amp;gt;1126&amp;lt;/corporationId&amp;gt;
        &amp;lt;userId&amp;gt;233&amp;lt;/userId&amp;gt;
      &amp;lt;/session&amp;gt;
      &amp;lt;entityName&amp;gt;JobOrder&amp;lt;/entityName&amp;gt;
      &amp;lt;id xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema" xsi:type="xs:int"&amp;gt;67&amp;lt;/id&amp;gt;
    &amp;lt;/n1:find&amp;gt;
  &amp;lt;/env:Body&amp;gt;
&amp;lt;/env:Envelope&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
The soap4r generated classes output a packet without the namespaces on the id tag, which resulted in the following exception.
&lt;/p&gt;

&lt;pre&gt;
java.lang.IllegalArgumentException: Provided id of the wrong type for class com.bullhorn.entity.job.JobOrder. 
Expected: class java.lang.Integer, got class org.apache.xerces.dom.ElementNSImpl
 at org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:196)
 at com.bullhorn.dataservice.jpa.BhEntityManagerImpl.find(BhEntityManagerImpl.java:62)
 at com.bullhorn.dataservice.serviceImpl.BaseService.find(BaseService.java:29)
 ...
Caused by: org.hibernate.TypeMismatchException: Provided id of the wrong type for class com.bullhorn.entity.job.JobOrder. 
Expected: class java.lang.Integer, got class org.apache.xerces.dom.ElementNSImpl
 at org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:109)
 at org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)
 at org.hibernate.impl.SessionImpl.get(SessionImpl.java:842)
 at org.hibernate.impl.SessionImpl.get(SessionImpl.java:835)
 at org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:182)
 ... 48 more
&lt;/pre&gt;

&lt;p&gt;
You could rightly say that this was a Java problem, or at least a problem with the API of this web-service. It's a good illustration of why you should try to use primitives only for web-service parameters. However, in this case I could not control the web-service, so I needed to solve this in Ruby.
&lt;/p&gt;

&lt;p&gt;
I briefly tried to download the WSDL and muck with it. &lt;a href="http://www.soapui.org/"&gt;SoapUI&lt;/a&gt;, by the way, has the ability to download a multi-part (think 50 parts) WSDL and save all the pieces locally. But I soon exhausted my expertise in hand-editing WSDL. Besides, ideally this needed to be done at runtime to support types other than integers.
&lt;/p&gt;

&lt;p&gt;
Having "gone off the rails", I turned to a library called &lt;a href="http://github.com/troelskn/handsoap"&gt;handsoap&lt;/a&gt;. Their philosophy is that you often need a higher level of control over the SOAP packets themselves.
&lt;/p&gt;

&lt;blockquote&gt;...soap4r has problems. It's incomplete and buggy. If you try to use it for any real-world services, you quickly run into compatibility issues...

Handsoap tries to do better by taking a minimalistic approach. Instead of a full abstraction layer, it is more like a toolbox with which you can write SOAP bindings. -&lt;a href="http://github.com/troelskn/handsoap"&gt;troelskn&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
As promised, I did have to do the SOAP binding myself. But I also got the opportunity to do anything I wanted to the XML DOM object, including set these pesky required namespaces.
&lt;/p&gt;

&lt;pre name="code" class="ruby"&gt;
require 'handsoap'

Handsoap.http_driver = :httpclient
Handsoap::Service.logger = $stdout

class ApiService &amp;lt; Handsoap::Service
  endpoint API_SERVICE_ENDPOINT

  def on_create_document(doc)
    # register namespaces for the request
    doc.alias 'tns', 'http://apiservice.bullhorn.com/'
  end

  def on_response_document(doc)
    # register namespaces for the response
    doc.add_namespace 'ns', 'http://apiservice.bullhorn.com/'
  end

  def start_session!(state)
    soap_action = ''
    response = invoke('tns:startSession', soap_action) do |message|
      message.add "username", state[:username]
      message.add "password", state[:password]
      message.add "apiKey", state[:apiKey]
    end
    node = response/"//return"
    { :client =&amp;gt; (node/"//client").to_s, :corporationId =&amp;gt; (node/"//corporationId").to_s , :userId =&amp;gt; (node/"//userId").to_s}
  end
  
  def find(state)
    soap_action = ''
    response = invoke('tns:find', soap_action) do |message|

      session = state[:session]

      message.add "session" do |i|
        i.add "client", session[:client]
        i.add "corporationId", session[:corporationId]
        i.add "userId", session[:userId]
      end
      
      message.add "entityName", state[:entityName]

      # ids are set to "anyType" in the WSDL, and our end-point enforces that these namespaces be in the post
      message.add "id", state[:id] do |i|
        i.set_attr("xmlns:xsi", "http://www.w3.org/2001/XMLSchema-instance")
        i.set_attr("xmlns:xs", "http://www.w3.org/2001/XMLSchema")
        i.set_attr("xsi:type", "xs:int")
      end

    end
  end
  
end
&lt;/pre&gt;

&lt;p&gt;
PS - Installing handsoap was a pita. I could not get the &lt;a href="http://curb.rubyforge.org/"&gt;curb&lt;/a&gt; gem, a ruby binding for the Linux curl utility, installed. So this example uses httpclient, instead.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6943636893329091031/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/09/ruby-on-rails-anytype-soap4r-and.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6943636893329091031'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6943636893329091031'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/09/ruby-on-rails-anytype-soap4r-and.html' title='Ruby on Rails: anyType, soap4r and handsoap to the rescue'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5906151187451779632</id><published>2009-09-18T16:42:00.000-04:00</published><updated>2009-09-18T16:38:11.929-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='netbios'/><title type='text'>Name resolution failure caching in SMB</title><content type='html'>&lt;p&gt;
If you have a production file server failing, you have serious problems. Client requests are failing. But they may not be failing quickly. If your product is a website, and the web-servers make a lot of file requests, one of the fallouts is that requests will start to pile up.
&lt;/p&gt;

&lt;p&gt;
What's happening? The Windows web-servers are actually making NetBIOS broadcasts, asking your network "hey, is anyone fileserver1?". If fileserver1 is actually down, then no response is coming. But the web-server waits for a handful of seconds before it's sure. That whole time, the browser request is hanging out waiting for the web-server to respond.
&lt;/p&gt;

&lt;p&gt;
I ran some tests using ColdFusion, and I noticed that if you request a file on a known-down or non-existent server, the initial request takes 15 seconds to timeout. Subsequent requests fail quickly for the next 10 seconds or so. Then there is another 15 second timeout, and the pattern repeats. So there is actually a caching mechanism for unavailable servers.
&lt;/p&gt;

&lt;p&gt;
&lt;a href="http://serverfault.com/questions/64210/can-fast-fail-of-smb-cifs-hosts-be-tuned"&gt;I was trying to find&lt;/a&gt; a way to configure both the maximum amount of time a request to a non-existent server can take (the 15 seconds), as well as how long the fact that the server is down is cached (the 10 seconds). But I couldn't find any knobs to turn in Windows.
&lt;/p&gt;

&lt;p&gt;
Instead, I got a capture from Wireshark showing Netbios naming service packets:
&lt;/p&gt;

&lt;pre&gt;
    No.     Time        Source                Destination           Protocol Info
         90 2.184614    172.27.8.7            172.27.8.255          NBNS     Name query NB CHASE-IE&amp;lt;20&amp;gt;
         97 2.920946    172.27.8.7            172.27.8.255          NBNS     Name query NB CHASE-IE&amp;lt;20&amp;gt;
        106 3.671325    172.27.8.7            172.27.8.255          NBNS     Name query NB CHASE-IE&amp;lt;20&amp;gt;
        136 12.936379   172.27.8.7            10.0.2.15             NBNS     Name query NBSTAT *&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;
        140 14.436181   172.27.8.7            10.0.2.15             NBNS     Name query NBSTAT *&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;
        142 15.936134   172.27.8.7            10.0.2.15             NBNS     Name query NBSTAT *&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;&amp;lt;00&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
You can see the 15 seconds the initial request is taking. It looks like it does a UDP broadcast to the whole subnet (172.27.8.255). It doesn't get an answer, and then somehow gets the right IP (10.0.2.15), perhaps via DNS. Then it spends a few seconds timing out to that server. 
&lt;/p&gt;

&lt;p&gt;
Finally, I was able to reduce the initial waiting period from 15 seconds to 2 seconds by putting the server into lmhosts.
&lt;/p&gt;

&lt;ol&gt;
 &lt;li&gt;Edit c:\windows\system32\drivers\etc\lmhosts (not .sam, the sample file)&lt;/li&gt;
 &lt;li&gt;Add the line "10.0.2.15 chase-ie #PRE"&lt;/li&gt;
 &lt;li&gt;Run "nbtstat -R" to reload the Netbios naming cache&lt;/li&gt;
 &lt;li&gt;Run "nbtstat -r" to check that the name is cached&lt;/li&gt;
&lt;/ol&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5906151187451779632/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/09/name-resolution-failure-caching-in-smb.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5906151187451779632'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5906151187451779632'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/09/name-resolution-failure-caching-in-smb.html' title='Name resolution failure caching in SMB'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7360624851313842280</id><published>2009-09-11T14:00:00.013-04:00</published><updated>2009-09-11T14:41:17.108-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='lucene'/><title type='text'>Numeric Range Searches in Lucene</title><content type='html'>&lt;p&gt;
One of the reasons Lucene is awesomely fast is that it treats all data as strings. This is a perfect optimisation for most searching tasks. However, it does mean that other data types need to be converted to strings before they are indexed or searched for. When dealing with range searches on numbers, special care needs to be taken to get it right.
&lt;/p&gt;

&lt;p&gt;
Say you want to index latitude and longitude coordinates, so that you can quickly search for all records in physical proximity to any location. These coordinates are typically expressed as decimal values, such as 53.1345. They can also be negative.
&lt;/p&gt;

&lt;p&gt;
The naive approach would be to convert these to strings such as "53.1345". You would need to come up with a tokenizer that didn't split based on the decimal point (period character). Then your Lucene search string would look like "longitude:53.1345". This works if you are trying to find any records with this exact longitude, but it breaks down when doing a ranged search.
&lt;/p&gt;

&lt;p&gt;
Say you want to search for all longitudes between 4 and 6. You Lucene search string would look like "longitude:[4 to 6]". Critically, this would actually match a record with value "53.1345", because Lucene can only compare &lt;a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#compareTo(java.lang.String)"&gt;lexicographically&lt;/a&gt;. In short, the first character in "53.1345" is '5', and because that's between the '4' and '6', the whole string "53.1345" is between "4" and "6".
&lt;/p&gt;

&lt;p&gt;
The suggested solution is to pad all numeric values to a fixed width. So, 53.1345 becomes "000000000000053.13450000". Notice that we can't encode ALL possible decimal values in a fixed width; you have to decide how many digits of precision you will need, and what the max value you will need to support is.
&lt;/p&gt;

&lt;p&gt;
So that you don't have to write a decimal-ignoring tokenizer, it's also easier to replace the '.' character with a alphanumeric, such as 'd'. So your serialized double now looks like "000000000000053d13450000".
&lt;/p&gt;

&lt;p&gt;
What about negative numbers? If you just add a negative sign to the beginning, you are no longer fixed width. There are many solutions, but I would advocate using "p" to denote positive numbers, and "n" to denote negatives. So 53.1345 becomes "p000000000000053d13450000", and -1.32 becomes "n000000000000001d31000000". These are comparable because "p" happens to be greater than "n", alphabetically. You could use any number of other special characters, but sticking to something that no rational tokenizer would ever split on makes things easier.
&lt;/p&gt;

&lt;p&gt;
More importantly with negative values, comparison breaks because while -1.33 is numerically less than -1.32, "n000000000000001d33000000" is lexicographically &lt;span style="font-weight:bold;"&gt;greater&lt;/span&gt; than "n000000000000001d32000000".
&lt;/p&gt;

&lt;p&gt;
The solution is to &lt;a href="http://wiki.apache.org/lucene-java/SearchNumericalFields#head-19a4340c637fad4601e9ef9db2f7a41dbf2d7518"&gt;"invert" the magnitude&lt;/a&gt; of negative numbers. You do this by subtracting each digit in the number from 9. In other words, subtracting your value from 999999999999999.99999999, aka 9&lt;span style="border-top: 1px solid black;"&gt;9&lt;/span&gt;.9&lt;span style="border-top: 1px solid black;"&gt;9&lt;/span&gt;. So, "n000000000000001d32000000" becomes "n999999999999998d67999999".
&lt;/p&gt;

&lt;p&gt;
Here is some Java code to convert doubles to the p/n format:
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
package com.bullhorn.common.lucene;

import java.text.DecimalFormat;
import java.text.NumberFormat;

/**
 * Format decimals as strings for Lucene
 * Basic format is: p00000000000051d50300000 = 51.503
 * This is done so the values are lexicographically comparable
 * Negative numbers need to be "inverted" in magnitude, so they
 * can be compared to positive values. Negatives are also prepended
 * with "n". For example: n99999999999999d86799999 = -0.132
 * 
 * This way, -0.132 &amp;gt; -0.133 b/c n99999999999999d86_7_99999 &amp;gt; n99999999999999d86_6_99999
 * also, 0.132 &amp;gt; -0.133 b/c p00000000000000d13200000 &amp;gt; n99999999999999d86699999 (b/c p &amp;gt; n)
 * 
 * See: http://wiki.apache.org/lucene-java/SearchNumericalFields#head-19a4340c637fad4601e9ef9db2f7a41dbf2d7518 
 * 
 * @author chase
 */
public class DecimalFormatter {
 
 public static final NumberFormat NUMBER_FORMATTER = new DecimalFormat("00000000000000.00000000");

 public static String formatDouble(double x) {
  
     String latStr = NUMBER_FORMATTER.format(x);
     if (latStr.startsWith("-")) {
         latStr = invertNegativeDouble("n".concat(latStr.substring(1)));
     } else {
         latStr = "p".concat(latStr);
     }
     return latStr.replaceAll("\\.", "d");
 }
 
 public static String invertNegativeDouble(String negDbl) {
  
  String value = "";
  for (int i = 0; i &amp;lt; negDbl.length(); i++) { 
   char digit = negDbl.charAt(i);
   if (digit &amp;gt;= '0' &amp;amp;&amp;amp; digit &amp;lt;= '9')
    value += String.valueOf(('9' - digit));
   else value += digit;
  }
  
  return value;
 } 

}
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/7360624851313842280/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/09/numeric-range-searches-in-lucene.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7360624851313842280'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7360624851313842280'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/09/numeric-range-searches-in-lucene.html' title='Numeric Range Searches in Lucene'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3328258573844786928</id><published>2009-09-02T10:15:00.015-04:00</published><updated>2011-03-21T09:47:12.561-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='firefox'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><category scheme='http://www.blogger.com/atom/ns#' term='svn'/><title type='text'>Ubuntu Firefox/Chrome handle svn protocol</title><content type='html'>&lt;p&gt;
If you're using using a web-based bug tracking system (in my case, &lt;a href="http://www.atlassian.com/software/jira/"&gt;JIRA&lt;/a&gt;), or getting Subversion check-in emails in a web-based client, you may have seen URIs like this:
&lt;/p&gt;

&lt;pre&gt;
svn://sourcecontrol:3690/MAINLINE/release_1.3/java/com/bitkickers/somefile.java#26981
&lt;/pre&gt;

&lt;p&gt;
This is basically a link to your Subversion server, a particular file and a particular revision (26981). Wouldn't it be nice to be able to click on that link and have the diff open up? Firefox can be configured to handle the URI with a specific external application, but I could not find any such application for Ubuntu.
&lt;/p&gt;

&lt;p&gt;
Enter the custom BASH script:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
#!/bin/bash

diff=meld
regex="(.*)(#|\?r=)([0-9]+)$"

urldecode(){
  echo -e "$(sed 'y/+/ /; s/%/\\x/g')"
}

urlDecoded=`echo "$1"| urldecode`

if [[ $urlDecoded =~ $regex ]]; then

        # the sed command is a quick and dirty URL decode
        url=${BASH_REMATCH[1]}
        revision=${BASH_REMATCH[3]}

        svn diff "$url" -c $revision --diff-cmd $diff

else
        echo "Can't parse svn URI"
fi
&lt;/pre&gt;

&lt;p&gt;
This script parses out the revision number, calls the Subversion command-line tool to create a diff, and open the diff in &lt;a href="http://Meld.sourceforge.net/"&gt;Meld&lt;/a&gt;. Obviously, you need Subversion and Meld installed. Once saved as "svnhandler.sh", and made executable via "chmod +x svnhandler.sh", you can call it on the specific URI:
&lt;/p&gt;

&lt;pre&gt;
./svnhandler.sh svn://sourcecontrol:3690/MAINLINE/release_1.3/java/com/bitkickers/somefile.java#26981
&lt;/pre&gt;

&lt;p&gt;
You should end up with a Meld screen that looks like this:
&lt;/p&gt;

&lt;IMG src="http://lh3.ggpht.com/_EE2zVzGv1Ds/Sp6CYie65zI/AAAAAAAAJT4/51OBChAb_mw/s800/Screenshot-BHGetUserMessage.cfm%09(revision%2026980)%20%3A%20BHGetUserMessage.cfm%09(revision%2026981)%20-%20Meld.png"&gt;

&lt;p&gt;
To get Firefox to pass this URI to the BASH script, you need to open a new tab and go to "about:config". Then right-click in the grid, and select "New" to add the following two settings:
&lt;/p&gt;

&lt;ul&gt;
   &lt;li&gt;String&lt;/li&gt;
   &lt;li&gt;network.protocol-handler.app.svn&lt;/li&gt;
   &lt;li&gt;/home/chase/bin/svnhandler.sh&lt;/li&gt;
&lt;/ul&gt;

&lt;ul&gt;
   &lt;li&gt;Boolean&lt;/li&gt;
   &lt;li&gt;network.protocol-handler.external.svn&lt;/li&gt;
   &lt;li&gt;true&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
If you search for "svn", you should see the following:
&lt;/p&gt;

&lt;IMG src="http://lh4.ggpht.com/_EE2zVzGv1Ds/Sp6CYZtAdZI/AAAAAAAAJT0/f4LWR1Fq88A/s800/Screenshot-about%3Aconfig%20-%20Mozilla%20Firefox.png"&gt;

&lt;p&gt;
Now, that didn't quite work on its own for me. I had to go into Edit -&gt; Preferences, Applications, filter for "svn", and then set the handler again there.
&lt;/p&gt;

&lt;IMG src="http://lh6.ggpht.com/_EE2zVzGv1Ds/Sp6CYvGJ64I/AAAAAAAAJT8/4tZv2q1JlGQ/s800/Screenshot-Firefox%20Preferences.png"&gt;

&lt;p&gt;
   &lt;i&gt;
      Edit: updated regex to support "svn://...?r=123" syntax as well.&lt;BR&gt;
   &lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;
Edit: You can also add this script as the default URL handler in Gnome, which is also what Google Chrome will use to open the link.
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
gconftool-2 -s /desktop/gnome/url-handlers/svn/command '/path/to/script/svnhandler.sh %s' --type String
gconftool-2 -s /desktop/gnome/url-handlers/svn/enabled --type Boolean true
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3328258573844786928/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/09/ubuntu-firefox-handle-svn-protocol.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3328258573844786928'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3328258573844786928'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/09/ubuntu-firefox-handle-svn-protocol.html' title='Ubuntu Firefox/Chrome handle svn protocol'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_EE2zVzGv1Ds/Sp6CYie65zI/AAAAAAAAJT4/51OBChAb_mw/s72-c/Screenshot-BHGetUserMessage.cfm%09(revision%2026980)%20%3A%20BHGetUserMessage.cfm%09(revision%2026981)%20-%20Meld.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8391951393062985351</id><published>2009-08-28T15:44:00.011-04:00</published><updated>2009-08-28T15:57:20.667-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><category scheme='http://www.blogger.com/atom/ns#' term='smb'/><title type='text'>Mount a Windows file share in Linux</title><content type='html'>&lt;p&gt;
Here are the basic steps to mount a Windows share under Linux:
&lt;/p&gt;

&lt;ol&gt;

   &lt;li&gt;Create a file somewhere, perhaps in your home directory, to store the credentials. I called mine .smbcredentials&lt;/li&gt;

   &lt;li&gt;Edit the new file and insert the following two lines:
      &lt;pre&gt;
      username=MyUsername@MyDomain
      password=MyPassword
      &lt;/pre&gt;
   &lt;/li&gt;

   &lt;li&gt;Make root the file owner
      &lt;pre&gt;
      sudo chown root .smbcredentials
      &lt;/pre&gt;
   &lt;/li&gt;

   &lt;li&gt;Allow root to read it
      &lt;pre&gt;
      sudo chmod 600 .smbcredentials
      &lt;/pre&gt;
   &lt;/li&gt;

   &lt;li&gt;Create the mount point
       &lt;pre&gt;
       sudo mkdir /mnt/backup
       &lt;/pre&gt;
   &lt;/li&gt;

   &lt;li&gt;Edit the mount config file
      &lt;pre&gt;
      sudo vim /etc/fstab
      &lt;/pre&gt;
   &lt;/li&gt;

   &lt;li&gt;Add the following line, replacing &lt;b&gt;backup&lt;/b&gt; with your mount dir, &lt;b&gt;//offilefiles/backup&lt;/b&gt; with your share, just like in Windows but with forward slashes, and credentials with your file location.:
         &lt;pre&gt;
         //officefiles/backup /mnt/backup smbfs credentials=/home/chase/.smbcredentials,uid=1000 0 0
         &lt;/pre&gt; 
   &lt;/li&gt;

   &lt;li&gt;Reload fstab, at which point you should be able to list that mount directory.
      &lt;pre&gt;
      sudo mount -a
      &lt;/pre&gt;
   &lt;/li&gt;

&lt;/ol&gt;

&lt;i&gt;Note: you may need to install samba first, with an apt-get install smbclient&lt;/i&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8391951393062985351/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/08/mount-windows-file-share-in-linux.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8391951393062985351'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8391951393062985351'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/mount-windows-file-share-in-linux.html' title='Mount a Windows file share in Linux'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5784726716796956532</id><published>2009-08-21T13:46:00.003-04:00</published><updated>2009-08-21T13:53:26.182-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Setting the title on a Gnome terminal</title><content type='html'>&lt;p&gt;
I usually have several terminals open running various daemon processes in tabs. To make the tabs more identifiable, you can set the tab title from your BASH script as follows:
&lt;/p&gt;

&lt;pre name="code" class="ruby"&gt;
#!/bin/bash
printf '\033]2;%s\007' "You Title Goes Here"
#your daemon command goes here
&lt;/pre&gt;

&lt;img src="http://lh5.ggpht.com/_EE2zVzGv1Ds/So7e87ybvjI/AAAAAAAAJTY/lEuBc3P3jJ8/s800/Screenshot-ColdFusion%3A%20Current%20Release.png" /&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5784726716796956532/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/08/setting-title-on-gnome-terminal.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5784726716796956532'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5784726716796956532'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/setting-title-on-gnome-terminal.html' title='Setting the title on a Gnome terminal'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_EE2zVzGv1Ds/So7e87ybvjI/AAAAAAAAJTY/lEuBc3P3jJ8/s72-c/Screenshot-ColdFusion%3A%20Current%20Release.png' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2133276250445512815</id><published>2009-08-10T16:27:00.009-04:00</published><updated>2009-08-14T20:05:33.162-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Subversion mergeinfo</title><content type='html'>&lt;p&gt;
Subversion 1.5 added a feature called &lt;a href="http://www.collab.net/community/subversion/articles/merge-info.html"&gt;mergeinfo&lt;/a&gt;, which is just a property that can be set on any resource that tracks merges made to the resource. When you merge and then commit, you upload not only code changes, but meta-data attached to any number of other files that you did not explicitly touch.
&lt;/p&gt;

&lt;p&gt;
Supposedly, this makes re-integration merges easier. But regular commits require more work and are more error prone. My main complaint is the number of files it puts into the commit list. Aesthetically, I try to minimize the contents of my commits. Code is the enemy. So it eats away at me when I fix a bug with a single line of code, but then have to commit 40 meta-data files. But this is purely subjective.
&lt;/p&gt;

&lt;p&gt;
However, consider this. You have a file that you want to check-in, but you also have a handful of files that you have modified locally but do not wish to check-in. Maybe they are part of something else and not ready yet. Maybe they are local hacks, or over-rides that you never intend to check-in (damn, I wish subversion would let you flag checked out items as svn:ignore).
&lt;/p&gt;

&lt;p&gt;
With mergeinfo, your commit window does not just contain a list of the one file you want, plus the handful you don't want. Now you have potentially many other files to deal with. So you go through, by hand, and check/uncheck the files you want. All this manual work increases the chances that you screw it up. Maybe you just forget a mergeinfo file. But maybe you forget a file that you do want to check in, or worse, forget to uncheck a file that you &lt;span style="font-style:italic;"&gt;don't&lt;/span&gt; want.
&lt;/p&gt;

&lt;p&gt;
Now, better tooling could solve this. Tortoise lets you sort by whether a file is really modified, or just property modified. Most clients, however, do not. For example, neither Eclipse nor RapidSVN let you do this. Likewise, the svn command-line tool does not support filtering out mergeinfo only changes when do a status or diff. Maybe eventually the tooling will catch up to make this seamless, and &lt;span style="font-weight:bold;"&gt;transparent&lt;/span&gt;. Until then, I submit that this feature does more harm than good.
&lt;/p&gt;

&lt;p&gt;
Over the last few months, my team has started simply not checking in mergeinfo files. So far we have been none the worse for it. In Tortoise, we just manually uncheck them. On my Linux box, I use the following BASH script to actually revert mergeinfo changes after I merge.
&lt;/p&gt;

&lt;pre name="code" class="ruby"&gt;
FILES=`svn status |grep "^ M      " |sed s/" M      "// |tr '\n', ' '`
svn revert $FILES
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2133276250445512815/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/08/subversion-mergeinfo.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2133276250445512815'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2133276250445512815'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/subversion-mergeinfo.html' title='Subversion mergeinfo'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486</id><published>2009-08-07T14:46:00.013-04:00</published><updated>2009-08-28T15:13:39.543-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='xorg'/><category scheme='http://www.blogger.com/atom/ns#' term='ubuntu'/><title type='text'>Rotate just one monitor with Ubuntu/Nvidia</title><content type='html'>&lt;p&gt;
I took some time this week to figure out how to rotate just my &lt;a href="http://support.dell.com/support/edocs/monitors/2005FPW/En/about.htm#Front%20View"&gt;Dell 2005FPW&lt;/a&gt; in an Ubuntu dual-monitor setup. The graphics card is an Nvidia GeForce 6200 LE, and I'm v180.44 of the proprietary binary drivers.
&lt;/p&gt;

&lt;p&gt;
This gives you an idea of the setup I was going for, where the red monitor is the primary, and the blue monitor is the rotated secondary.
&lt;/p&gt;

&lt;IMG SRC='http://lh3.ggpht.com/_EE2zVzGv1Ds/Snx2MlYA8mI/AAAAAAAAJS8/3e9QlMqhfpU/s800/dual_monitors.png' width=300px&gt;

&lt;p&gt;
While I had been happily using Nvidia TwinView, I found that rotating just one of the monitors was impossible in this mode, due to the entire desktop being a single X screen. Instead, I switched to "Separate X screens", and then invoke the "Rotate" option on one of them.
&lt;/p&gt;

&lt;p&gt;
I also had to use &lt;a href="http://en.wikipedia.org/wiki/Xinerama"&gt;Xinerama&lt;/a&gt;, which is an X extension that allows multiple X screens to operate as a single screen, allowing you to share windows, a task bar and a background between them.
&lt;/p&gt;

&lt;p&gt;
Here is the xorg.conf file I ended up with. Most of it was generated from the Nvidia config tool, but then I tweaked it by hand a little.
&lt;/p&gt;

&lt;STYLE&gt;
   .monitor0 {
      color: red;
   }
   .monitor1 {
      color: blue;
   }
&lt;/STYLE&gt;

&lt;PRE name="code" class="none"&gt;

Section "ServerLayout"
    Identifier     "Default Layout"
    &lt;SPAN class="monitor0"&gt;Screen      0  "Screen0" 0 0&lt;/SPAN&gt;
    &lt;SPAN class="monitor1"&gt;Screen      1  "Screen1" &lt;B&gt;RightOf "Screen0"&lt;/B&gt;&lt;/SPAN&gt;
    ...
    &lt;B&gt;Option    "Xinerama" "true"&lt;/B&gt;
EndSection

...

Section "Monitor"
    Identifier     "Configured Monitor"
EndSection

&lt;SPAN class="monitor0"&gt;Section "Monitor"
    Identifier     "Monitor0"
    VendorName     "Unknown"
    ModelName      "Samsung SyncMaster"
    HorizSync       30.0 - 81.0
    VertRefresh     56.0 - 75.0
EndSection&lt;/SPAN&gt;

&lt;SPAN class="monitor1"&gt;Section "Monitor"
    Identifier     "Monitor1"
    VendorName     "Unknown"
    ModelName      "DELL 2005FPW"
    HorizSync       30.0 - 83.0
    VertRefresh     56.0 - 75.0
EndSection&lt;/SPAN&gt;

Section "Device"
    Identifier     "Configured Video Device"
    Driver         "nvidia"
    Option         "UseFBDev" "true"
    Option         "NoLogo" "True"
EndSection

&lt;SPAN class="monitor0"&gt;Section "Device"
    Identifier     "Device0"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 6200 LE"
    BusID          "PCI:1:0:0"
    Screen          0
EndSection&lt;/SPAN&gt;

&lt;SPAN class="monitor1"&gt;Section "Device"
    Identifier     "Device1"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 6200 LE"
    BusID          "PCI:1:0:0"
    Screen          1
    &lt;B&gt;Option          "Rotate" "left"&lt;/B&gt;
EndSection&lt;/SPAN&gt;

Section "Screen"
    Identifier     "Default Screen"
    Device         "Configured Video Device"
    Monitor        "Configured Monitor"
    DefaultDepth    24
EndSection

&lt;SPAN class="monitor0"&gt;Section "Screen"
    Identifier     "Screen0"
    Device         "Device0"
    Monitor        "Monitor0"
    DefaultDepth    24
    Option         "TwinView" "0"
    Option         "TwinViewXineramaInfoOrder" "DFP-0"
    Option         "metamodes" "DFP: 1680x1050 +0+0"
    SubSection     "Display"
        Depth       24
    EndSubSection
EndSection&lt;/SPAN&gt;

&lt;SPAN class="monitor1"&gt;Section "Screen"
    Identifier     "Screen1"
    Device         "Device1"
    Monitor        "Monitor1"
    DefaultDepth    24
    Option         "TwinViewXineramaInfoOrder" "DFP-0"
    Option         "TwinView" "0"
    Option         "metamodes" "CRT: 1680x1050 +0+0"
    SubSection     "Display"
        Depth       24
    EndSubSection
EndSection&lt;/SPAN&gt;

&lt;/PRE&gt;

&lt;p&gt;
Voila! I can view web pages and edit code in 16:9 vertical, while doing everything else in 16:9 horizontal.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6539100233798497486/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html#comment-form' title='8 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' title='Rotate just one monitor with Ubuntu/Nvidia'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_EE2zVzGv1Ds/Snx2MlYA8mI/AAAAAAAAJS8/3e9QlMqhfpU/s72-c/dual_monitors.png' height='72' width='72'/><thr:total>8</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-789946898492826461</id><published>2009-08-03T14:46:00.006-04:00</published><updated>2009-08-03T14:59:46.272-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>CFEclipse StackOverflowError (Editor could not be initialized)</title><content type='html'>&lt;p&gt;
Even since I moved from Windows to Linux, I have been experiencing an exception trying to edit certain CFMs in CFEclipse.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
eclipse.buildId=I20090611-1540
java.version=1.6.0_14
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.java.product
Command-line arguments:  -os linux -ws gtk -arch x86 -product org.eclipse.epp.package.java.product

!ENTRY org.eclipse.ui 4 0 2009-08-03 14:31:31.555
!MESSAGE Unable to create editor ID org.cfeclipse.cfml.editors.CFMLEditor: Editor could not be initialized.
!STACK 0
java.lang.StackOverflowError
 at java.util.regex.Pattern$Neg.match(Pattern.java:4590)
 at java.util.regex.Pattern$Branch.match(Pattern.java:4114)
 at java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)
 at java.util.regex.Pattern$Loop.match(Pattern.java:4295)
 at java.util.regex.Pattern$GroupTail.match(Pattern.java:4227)
 at java.util.regex.Pattern$BranchConn.match(Pattern.java:4078)
 at java.util.regex.Pattern$CharProperty.match(Pattern.java:3345)
 at java.util.regex.Pattern$Neg.match(Pattern.java:4609)
 at java.util.regex.Pattern$Branch.match(Pattern.java:4114)
 at java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)
 at java.util.regex.Pattern$Loop.match(Pattern.java:4295)
 at java.util.regex.Pattern$GroupTail.match(Pattern.java:4227)
 at java.util.regex.Pattern$BranchConn.match(Pattern.java:4078)
 at java.util.regex.Pattern$CharProperty.match(Pattern.java:3345)
 at java.util.regex.Pattern$Neg.match(Pattern.java:4609)
        ...
&lt;/pre&gt;

&lt;p&gt;
A few &lt;a href="http://groups.google.com/group/cfeclipse-users/search?group=cfeclipse-users&amp;q=stackoverflow&amp;qt_g=Search+this+group"&gt;google searches&lt;/a&gt; later, and it seemed that I was the only one with this problem. I tried re-installing the plugin, etc, to no avail.
&lt;/p&gt;

&lt;p&gt;
It turns out that that Java stack size was simply too small for some of the regular expressions CFEclipse was putting our admittedly massive CFMs through. The fix was to bump the stack size (via &lt;a href="http://publib.boulder.ibm.com/infocenter/wasinfo/v6r1/topic/org.eclipse.platform.doc.user/tasks/running_eclipse.htm"&gt;command-line args&lt;/a&gt;) up from the &lt;a href="http://e-docs.bea.com/jrockit/geninfo/diagnos/thread_basics.html"&gt;default&lt;/a&gt; 128k on 32-bit Linux.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
/usr/share/eclipse/eclipse -vmargs -Xss2048k
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/789946898492826461/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html#comment-form' title='4 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/789946898492826461'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/789946898492826461'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html' title='CFEclipse StackOverflowError (Editor could not be initialized)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>4</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1498739437370763440</id><published>2009-07-31T18:12:00.000-04:00</published><updated>2009-07-31T18:43:30.704-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='coldfusion'/><title type='text'>CFHTMLHEAD and CFCONTENT reset</title><content type='html'>&lt;p&gt;
I ran into some trouble this week attaching my &lt;a href='/2008/12/coldfusion-json-exception-handling.html'&gt;JSON Exception Handling&lt;/a&gt; to a new ColdFusion feature. Specifically, there was content from that page that survived the CFCONTENT reset tag. Instead of valid JSON, my page was outputting the following:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;title&amp;gt;Notes&amp;lt;/title&amp;gt; { 
   "error": "blah",
   ...
}
&lt;/pre&gt;

&lt;p&gt;
I tracked down the resilient TITLE tag to a CFHTMLHEAD tag. I have never explicitly used this tag, but I learned that it's  used to explicitly include page content in the HEAD tag of your page. It can even function retroactively, ie after the HEAD tag has appeared in your code. That's provided that you have not called CFFLUSH, I suppose.
&lt;/p&gt;

&lt;p&gt;
In any case, it was a simple fix. Though there is no way to reset that buffer in ColdFusion, you can easily &lt;a href="http://livedocs.adobe.com/coldfusion/7/htmldocs/00000271.htm"&gt;call out&lt;/a&gt; to the servlet page context.
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
 function resetCFHtmlHead() {
  var out = getPageContext().getOut();
  var method = out.getClass().getDeclaredMethod("initHeaderBuffer",arrayNew(1));
  method.setAccessible(true);
  method.invoke(out,arrayNew(1));
 }
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1498739437370763440/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/07/cfhtmlhead-and-cfcontent-reset.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1498739437370763440'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1498739437370763440'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/07/cfhtmlhead-and-cfcontent-reset.html' title='CFHTMLHEAD and CFCONTENT reset'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3189896881328473396</id><published>2009-07-24T11:11:00.007-04:00</published><updated>2009-07-24T15:07:16.323-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Backing Up VirtualBox</title><content type='html'>&lt;p&gt;
I've been playing with &lt;a href="http://www.virtualbox.org/"&gt;VirtualBox&lt;/a&gt;, a great open-source virtual machine. Mostly I've been deploying Windows guests on a Linux host. Right now I have two VMs; one for IE8 testing, and one to run MS SQL Server.
&lt;/p&gt;

&lt;p&gt;
I have noticed that VirtualBox can corrupt a VM image if it gets shut down unexpectedly. Given that it takes a significant amount of time to install an OS and get the tools you need running, I wanted to backup my VMs. 
&lt;/p&gt;

&lt;p&gt;
I also wanted the backup to succeed even if the VM was running at the time. This is especially important for the SQL Server, as I'm running it as a service all the time. More on that in a future post...
&lt;/p&gt;

&lt;p&gt;
Here is the script that I whipped up, aided by the excellent command-line tools that come with VirtualBox.
&lt;/p&gt;

&lt;pre name="code" class="ruby"&gt;
#!/bin/bash

# start by discarding all snapshots

#from `VBoxManage list vms |grep "^\(Name\|UUID\)"
VM=80e1cd84-0790-4c9f-a97e-97319c59431f

#from `VBoxManage list hdds |grep "^\(Location\|UUID\)"
HD=790acb86-703d-44e1-8f80-4e0229a2c054
VDI=WindowsXP.IE.vdi

# stop
VBoxManage controlvm $VM savestate

# backup (shrink happens automatically)
rm -f /home/chase/vms/backup/$VDI
VBoxManage clonehd $HD /home/chase/vms/backup/$VDI -remember
&lt;/pre&gt;

&lt;p&gt;
&lt;i&gt;Note: You must discard all snapshots before running the backup. Otherwise, the backup will only get the pre-snapshot state.&lt;/i&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3189896881328473396/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/07/backing-up-virtualbox.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3189896881328473396'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3189896881328473396'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/07/backing-up-virtualbox.html' title='Backing Up VirtualBox'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4419401692283709076</id><published>2009-07-17T13:04:00.003-04:00</published><updated>2009-07-17T13:16:56.234-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Converting a legacy ColdFusion app from Windows to Linux: Part II</title><content type='html'>&lt;p&gt;
For now, I've just decided to run ColdFusion under WINE. While I want to run it natively eventually, I don't want to undertake updating the code to use the correct case-sensitive file names. I'm sure my QA manager doesn't want me to undertake it just now, either.
&lt;/p&gt;

&lt;p&gt;
Actually running it is dead simple:
&lt;/p&gt;

&lt;pre&gt;
cd CFusionMX7/runtime/bin/
chmod +x jrun.exe
./jrun.exe -start coldfusion
&lt;/pre&gt;

&lt;p&gt;
With WINE installed and jrun.exe marked as executable, everything just works. File case issues are handled by WINE. Performance is excellent; I don't notice any overhead subjectively. While I would not suggest this setup for production, it's adequate for development.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4419401692283709076/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/07/converting-legacy-coldfusion-app-from_17.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4419401692283709076'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4419401692283709076'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/07/converting-legacy-coldfusion-app-from_17.html' title='Converting a legacy ColdFusion app from Windows to Linux: Part II'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6706780953834623341</id><published>2009-07-10T16:32:00.002-04:00</published><updated>2009-07-10T16:43:41.602-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Converting a legacy ColdFusion app from Windows to Linux: Part I</title><content type='html'>&lt;p&gt;
Having moved to a Linux desktop at work, I'm in the process of migrating my development environment to the extent possible. Eclipse + JBOSS were a slam dunk. SQL Server is a definite no-go. I'm having good luck using VirtualBox for that. ColdFusion seems promising, but will entail some work.
&lt;/p&gt;

&lt;p&gt;
The only reason it's promising, of course, is that my team has undertaken moving the code base from a stand-alone ColdFusion install to a vanilla JRun4 instance, and hopefully to a JBOSS instance, eventually. I'll go into more detail on that conversion process in a future post, as I learn more of it myself.
&lt;/p&gt;

&lt;p&gt;
Converting from Windows to Linux shouldn't be that hard, one would think. Well, it turns out that the major sticking point so far is case-sensitivity. In Windows, you can CFINCLUDE a file, or hit a URL and it will work even if the cases don't match. Predictably, this means that a legacy Windows code base is likely to have many case-mismatches.
&lt;/p&gt;

&lt;p&gt;
Fixing the code is an option, for sure. But for now, I've just been compiling a bash script to create symlinks between the requested file and the actual file. This is aided by the fact that ColdFusion logs each instance of a FileNotFound.
&lt;/p&gt;

&lt;p&gt;
Stay tuned!
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6706780953834623341/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/07/converting-legacy-coldfusion-app-from.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6706780953834623341'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6706780953834623341'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/07/converting-legacy-coldfusion-app-from.html' title='Converting a legacy ColdFusion app from Windows to Linux: Part I'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4987330087730414092</id><published>2009-07-02T11:21:00.000-04:00</published><updated>2009-07-04T13:02:31.748-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='vim'/><title type='text'>Stupid vim tricks</title><content type='html'>&lt;p&gt;
Quick hit today. Ever open a file in vim, only to realize that you need sudo to write to it? Usually, you have to exit out of vim, open vi as sudo, and make your changes again. No more!
&lt;/p&gt;

&lt;pre&gt;
:w !sudo tee %
&lt;/pre&gt;

&lt;p&gt;
This command is writing the file (:w) to the pipe (!) that executes sudo and then copies the pipe contents (tee) to a file (%, which is a placeholder for the current file in vim). 
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4987330087730414092/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/05/stupid-vim-tricks.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4987330087730414092'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4987330087730414092'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/05/stupid-vim-tricks.html' title='Stupid vim tricks'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8686786744130654144</id><published>2009-06-19T16:21:00.018-04:00</published><updated>2009-06-26T16:23:45.006-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Easier Development with Unobtrusive JavaScript, Part II</title><content type='html'>&lt;p&gt;
&lt;a href="http://bitkickers.blogspot.com/2009/06/easier-development-with-unobtrusive.html"&gt;Last time&lt;/a&gt;, I wrote about why you might want to make your Ajax heavy pages functional with javascript disabled. However, I dodged the issue of how to do that without writing two versions of your app. Personally, my aversion to repeating myself would likely overcome my desire provide an HTML only version. Luckily, it's relatively easy to have your cake and eat it, too.
&lt;/p&gt;

&lt;p&gt;
The project that spawned the previous post was implementing a data grid. I know, there must be a jQuery library out there, right? Actually, the requirement for having the feature work without javascript utterly precludes using a jQuery library. How would the server-side functionality be implemented? Instead, the grid control needs to be tied to the server-side technology. 
&lt;/p&gt;

&lt;p&gt;
In my case, that's ColdFusion. Now, CF8 has a fancy Ajax data grid. It also has a Flex version. Neither fallback to actually work with plain HTML if javascript or Flash are not enabled. Besides, we're actually on CF7, which has neither. So I set out to implement my own.
&lt;/p&gt;

&lt;blockquote&gt;I happen to hold a hard-won minority opinion about code bases. In particular I believe, quite staunchly I might add, that the worst thing that can happen to a code base is size.  -&lt;a href="http://steve-yegge.blogspot.com/2007/12/codes-worst-enemy.html"&gt;Steve Yegge&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;
My last home-grown datagrid was using ALL javascript, all the time. The server actually never returned anything but JSON, even in the initial page render. While the abstraction was nice, and the payload of a given request was super-small, there were definite rendering performance issue on IE6/7/8. Other browsers were fine. Paging through the grid would typically freeze (ie, lock up) the browser for a second or so. Besides the speed issue, it just took way to much code. Rendering the data grid, and then updating the DOM for the pagination controls, rows per page, sorting icons, etc was a lot of javascript. This time, I wanted as little code as possible. 
&lt;/p&gt;

&lt;p&gt;
My strategy was simple, and effective. Develop the feature in vanilla HTML first. Get everything working, THEN sprinkle on some Ajax goodness. I ran into a bunch of gotchas, which I can boil down into one sentence of gleaned wisdom: "Use the semantically correct tag for a given UI element".
&lt;/p&gt;

&lt;p&gt;
For example, I knew I wanted pagination controls. I was trying to mimic an existing UI that used arrow icons for the next/last page buttons. If I didn't care about making it work without javascript, I might have just made them IMG tags with an onclick event handler. As it was, my initial intuition was to use an A tag. This worked fine, until I implemented the other UI elements around it. You see, I needed to keep track of all this state (page num, sort column, sort dir, search token) data between pages. 
&lt;/p&gt;

&lt;p&gt;
My next naive attempt was to starting including all these variables on each A tag. This lead to a lot of code repetition, and then to a common function to bundle up any existing variable in the URL scope and append it to all the links in the page. A few horrendous bugs later, and I realized that I was using the wrong tag. Semantically, what I really wanted was a FORM to keep track of all this data. But if the grid was in a form, what did that make the pagination buttons? BUTTONS, ie &amp;lt;input type="button"&amp;gt;. Styling them to be images was an interesting diversion, which resulted in CSS like the following:
&lt;/p&gt;

&lt;pre name="code" class="css"&gt;
.ImageButton { 
 border: 0px;
 padding: 0 0 0 16px !important; /* Hide text - IE */
 text-indent: -999em; /* Hide text - FF */
 height: 15px;
 width: 6px;
 cursor: pointer;
 background: transparent url(/Images/NextPage.gif) no-repeat scroll 0 0;
 width: 10;
}
&lt;/pre&gt;

&lt;p&gt;
Something else I re-learned is that if you have multiple buttons on a page, each one can have a value attribute which will be posted to the server to let you know which button was hit. I have re-invented that feature using javascript countless times in recent years. Instead of selecting items by class or ID in jQuery, the value attribute can also be used as a semantically correct hook to attach an event hander.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
$(".BHDataGrid input[value=FirstPage]").click(function(){ 
   doPost(page - 1);
});
&lt;/pre&gt;

&lt;p&gt;
The upshot of implementing without javascript is that my CFM page was generating all the HTML itself. Page number, button state and the grid itself were all generated in one shot by ColdFusion, which is really the right tool for that job. That's exactly what it's designed for.
&lt;/p&gt;

&lt;p&gt;
After everything was working, hooking up the javascript was easy. First, I attached an event handler to the FORM itself to trap a POST operation, and do it via Ajax instead:
&lt;/p&gt;


&lt;pre name="code" class="javascript"&gt;
  $("form.dataGridForm").submit(function(event) {
     
   // serialize existing form vars
   var postData = $(this).serialize();
   postData += "&amp;amp;ajax=true";
   
   //var event = event.originalEvent.explicitOriginalTarget.defaultValue;
   postData += "&amp;amp;grid_event=" + GRID.buttonEvent;
   
   $.post(
    window.gridCallback == null ? window.location.pathname : window.gridCallback,
    postData, 
    function(data) {
     $("#gridContent").html(data);
     GRID.initGrid();
    }, 
    "html"
   );    
   
   // prevent the actual form submit
   return false;  
  });
&lt;/pre&gt;

&lt;p&gt;
Woot jQuery. I'm mostly using their built-in methods for serializing a FORM to a URL encoded key/value list, making the actual POST, and then updating the grid contents with .html(). The only extras here are to add an "ajax=true" param (more on that, later), serialize which button was hit, and then return false so that the FORM doesn't go ahead and submit with its default behavior.
&lt;/p&gt;

&lt;p&gt;
&lt;i&gt;Note: one nice side-effect here is that if there is an exception thrown for any reason, the return false never fires, and the FORM posts as normal. Ie, the feature just works!&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;
The ajax=true parameter is just a flag for the back-end to not render the window dressing around the grid. You see, my FORM tag actually looks like:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;FORM action="" method="POST" class="dataGridForm"&amp;gt;
   ...
&amp;lt;/FORM&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Ie, I have not set a action URL. Instead, the browser POSTs to the current URL. This is handy for including this grid in any old page, without having to pass another URL around. On the back-end, my grid CFM just looks for this flag, and then resets the response stream to truncate any non-grid HTML.
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;CFSAVECONTENT variable="tableHTML"&amp;gt;
 &amp;lt;FORM action="" method="POST" class="dataGridForm"&amp;gt;
        ...
&amp;lt;/CFSAVECONTENT&amp;gt;
...
&amp;lt;CFIF StructKeyExists(form, "ajax") OR StructKeyExists(url, "ajax")&amp;gt;
 &amp;lt;CFHEADER name="Expires" value="#Now()#"&amp;gt;
 &amp;lt;CFCONTENT type="text/html" reset="YES"&amp;gt;
 &amp;lt;CFOUTPUT&amp;gt;#tableHTML#&amp;lt;/CFOUTPUT&amp;gt;
 &amp;lt;CFABORT&amp;gt;
&amp;lt;CFELSE&amp;gt;
 &amp;lt;CFOUTPUT&amp;gt;#tableHTML#&amp;lt;/CFOUTPUT&amp;gt;
&amp;lt;/CFIF&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
And there you have it. A simple recipe to incorporate unobtrusive javascript principles into your code without writing everything twice. All in all, I only wrote about 100 lines of Javascript to Ajax up my HTML only version. 
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Start with semantically descriptive structure.&lt;/li&gt;
&lt;li&gt;Implement functionality with good-old FORM posts.&lt;/li&gt;
&lt;li&gt;Apply a presentation layer using CSS.&lt;/li&gt;
&lt;li&gt;Add behavior with javascript.&lt;/li&gt;
&lt;/ul&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8686786744130654144/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/06/easier-development-with-unobtrusive_19.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8686786744130654144'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8686786744130654144'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/06/easier-development-with-unobtrusive_19.html' title='Easier Development with Unobtrusive JavaScript, Part II'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4915510021498029979</id><published>2009-06-19T15:25:00.024-04:00</published><updated>2009-06-19T16:38:08.216-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Easier Development with Unobtrusive JavaScript</title><content type='html'>&lt;p&gt;
&lt;a href="http://en.wikipedia.org/wiki/Unobtrusive_JavaScript"&gt;Unobtrusive JavaScript&lt;/a&gt; is a poorly defined umbrella term. It's generally agreed to encompass:
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Separating behavior from content, much like &lt;a href="http://www.alistapart.com/articles/separation/"&gt;separating style from content&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Avoiding browser specific javascript bugs.&lt;/li&gt;
&lt;li&gt;Supporting browsers without javascript.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
My definition is a little more simple. Make your pages functional in plain HTML.
&lt;/p&gt;

&lt;p&gt;
Now, there is a good amount of grumbling from the peanut gallery on this issue. Here are some common objections, and rebuttals. 
&lt;/p&gt;

&lt;blockquote&gt;The year is 2009. Everyone has javascript. This is a waste of time.&lt;/blockquote&gt;

&lt;p&gt;
Actually, 5% of users &lt;a href="http://www.w3schools.com/browsers/browsers_stats.asp"&gt;don't have javascript&lt;/a&gt;. You can break these users down into the following groups:
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Really old browsers&lt;/li&gt;
&lt;li&gt;Users with disabilities (think screen-readers)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://noscript.net/"&gt;NoScript&lt;/a&gt; users. &lt;a href="http://en.wikipedia.org/wiki/Cross-site_scripting"&gt;XSS&lt;/a&gt; is now &lt;span style="font-weight:bold;"&gt;the&lt;/span&gt; most exploited attack vector. Knowledgeable users may choose to opt-out.&lt;/li&gt;
&lt;li&gt;Googlebot. If you want Google to index your site (hint: yes), then your content needs to be available with javascript disabled.&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;I don't know how. It seems hard.&lt;/blockquote&gt;

&lt;p&gt;
It's really not. It's just taking separation to the next level. You're already separating HTML from CSS (you ARE doing that, right?), now just pull the javascript out, too. Ie, instead of this:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;a href="javascript: nextPage();" style="font-weight: bold; color: red;"&amp;gt;Next Page&amp;lt;/a&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Do this (nod to &lt;a href="http://www.alistapart.com/articles/behavioralseparation"&gt;A List Apart&lt;/a&gt;):
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;a href="thisPage.php?page=2"&amp;gt;Next Page&amp;lt;/a&amp;gt;
&lt;/pre&gt;

&lt;pre name="code" class="css"&gt;
A { font-weight: bold; color: red; }
&lt;/pre&gt;

&lt;pre name="code" class="javascript"&gt;
// using jQuery
$("a:contains(Next Page)").click(function() {
 nextPage();
 return false;
});
&lt;/pre&gt;

&lt;p&gt;
You've allowed for graceful degradation without javascript; the user will simply be redirected to the next page. You have allowed for enhanced functionality with the Ajax call if javascript is available. Plus, you've separated your style, content and behavior. How do you reduce code duplication? Simply have nextPage() make an Ajax call to the href of the A tag (no need to specify the URL again), and get the new content. Then merge the new content into the existing page. More on this next time.
&lt;/p&gt;

&lt;blockquote&gt;I can't implement this feature without javascript. It's not possible.&lt;/blockquote&gt;

&lt;p&gt;
Typically these are UI tasks. For example, a &lt;a href="http://www.google.com/webhp?complete=1&amp;hl=en"&gt;Google suggest&lt;/a&gt; auto-complete. That drop down is flatly impossible without javascript, yes. But Google itself works just fine without this feature. This is graceful degradation. 
&lt;/p&gt;

&lt;blockquote&gt;Won't I end up writing two versions of the site, one with javascript, and one without? That's a lot of extra code.&lt;/blockquote&gt;

&lt;p&gt;
Not if you're smart about it. This is where Unobtrusive JavaScript comes in. Writing Ajax apps can actually be &lt;span style="font-style:italic;"&gt;easier&lt;/span&gt; with Unobtrusive JavaScript. Tune in next time for a practical discussion.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4915510021498029979/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/06/easier-development-with-unobtrusive.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4915510021498029979'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4915510021498029979'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/06/easier-development-with-unobtrusive.html' title='Easier Development with Unobtrusive JavaScript'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6205076033028941621</id><published>2009-06-12T13:31:00.002-04:00</published><updated>2009-06-12T23:30:45.046-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='hibernate'/><category scheme='http://www.blogger.com/atom/ns#' term='lucene'/><category scheme='http://www.blogger.com/atom/ns#' term='hibernate search'/><title type='text'>Hibernate Search - Shard Query Optimization</title><content type='html'>&lt;p&gt;
Hibernate Search shards allow you to break down your index data into separate Lucene directories. Typically, indexes would be broken down either into N equals chunks (using a hashing algorithm), or by some logical criteria (customer, location, etc). The former was done for performance; smaller indexes mean faster indexing. The later was typically done to make customers feel better.
&lt;/p&gt;

&lt;p&gt;
In my current project, we have another reason. We're breaking down indexes by customer, but for purely technical reasons. Separate indexes are more robust; if you have a fatal corruption of an index, now you only have to re-index a fraction of your data. The other is speed. Since there is no reason for searches to be cross-customer, why not take advantage of smaller indexes for query performance?
&lt;/p&gt;

&lt;p&gt;
Unfortunately, Hibernate Search defaults to searching ALL the shards, and then merging the result sets. While some of this can be done in parallel, in the end the search is much slower than before. While this strategy is necessary in the hashing case, it's needlessly wasteful in the customer case. 
&lt;/p&gt;

&lt;p&gt;
Granted, the customer case was definitely not the initial shard use case. But it did get enough demand to warrant a new JIRA issue, &lt;a href="http://opensource.atlassian.com/projects/hibernate/browse/HSEARCH-251"&gt;HSEARCH-251&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
I actually got to work with the Hibernate Search maintainers to provide this functionality. 
&lt;/p&gt;

&lt;pre&gt;
http://anonsvn.jboss.org/repos/hibernate/search/trunk
Revision: 16755
Author: epbernard
Date: 8:43:09 PM, Wednesday, June 10, 2009
Message:
HSEARCH-251 Query on a shard subset based on a filter activation
----
Modified : /search/trunk/src/main/docbook/en-US/modules/configuration.xml
Modified : /search/trunk/src/main/docbook/en-US/modules/query.xml
Modified : /search/trunk/src/main/java/org/hibernate/search/filter/ChainedFilter.java
Added : /search/trunk/src/main/java/org/hibernate/search/filter/FullTextFilterImplementor.java
Added : /search/trunk/src/main/java/org/hibernate/search/filter/ShardSensitiveOnlyFilter.java
Modified : /search/trunk/src/main/java/org/hibernate/search/query/FullTextFilterImpl.java
Modified : /search/trunk/src/main/java/org/hibernate/search/query/FullTextQueryImpl.java
Modified : /search/trunk/src/main/java/org/hibernate/search/store/IdHashShardingStrategy.java
Modified : /search/trunk/src/main/java/org/hibernate/search/store/IndexShardingStrategy.java
Modified : /search/trunk/src/main/java/org/hibernate/search/store/NotShardedStrategy.java
Modified : /search/trunk/src/test/java/org/hibernate/search/test/configuration/UselessShardingStrategy.java
Added : /search/trunk/src/test/java/org/hibernate/search/test/shards/CustomerShardingStrategy.java
Added : /search/trunk/src/test/java/org/hibernate/search/test/shards/CustomerShardingStrategyTest.java
&lt;/pre&gt;

&lt;p&gt;
You can download the latest build now, and give it a shot. Here is an example of how to use the new feature.
&lt;/p&gt;

&lt;p&gt;
Here is your entity, with the filter defined.
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
@Indexed(index="Email")
// this "impl" is only a flag, not the actual filter class
@FullTextFilterDef(name="shard", impl=ShardSensitiveOnlyFilter.class) 
public class Email {
...
&lt;/pre&gt;

&lt;p&gt;
Here is the filter.
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
public class ShardFilter {
  
    private Integer index;

    public void setIndex(Integer setIndex) {
        this.index = setIndex;
    }

    @Key
    public FilterKey getKey() {
        StandardFilterKey key = new StandardFilterKey();
        key.addParameter(index);
        return key;
    }

    @Factory
    public Filter getFilter() {        
  Query query = new TermQuery(new Term("index", index.toString()));
        return new CachingWrapperFilter(new QueryWrapperFilter(query));
    } 

}
&lt;/pre&gt;

&lt;p&gt;
Here is your indexing strategy, which implements the new method getDirectoryProvidersForQuer(). From here, you can define which shards a given Filter could possibly return data from.
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
public class SpecificShardingStrategy extends IdHashShardingStrategy { 

 @Override
 public DirectoryProvider&amp;lt;?&amp;gt;[] getDirectoryProvidersForQuery(FullTextFilterImplementor[] filters) {
    
  FullTextFilter filter = getFilter(filters, "shard");
  if (filter == null) {
   return getDirectoryProvidersForAllShards();
  }
  else {
   return new DirectoryProvider[] { getDirectoryProvidersForAllShards()[Integer.parseInt(filter.getParameter("index").toString())] };
  }
 }

 private FullTextFilter getFilter(FullTextFilterImplementor[] filters, String name) {
  for (FullTextFilterImplementor filter: filters) {
   if (filter.getName().equals(name)) return filter;
  }
  return null;
 } 

}
&lt;/pre&gt;

&lt;p&gt;
Finally, here is the actual search code.
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
FullTextSession fts = Search.getFullTextSession( s );
QueryParser parser = new QueryParser("id", new StopAnalyzer() );
FullTextQuery fullTextQuery = fts.createFullTextQuery( parser.parse( "body:message" ) );
fullTextQuery.enableFullTextFilter("shard").setParameter("index", 0);
&lt;/pre&gt;

&lt;p&gt;
Of course, there are many more ways to shard the cat. For example, the filter could be on customerID, region, etc. Thanks to the Hibernate Search team for incorporating my code!
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6205076033028941621/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/06/hibernate-search-shard-query.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6205076033028941621'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6205076033028941621'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/06/hibernate-search-shard-query.html' title='Hibernate Search - Shard Query Optimization'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6919021676096289051</id><published>2009-06-05T13:33:00.017-04:00</published><updated>2011-08-24T15:08:23.447-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='hibernate'/><category scheme='http://www.blogger.com/atom/ns#' term='lucene'/><category scheme='http://www.blogger.com/atom/ns#' term='hibernate search'/><title type='text'>Hibernate Search - Query API helper</title><content type='html'>&lt;blockquote&gt;If you are programmatically generating a query string and then parsing it with the query parser then you should seriously consider building your queries directly with the query API. In other words, the query parser is designed for human-entered text, not for program-generated text. - &lt;a href="http://lucene.apache.org/java/2_3_2/queryparsersyntax.html"&gt;Lucene Documentation&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;
In Hibernate Search, as in vanilla Lucene, when you create a query it's critically important to use the same Analyzer and Bridges that you used when indexing the fields. 
&lt;/p&gt;

&lt;p&gt;
Analyzers tokenize search strings into Terms. For example "a cool manager" might parse into "cool" and "manag". Notice that "manager" has been &lt;span style="font-style:italic;"&gt;stemmed &lt;/span&gt;into a shorter version. If you were to construct a Lucene query like "description:manager", it would not find any results. You could apply a tokenizer to the Lucene query string to correctly translate it, but that only works if all the fields in the query use the same Analyzer and are tokenized. Say you have a field isDeleted, that only has the un-tokenized values "true" and "false". If you run "+isDeleted:false +description:manager" through the Analyzer, you might get "+isDeleted:fals +description:manag" (not the missing "e" in false), which will not match anything.
&lt;/p&gt;

&lt;p&gt;
Bridges convert Objects into &lt;a href="http://en.wikipedia.org/wiki/Lexicographical_order"&gt;lexicographic&lt;/a&gt; text so that they can be indexed and used in range searches. Because everything is text in Lucene (and compared as text), you can't just put the value "1/1/2009" in for a date. If you did, when comparing values, Lucene would put "2/1/2008" &lt;span style="font-style:italic;"&gt;after&lt;/span&gt; "1/1/2009", instead of before. That's because it's comparing them as strings, left to right (just like "b" is greater than "a"). A typical bridge for dates might produce "20090101", which is lexicographically valid. When constructing queries, you obviously want to use the same bridges that you used to index the data.
&lt;/p&gt;

&lt;p&gt;
All of this should be taken as an argument for using the &lt;a href="http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/search/Query.html"&gt;Lucene Query API&lt;/a&gt; to construct your non-static queries. Take "+isDeleted:false +description:manag +dateAdded:[20090101 to 40000101]", for example. If you are relying on the user to hand-enter a query, how are they going to know to format dates like that, and to stem "manager" to "manag"? They won't, and even if they do, they will fuck it up. Similarly, if you generate this as a string in code, you will fuck it up.
&lt;/p&gt;

&lt;p&gt;
Instead, use the Lucene Query API, which has a primitive of Term and bunches them into Queries (like BooleanQuery, RangeQuery, etc). Unfortunately, Hibernate Search does not provide any tools to help you apply the Anaylzers and Bridges you defined in your entity annotations to a given Term. So you might end up writing code that looks like:
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
     BooleanQuery query = new BooleanQuery();
     Analyzer analyzer = new StandardAnalyzer();     
     TokenStream tokenStream = analyzer.tokenStream("description", new StringReader("cool manager"));
     
     Token token = new Token();
     token = tokenStream.next(token);
     
     while (token != null) {
      if (token.termLength() &amp;gt; 0) {
       String term = new String(token.termBuffer(), 0, token.termLength());
       query.add(new TermQuery(new Term("description", term)), BooleanClause.Occur.MUST);       
      }
      token = tokenStream.next(token);
     }

     DateBridge dateBridge = new DateBridge();
     Map params = new HashMap();
     params.put("resolution", "day");
     dateBridge.setParameterValues(params);
     RangeQuery dateAdded = new RangeQuery(
          new Term("dateAdded", dateBridge.objectToString(new GregorianCalendar(2009, Calendar.MARCH, 1).getTime())),
          new Term("dateAdded", dateBridge.objectToString(new GregorianCalendar(3000, Calendar.JANUARY, 1).getTime())),
          true
      ); 
     
     query.add(new BooleanClause(dateAdded, BooleanClause.Occur.MUST));
&lt;/pre&gt;

&lt;p&gt;
While it's pretty verbose, the &lt;span style="font-style:italic;"&gt;real &lt;/span&gt;problem with the above is that it violates &lt;a href="http://en.wikipedia.org/wiki/Don%27t_repeat_yourself"&gt;DRY&lt;/a&gt;. You have to repeat the mappings you made in your annotations as to which Analyzers and Bridges you want to us. Wouldn't it be nice if there was some code to do this for you?
&lt;/p&gt;

&lt;p&gt;
Using reflection, I came up with a utility class that can get the correct Analyzers and Bridges at runtime, letting you write code that looks like:
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
 BooleanQuery comments = SearchUtil.createQuery(
  Note.class, 
  "comments", 
  "packaging c++ in 1947 hot/cold foo:bar", 
  BooleanClause.Occur.MUST
  );   

 RangeQuery dateRange = SearchUtil.createRangeQuery(
   Note.class, 
   "dateAdded", 
   new GregorianCalendar(2009, Calendar.MARCH, 1).getTime(),
   new GregorianCalendar(3000, Calendar.JANUARY, 1).getTime()
   );

 BooleanQuery query = SearchUtil.createQuery(
   Note.class, 
   "isDeleted", 
   "false", 
   BooleanClause.Occur.MUST
   );      

 query.add(new BooleanClause(comments, BooleanClause.Occur.MUST));
 query.add(new BooleanClause(dateRange, BooleanClause.Occur.MUST));
&lt;/pre&gt;

&lt;p&gt;
You can &lt;a href="http://dl.dropbox.com/u/422013/bitkickers/SearchUtil.zip"&gt;download the code for SearchUtil&lt;/a&gt; here. &lt;span style="font-style:italic;"&gt;Note: I ripped this out of my project w/o changing packages, etc. You'll have to clean it up a little.&lt;/span&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6919021676096289051/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/06/hibernate-search-query-api-helper.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6919021676096289051'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6919021676096289051'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/06/hibernate-search-query-api-helper.html' title='Hibernate Search - Query API helper'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-820642079184058228</id><published>2009-05-26T16:22:00.007-04:00</published><updated>2009-05-29T19:48:40.080-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>ColdFusion whitespace</title><content type='html'>&lt;p&gt;
Quick hit today. Somehow I went six years working with ColdFusion without knowing that functions implicitly output anything inside them, including whitespace! For example, say you have the following function in english.cfc:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
    &amp;lt;CFFUNCTION name="getHint"&amp;gt;  
        &amp;lt;CFRETURN "Available only in Professional Edition."&amp;gt;
    &amp;lt;/CFFUNCTION&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
And you call it from a template like so:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
    &amp;lt;cfobject component="english" name="localise"&amp;gt;
    &amp;lt;input type="Button" title="#localise.getHint()#"&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
The actual out will be:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
    &amp;lt;input type="Button" title="
        Available only in Professional Edition."&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
See, it's rendering the whitespace from inside the function, ie the linebreak after &amp;lt;CFFUNCTION&amp;gt; and the tab before &amp;lt;CFRETURN&amp;gt;. It only gets worse as the function gets longer. What you need to do is pass the attribute output="false" to the CFFUNCTION definition. 
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
    &amp;lt;CFFUNCTION name="getHint" output="false"&amp;gt;  
        &amp;lt;CFRETURN "Available only in Professional Edition."&amp;gt;
    &amp;lt;/CFFUNCTION&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Now, I just need to find out how to make that the default...
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/820642079184058228/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/05/coldfusion-whitespace.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/820642079184058228'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/820642079184058228'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/05/coldfusion-whitespace.html' title='ColdFusion whitespace'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3973502092880506454</id><published>2009-05-13T13:12:00.006-04:00</published><updated>2009-05-13T15:04:09.929-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>NetBIOS Naming Service + lmhosts</title><content type='html'>&lt;p&gt;
Recently, I have been working on a project using &lt;a href="http://www.alfresco.com/products/aifs/"&gt;Alfresco JLAN&lt;/a&gt; to simulate a Windows &lt;a href="http://en.wikipedia.org/wiki/Server_Message_Block"&gt;CIFS&lt;/a&gt; (aka Samba) share in Java. Not being able to (easily) replace the entire Windows file sharing stack, it instead advertises its virtual host name via a Win32 API call to the NetBIOS Naming Service.
&lt;/p&gt;

&lt;p&gt;
From the &lt;a href="http://en.wikipedia.org/wiki/NetBIOS_over_TCP/IP#Name_service"&gt;NetBIOS Wikipedia entry&lt;/a&gt;:
&lt;/p&gt;

&lt;blockquote&gt;In NetBIOS, each participant must register on the network using a unique name of at most 16 characters. In legacy networks, when a new application wanted to register a name, it had to broadcast a message saying "Is anyone currently using that name?" and wait for an answer. If no answer came back, it was safe to assume that the name was not in use. However, the wait timeout was a few seconds, making the name registration a very lengthy process, as the only way of knowing that a name was not registered was to not receive any answer.&lt;/blockquote&gt;

&lt;p&gt;
When attempting to roll it out to production, we ran into an interesting issue. Unlike our QA system, production has multiple &lt;a href="http://en.wikipedia.org/wiki/Subnetwork"&gt;IP subnets&lt;/a&gt;. When the NetBIOS broadcast goes out, it only gets broadcast to the local subnet. As a result, only systems on that subnet can address it by name. We actually broke out &lt;a href="http://www.wireshark.org/"&gt;Wireshark&lt;/a&gt; on both the server and the client side to verify that yes, indeed, the broadcasts were not seen on the remote subnet(s):
&lt;/p&gt;

&lt;a href="http://picasaweb.google.com/lh/photo/kMMnxHFFTMZuEZd2J3NOmA?feat=directlink"&gt;&lt;img src='http://lh3.ggpht.com/_EE2zVzGv1Ds/SgsYqkG5NOI/AAAAAAAAIC0/xGLqkNcNgZo/s800/wireshark_netbios.gif'&gt;&lt;/a&gt;

&lt;p&gt;
This actually makes perfect sense, but not being involved in the day-to-day networking in the office, it took me a while to see why. One of the purposes of the subnets is to reduce broadcast traffic; allowing an overly chatty network can lead to congestion. And while there are &lt;a href="http://routergod.com/trinity/"&gt;router-level solutions&lt;/a&gt; to let certain broadcasts cross subnets, those are something of a maintenance nightmare. 
&lt;/p&gt;

&lt;p&gt;
A simple solution turned out to be the Windows &lt;a href="http://en.wikipedia.org/wiki/LMHOSTS"&gt;lmhosts&lt;/a&gt; file. It works like the regular hosts file, but ties NetBIOS (versus DNS) names to IP addresses. By manually configuring the mapping in this file on the client(s), we can side-step the whole broadcast/subnet issue. Just remember to rename the file from lmhosts.sam to just lhmosts.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3973502092880506454/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/05/netbios-naming-service-lmhosts.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3973502092880506454'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3973502092880506454'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/05/netbios-naming-service-lmhosts.html' title='NetBIOS Naming Service + lmhosts'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_EE2zVzGv1Ds/SgsYqkG5NOI/AAAAAAAAIC0/xGLqkNcNgZo/s72-c/wireshark_netbios.gif' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6475966671057300901</id><published>2009-05-08T14:32:00.016-04:00</published><updated>2009-05-08T15:14:14.033-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Ruby on Rails - First Impressions</title><content type='html'>&lt;p&gt;
I've started playing around with Ruby on Rails. Maybe it was my recent experience with Python, which has a similar syntax to Ruby. Perhaps it's because I keep hearing how you can get a fully working site up in just minutes. Maybe I'm just bored.
&lt;/p&gt;

&lt;p&gt;
Going into it, I had some preconceptions about Ruby on Rails above and beyond the &lt;a href="http://www.loudthinking.com/posts/29-the-rails-myths"&gt;common myths&lt;/a&gt;.
 &lt;ul&gt;
   &lt;li&gt;It's easy to get started, but gets complicated quickly.&lt;/li&gt;
   &lt;li&gt;It's hard to scale.&lt;/li&gt;
   &lt;li&gt;The documentation sucks.&lt;/li&gt;
 &lt;/ul&gt;
&lt;p&gt;

&lt;p&gt;
Installation was daunting at first. I had bought a copy of &lt;a href="http://oreilly.com/catalog/9780596518776/"&gt;Learning Rails&lt;/a&gt; (just $15 on the Kindle), which presented three different options. Having seen some screencast tutorials, I knew that Rails was very Mac centric. My first install via apt-get on Ubuntu was a breeze. Subsequent install on Windows using InstantRails was dead simple.
&lt;/p&gt;

&lt;p&gt;
At home, I first tried Eclipse (Ganymede) w/ the dynamic language plug-in. I also tried NetBeans (having never used it before), which I found to be far superior for Rails. The auto-completion just works, and it supports all the various files types that Rails uses. I wasn't able to get the debugger Firefox plug-in working, however. 
&lt;/p&gt;

&lt;p&gt;
The Ruby language itself is right up my alley. Being at one with the concept of &lt;a href="http://steve-yegge.blogspot.com/2007/12/codes-worst-enemy.html"&gt;code is the enemy&lt;/a&gt;, I appreciate the brevity of the syntax. Stylistically, it's a lot like Python, which I have recently come to adore. Having worked in jQuery/Prototype a lot recently, I absolutely love the support for &lt;a href="http://en.wikipedia.org/wiki/Anonymous_function"&gt;lambdas&lt;/a&gt; and the fact that hashes are primitives (and used a LOT in the APIs for parameter passing).
&lt;/p&gt;

&lt;p&gt;
Example:
&lt;pre name="code" class="ruby"&gt;
    @chart = Gchart.line(
      :format =&amp;gt; 'image_tag',
      :size =&amp;gt; '500x300',
      :title =&amp;gt; 'Weight (lbs)',
      #:bg =&amp;gt; 'white',
      #:legend =&amp;gt; ['first data set label', 'second data set label'],
      #:line_colors =&amp;gt; '76A4FB',
      :data =&amp;gt; weights,
      :axis_with_labels =&amp;gt; ['x','r'],
      :axis_labels =&amp;gt; [dates.join('|'), "#{min}|#{max}" ]
    )
&lt;/pre&gt;
&lt;/p&gt;

&lt;p&gt;
However, my absolute best discovery about Rails so far is the MVC model. Their implementation is simple, and easy to use. Providing a language level syntax for variables from the controller to automatically be in the scope of the view was brilliant. The model itself has class level declarations for input validation, which means that your methods don't get crowded with validation code. I'm not sure I'm crazy about the level of formatting logic that can be present in the view, but I suppose that's a necessary evil.
&lt;/p&gt;

&lt;p&gt;
The Rails concept of &lt;a href="http://en.wikipedia.org/wiki/Convention_over_Configuration"&gt;configuration by convention&lt;/a&gt; I find to be very powerful, while at times cryptic. But in the war against code size, it's a killer weapon. Somewhere down the line I may get frustrated with the fact that some level of naming discretion it taken away from the developer. On the other hand, I have come to love Python's "whitespace is not a style choice" approach. I sense this might be the case here, as well.
&lt;/p&gt;

&lt;p&gt;
Documentation, as promised, is spotty. While the &lt;a href="http://railscasts.com/"&gt;plethora of video tutorials&lt;/a&gt; are great for getting started, I'm not sure how useful they are for trouble-shooting specific issues. Various blogs seem to be the best bet, but very often the information there is out-dated, and may not even work in the current version of Rails. On the other hand, in NetBeans I find it fairly easy to discover the correct API calls/syntax, and being able to see the actual code behind the Rails API right in your IDE is always a huge help.
&lt;/p&gt;

&lt;p&gt;
Post-conceptions:
 &lt;ul&gt;
   &lt;li&gt;The Rails community is very mac heavy, but getting up and running on Linux/Windows was easy.&lt;/li&gt;
   &lt;li&gt;The language and framework are ultra-modern, in a good way.&lt;/li&gt;
   &lt;li&gt;The documentation sucks. Do yourself a favor a buy a book.&lt;/li&gt;
 &lt;/ul&gt;
&lt;p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6475966671057300901/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/05/ruby-on-rails-first-impressions.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6475966671057300901'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6475966671057300901'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/05/ruby-on-rails-first-impressions.html' title='Ruby on Rails - First Impressions'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5565853606508602305</id><published>2009-05-01T11:24:00.005-04:00</published><updated>2009-05-01T14:09:45.914-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Greasemonkey + Blogger HTML encode selection</title><content type='html'>&lt;p&gt;
Quick hit this week. Here is a &lt;a href="https://addons.mozilla.org/en-US/firefox/addon/748"&gt;Greasemonkey&lt;/a&gt; script I've been using for a few months. It adds a new button to your Blogger post editor which allows you to HTML encoded any selected text. This is useful if you include a lot of code examples in your blog. &lt;a href="http://userscripts.org/scripts/show/42696"&gt;Download&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
// ==UserScript==
// @name           Blogger - HTML encode on post edit
// @namespace      com.bitkickers
// @namespace      http://bitkickers.blogspot.com/
// @include        http*://www.blogger.com/post-*.g?*
// @require     http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js
// ==/UserScript==

function addButton() {

   $("#postButtons").append($("&amp;lt;div dir=\"ltr\" class=\"cssButtonSize-small cssButtonSide-left\"&amp;gt;&amp;lt;div class=\"cssButtonColor-blue\"&amp;gt;&amp;lt;a href=\"#\" class=\"cssButton\" id=\"encodeButton\"&amp;gt;&amp;lt;div class=\"cssButtonOuter\"&amp;gt;&amp;lt;div class=\"cssButtonMiddle\"&amp;gt;&amp;lt;div class=\"cssButtonInner\"&amp;gt;HTML Encode Selection&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;"));

   $("#encodeButton").click(encode);
}

function encode() {

   var editBox = $("#textarea")[0];
   if (typeof(editBox) != "undefined") {
      var originalScrollHeight = editBox.scrollTop;
      var selectedText = editBox.value.substring(editBox.selectionStart, editBox.selectionEnd);
      if (selectedText != "") {
         editBox.value = 
                  editBox.value.substring(0, editBox.selectionStart)
  + escapeHTML(selectedText)
                + editBox.value.substring(editBox.selectionEnd)
         editBox.scrollTop = originalScrollHeight;
      }
   }
}

function escapeHTML(str){
   var div = document.createElement('div');
   var text = document.createTextNode(str);
   div.appendChild(text);
   return div.innerHTML;
};

addButton();
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/5565853606508602305/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/05/greasemonkey-blogger-html-encode.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5565853606508602305'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/5565853606508602305'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/05/greasemonkey-blogger-html-encode.html' title='Greasemonkey + Blogger HTML encode selection'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4618213533564256044</id><published>2009-04-23T12:42:00.009-04:00</published><updated>2009-05-01T11:25:14.209-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><title type='text'>The case of the OOM Killer</title><content type='html'>&lt;blockquote&gt;An aircraft company discovered that it was cheaper to fly its planes with less fuel on board. The planes would be lighter and use less fuel and money was saved. On rare occasions however the amount of fuel was insufficient, and the plane would crash. This problem was solved by the engineers of the company by the development of a special OOF (out-of-fuel) mechanism. In emergency cases a passenger was selected and thrown out of the plane. (When necessary, the procedure was repeated.) A large body of theory was developed and many publications were devoted to the problem of properly selecting the victim to be ejected. Should the victim be chosen at random? Or should one choose the heaviest person? Or the oldest? Should passengers pay in order not to be ejected, so that the victim would be the poorest on board? And if for example the heaviest person was chosen, should there be a special exception in case that was the pilot? Should first class passengers be exempted? Now that the OOF mechanism existed, it would be activated every now and then, and eject passengers even when there was no fuel shortage. The engineers are still studying precisely how this malfunction is caused. - &lt;a href="http://lwn.net/Articles/104179/"&gt;Andries Brouwer&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;
If you have experience configuring desktops or servers, you have probably heard various &lt;a href="http://www.linux.com/feature/121916"&gt;rules of thumb&lt;/a&gt; about page (aka swap) files. Various sources will say that you need to reserve 1.5, 2 or 4 times the physical RAM capacity. However, rarely is an actual reason given for this rule of thumb.
&lt;/p&gt;

&lt;p&gt;
Recently, I was trouble-shooting an out of memory exception on a production server. The server in question has 64GB of RAM, 30GB of which is dedicated to a particular JVM, and 20GB to another JVM. I could see that the available physical memory never dipped bellow 10GB. The stack trace on the exception pointed to a &lt;a href="http://java.sun.com/developer/JDCTechTips/2003/tt0304.html"&gt;Runtime.exec&lt;/a&gt;() call, which is basically forking off a small process. In this case, it was a simple bash script. How could that be throwing an out of memory exception?
&lt;/p&gt;

&lt;img src="http://i6.photobucket.com/albums/y208/bastard_king/LolCatRenderer2.jpg" style="float: right; margin: 10px;"/&gt;

&lt;p&gt;
It turns out that on Linux, Java's exec() actually uses the system calls for fork() and exec(). Essentially, it creates a copy of the current process, and then quickly changes the context of that process to be the new executable. The &lt;a href="http://kerneltrap.org/node/3116"&gt;problem&lt;/a&gt; is that when the fork initially happens, the new process fires up and requests the same 30GB memory quota that the parent had! Even though it never uses that much memory (in fact, it never uses more than a few hundred KB), the operating system still tries to guarantee that it could theoretically allocate that much.
&lt;/p&gt;

&lt;p&gt;
Various other OSes have provided &lt;a href="http://developers.sun.com/solaris/articles/subprocess/subprocess.html#impl"&gt;alternate system calls&lt;/a&gt; to work-around this problem. On Linux, the work-around is a kernel parameter "overcommit_memory=2". This changes the behavior of malloc() to always report that there is plenty of memory available. If you run out of memory, the system then unleahses the "&lt;a href="http://linux-mm.org/OOM_Killer"&gt;OOM Killer&lt;/a&gt;" to terminate random processes.
&lt;/p&gt;

&lt;p&gt;
In my case, there is a safer solution. We simply upped the swap file size from 2GB to 64GB. That way, even if a single process was taking all 64GB of RAM, it would be able to fork without running out of memory. So, here is MY rule of thumb: a Linux swap file should be at least the size of the physical memory. This is true even for servers with ridiculous amounts of physical RAM.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4618213533564256044/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/04/case-of-oom-killer.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4618213533564256044'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4618213533564256044'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/04/case-of-oom-killer.html' title='The case of the OOM Killer'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1864829035750576659</id><published>2009-04-17T14:07:00.009-04:00</published><updated>2009-05-01T11:25:20.104-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='sql'/><title type='text'>Mixing and matching implicit and explicit JOINs</title><content type='html'>&lt;p&gt;
Back in the caveman days, there was only one way to JOIN tables in a SQL query. Now, we refer to this as "table list", "theta" or simply "implicit" JOIN syntax:
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
 SELECT e1.name,
        e2.name,
        e1Manager.name
   FROM Employee e1,
        Employee e2,
        Employee e1Manager
  WHERE e1.managerEmployeeID = e1Manager.employeeID
&lt;/pre&gt;

&lt;p&gt;
There are a few problems with this syntax. For one, it makes it easy to forgot your WHERE clauses, which could lead to an exponentially larger result set that you were expecting. This is due to the default JOIN behavior resulting a &lt;a href="http://en.wikipedia.org/wiki/Cartesian_product"&gt;Cartesian product&lt;/a&gt;. Also, it does not make it easy to see which filter clauses go with which tables. Lastly, it does not allow &lt;a href="http://en.wikipedia.org/wiki/Join_(SQL)#Outer_joins"&gt;OUTER JOINs&lt;/a&gt;.
&lt;/p&gt;

&lt;blockquote&gt;An outer join does not require each record in the two joined tables to have a matching record. The joined table retains each recordeven if no other matching record exists. Outer joins subdivide further into left outer joins, right outer joins, and full outer joins, depending on which table(s) one retains the rows from (left, right, or both).&lt;/blockquote&gt;

&lt;p&gt;
Once these deficiencies were realized, they were corrected in the &lt;a href="http://en.wikipedia.org/wiki/SQL-92"&gt;SQL-92&lt;/a&gt; standard. That's why the current best practice is to use explicit JOIN syntax:
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
 SELECT e1.name,
        e2.name,
        e1Manager.name
   FROM Employee e1
  CROSS JOIN Employee e2
  INNER JOIN Employee e1Manager
     ON e1.managerEmployeeID = e1Manager.employeeID
&lt;/pre&gt;

&lt;p&gt;
However, what would happen if you tried to mix and match implicit and explicit JOINs? I recently found out, thanks to an &lt;a href="http://opensource.atlassian.com/projects/hibernate/browse/HHH-3388"&gt;open bug&lt;/a&gt; in &lt;a href="http://www.hibernate.org"&gt;Hibernate&lt;/a&gt;. Say your witless Hibernate layer generates the following SQL:
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
 SELECT e1.name, 
        e2.name, 
        e1Manager.name
   FROM Employee e1,
        Employee e2
  INNER JOIN Employee e1Manager 
     ON e1.managerEmployeeID = e1Manager.employeeID
&lt;/pre&gt;

&lt;p&gt;
I can't tell for certain whether this is technically invalid SQL. What I can tell you is that it blows up spectacularly in Microsoft SQL (2000/2008) and MySQL.
&lt;/p&gt;

&lt;blockquote&gt;The column prefix 'e1' does not match with a table name or alias name used in the query. -MS SQL 2000&lt;/blockquote&gt;
&lt;blockquote&gt;Unknown column 'e1.managerEmployeeID' in 'on clause'. -MySQL&lt;/blockquote&gt;

&lt;p&gt;
Sorry, no real solution at the moment. I'm off to write a one-off JDBC implementation for this data access object... If you want to experience the pain yourself, you can setup these toy tables with the following SQL:
&lt;/p&gt;

&lt;pre name="code" class="sql"&gt;
 CREATE TABLE Employee (
  employeeID INT,
  name VARCHAR(255),
  managerEmployeeID INT 
 )

 INSERT INTO Employee (employeeID, name) VALUES (1, 'Gary')
 INSERT INTO Employee (employeeID, name, managerEmployeeID) VALUES (2, 'Bob', 1)
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1864829035750576659/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/04/mixing-and-matching-implicit-and.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1864829035750576659'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1864829035750576659'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/04/mixing-and-matching-implicit-and.html' title='Mixing and matching implicit and explicit JOINs'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8115117722734999786</id><published>2009-04-10T10:23:00.008-04:00</published><updated>2009-05-01T11:25:29.510-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><category scheme='http://www.blogger.com/atom/ns#' term='regex'/><title type='text'>Java replaceAll() File.separator</title><content type='html'>&lt;p&gt;
When dealing with file paths, it's not uncommon to construct a path where the file separators are missing or duplicated. Ie, instead of c:\temp\test.txt, you end up with c:\temp\\test.txt, etc. The real solution I suppose is to be meticulous about constructing the path, but in this case I found myself implementing a method to strip duplicate separators.
&lt;/p&gt;

&lt;p&gt;
Using &lt;a href="http://www.regexbuddy.com/"&gt;RegexBuddy&lt;/a&gt;, I came up with a regex to match duplicate Windows and/or Unix file separators, unless they are at the start of the string. Ie, in Windows, \\server\share\file is a valid path, not a duplicate separator. My solution uses &lt;a href="http://www.regular-expressions.info/lookaround.html"&gt;negative look-behind&lt;/a&gt;.
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
 protected static String stripRedundantSeparators(String path) {
  return path.replaceAll("(?&amp;lt;!^)(\\\\|/){2,}", File.separator);  
 }
&lt;/pre&gt;

&lt;p&gt;
However, my unit test threw a StringIndexOutOfBoundsException. Messing around with it, I came up with the following working code. 
&lt;/p&gt;


&lt;pre name="code" class="java"&gt;
 protected static String stripRedundantSeparators(String path) {
  return path.replaceAll("(?&amp;lt;!^)(\\\\|/){2,}", "@").replace("@".charAt(0), File.separatorChar);  
 }
&lt;/pre&gt;

&lt;p&gt;
What I found was that File.separator was an invalid replacement string in the regular expression version or replaceAll(), but not in the regular string or char versions of replace(). Looking at the &lt;a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)"&gt;documentation for replaceAll()&lt;/a&gt; revealed the problem.
&lt;/p&gt;

&lt;blockquote&gt;Note that backslashes (\) and dollar signs ($) in the replacement string may cause the results to be different than if it were being treated as a literal replacement string; see Matcher.replaceAll. Use Matcher.quoteReplacement(java.lang.String) to suppress the special meaning of these characters, if desired. &lt;/blockquote&gt;

&lt;span style="font-style:italic;"&gt;Note: this is only documented as of Java 1.6+.&lt;/span&gt;

&lt;p&gt;
Well, what a waste of 30 minutes. Here is the final code.
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
 protected static String stripRedundantSeparators(String path) {
  return path.replaceAll("(?&amp;lt;!^)(\\\\|/){2,}", Matcher.quoteReplacement(File.separator));
 }
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8115117722734999786/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/04/java-replaceall-fileseparator.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8115117722734999786'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8115117722734999786'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/04/java-replaceall-fileseparator.html' title='Java replaceAll() File.separator'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6215603565722325258</id><published>2009-04-01T10:49:00.009-04:00</published><updated>2009-05-01T11:25:35.889-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><category scheme='http://www.blogger.com/atom/ns#' term='ant'/><title type='text'>Ant java.library.path</title><content type='html'>&lt;p&gt;
Maybe this will save someone an hour... to set java.library.path from inside an ANT Java task, you need to set the parameter fork="true".
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
    &amp;lt;target name="run" depends="deploy"&amp;gt;
       &amp;lt;java dir="${jlan}" classname="org.alfresco.jlan.app.JLANServer" fork="true"&amp;gt;
         &amp;lt;arg value="${jlan}/jlanConfig.xml"/&amp;gt;
         &amp;lt;sysproperty key="java.library.path" path="${jlan}/jni"/&amp;gt;
         &amp;lt;classpath&amp;gt;
            &amp;lt;filelist dir="${jlan}"&amp;gt;
                &amp;lt;file name="jars/alfresco-jlan.jar" /&amp;gt;
                &amp;lt;file name="libs/cryptix-jce-provider.jar" /&amp;gt;
                &amp;lt;file name="service/wrapper.jar" /&amp;gt;
                &amp;lt;file name="libs/bullhorn-virtualfs-0.1.jar" /&amp;gt;
                &amp;lt;file name="libs/log4j-1.2.14.jar" /&amp;gt;
            &amp;lt;/filelist&amp;gt;
         &amp;lt;/classpath&amp;gt;
      &amp;lt;/java&amp;gt;
    &amp;lt;/target&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
The reason seems to be that ANT does not allow you to reset a property. Once it's set, that's it. Of course, the ant task has its own java.library.path already, so manually setting it will be ignored. The fork is kind of a hack, by forcing a new process, you get clean system variables.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6215603565722325258/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/04/ant-javalibrarypath.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6215603565722325258'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6215603565722325258'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/04/ant-javalibrarypath.html' title='Ant java.library.path'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-424931975881476491</id><published>2009-03-26T12:52:00.015-04:00</published><updated>2009-03-26T14:01:05.392-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>OpenOffice Draw vs Visio</title><content type='html'>&lt;p&gt;
In an effort to get off of Microsoft Office, I have been trying to use alternatives instead. &lt;a href="http://www.openoffice.org/"&gt;OpenOffice&lt;/a&gt; Writer and Calc have been very competent substitutes for Word and Excel. But, every once in a while, I need to make some diagrams for a feature spec. Would &lt;a href="http://www.openoffice.org/product/draw.html"&gt;OpenOffice Draw&lt;/a&gt; work instead of &lt;a href="http://office.microsoft.com/en-us/visio/default.aspx"&gt;Visio&lt;/a&gt;? 
&lt;/p&gt;

&lt;p&gt;

&lt;a href='http://picasaweb.google.com/lh/photo/4U_AalQ-AOfTha849oQWkg?feat=directlink'&gt;&lt;img src='http://lh3.ggpht.com/_EE2zVzGv1Ds/Scu098AUfuI/AAAAAAAAIBk/_-Vd5sDx8sk/s200/Bullhorn%20Mail%20Flow%2002.14.06a.jpg' style='margin: 20px; float:left;'&gt;&lt;/a&gt; 

A typical Visio I might produce is a collection of clip art, shapes, text, connectors and arrows. The diagrams themselves might be anything from how SMTP traffic flows from our system, over the WAN and back again, to data-center architecture, to the internal workings of a particular piece of code. They may even include UML.

&lt;/p&gt;

&lt;p&gt;

&lt;a href='http://picasaweb.google.com/lh/photo/ANRiscFLJwjfM8v_4x4bIQ?feat=directlink'&gt;&lt;img src='http://lh3.ggpht.com/_EE2zVzGv1Ds/Scu5a-eEnvI/AAAAAAAAIBs/lxoGG_XZGXo/s200/OpenClipArt.gif' style='margin: 20px; float:right;'&gt;&lt;/a&gt; 

Visio comes with a clip art library that includes various depictions of servers, routers, networks, etc. By default, OpenOffice has a very limited library. However, there is a great royalty free library available called &lt;a href="http://www.openclipart.org/"&gt;Open Clip Art&lt;/a&gt;. It's somewhat of a pain to install on Windows, but it was dead simple in Ubuntu; just search for "clip art" in the package manager GUI.

&lt;/p&gt;

&lt;p&gt;

&lt;a href='http://picasaweb.google.com/lh/photo/b8j9ocWxPU5bWT3P7dGtfA?feat=directlink'&gt;&lt;img src='http://lh5.ggpht.com/_EE2zVzGv1Ds/Scu8CdkAYcI/AAAAAAAAIB0/bXj5om4gaME/s200/Samba%20Server.png' style='margin: 20px; float:left;'&gt;&lt;/a&gt; 

Actually using OpenOffice Draw was a blast. It just feels like a modern, intuitive application. Granted, I'm not a Visio power user, but I'm hard pressed to find anything that Visio does that OpenOffice doesn't do. Draw even has some of its own features, like exporting to PDF. Oh, did I mention it was free?

&lt;/p&gt;

&lt;p&gt;

&lt;a href='http://picasaweb.google.com/lh/photo/hsdWKU3wBpdX9o9wN42mDQ?feat=directlink'&gt;&lt;img src='http://lh6.ggpht.com/_EE2zVzGv1Ds/Scu8rw3_wGI/AAAAAAAAIB8/N6CWVzj6B-4/s200/Samba%20Server%20UML.png' style='margin: 20px; float:right;'&gt;&lt;/a&gt; 

In the end, I was totally satisfied with what I produced in OpenOffice Draw. While neither Visio or OpenOffice try to tackle UML diagrams, I was able to throw some together in &lt;a href="http://projects.gnome.org/dia/"&gt;Dia&lt;/a&gt;, and them import them into Draw.

&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/424931975881476491/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/03/openoffice-draw-vs-visio.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/424931975881476491'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/424931975881476491'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/03/openoffice-draw-vs-visio.html' title='OpenOffice Draw vs Visio'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_EE2zVzGv1Ds/Scu098AUfuI/AAAAAAAAIBk/_-Vd5sDx8sk/s72-c/Bullhorn%20Mail%20Flow%2002.14.06a.jpg' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8400573909419044752</id><published>2009-03-20T12:53:00.012-04:00</published><updated>2009-03-20T15:28:21.730-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>My two weeks in QA</title><content type='html'>&lt;blockquote&gt;
We all tend to tie our self-esteem strongly to the quality of the product we produce - not the quantity of the product, but the quality. [Lister, DeMarco: "Peopleware"]
&lt;/blockquote&gt;

&lt;p&gt;
For the last two weeks (equal to one &lt;a href="http://en.wikipedia.org/wiki/Scrum_(development)"&gt;sprint&lt;/a&gt;), I have been working in a QA role. Ever since laying off some QA people several sprints ago, we have been falling behind in our work. This time, it was decided that it was worth it to have one developer essentially be a QA person. Me.
&lt;/p&gt;

&lt;p&gt;
Now, I have never done QA per say. I have tested my own code. I even answered support phones years ago. But never having played this explicit role before, I wasn't quite sure what to expect. Going into it, my definition of what a QA person does would have been:
&lt;/p&gt;

&lt;ul&gt;
   &lt;li&gt;Think about how the product is supposed to work, and document as many cases as possible.&lt;/li&gt;
   &lt;li&gt;Think about how the product could &lt;span style="font-weight:bold;"&gt;break&lt;/span&gt;, and document as many cases as possible. &lt;/li&gt;
   &lt;li&gt;Run through all your cases to see which if it's working the way it should, and not breaking in the ways you can think of.&lt;/li&gt;
   &lt;li&gt;Communicate with the developer(s).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
Before this, if I had to break it down, I would have said that QA people spend 10% of their time writing test cases, and 90% executing the test cases.
&lt;/p&gt;

&lt;p&gt;
Having done QA for just a week, it's clear to me that at least where I work, QA people spend 10% of their time coming up with test cases, 10% running test cases and 40% talking to developers and product owners. The other 50% is lost doing mundane tasks like building and deploying, and getting sniped to work on unrelated stuff.
&lt;/p&gt;

&lt;p&gt;
For the first three days, I did nothing but come up with test cases and talk to other people about possible test cases. Lots of looking at the existing code to figure out possible ways to break it. Lots of conference calls.
&lt;/p&gt;

&lt;/p&gt;
After that, every day pretty much looked like the following:
&lt;/p&gt;

&lt;ul&gt;
   &lt;li&gt;9 AM - Download latest code, build, deploy&lt;/li&gt;
   &lt;li&gt;9:15 AM - Get the deploy actually working, usually involving new config, sometimes involving talking to developers.&lt;/li&gt;
   &lt;li&gt;10 AM - Run the test cases.&lt;/li&gt;
   &lt;li&gt;11 AM - Talk to developers about what is broken, what new test cases then have run into, what acceptance criteria they think will have to change.&lt;/li&gt;
   &lt;li&gt;1 PM - Document new test cases&lt;/li&gt;
   &lt;li&gt;2 PM - Talk to product owner about changes to acceptance criteria.&lt;/li&gt;
   &lt;li&gt;3 PM - Work on unrelated stuff.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
Percentage of my day running test cases: 12%, max.
&lt;/p&gt;

&lt;p&gt;
On the other hand, I was still playing a vital role in the feature. There is no question that without all the conversation around change management, we never would have delivered it on time. I guess what I learned is that a QA person spends a lot of their time making life easier for the developers. And, a lot of that doesn't directly relate to catching bugs.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8400573909419044752/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/03/my-two-weeks-in-qa.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8400573909419044752'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8400573909419044752'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/03/my-two-weeks-in-qa.html' title='My two weeks in QA'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6620942986711317490</id><published>2009-03-13T15:36:00.026-04:00</published><updated>2009-03-13T16:55:26.241-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>MS SMTP Pickup Doesn't Strip BCC</title><content type='html'>&lt;blockquote&gt;
...when a message containing a "Bcc:" field is prepared to be sent, the "Bcc:" line is removed even though all of the recipients (including those specified in the "Bcc:" field) are sent a copy of the message. &lt;a href="http://www.faqs.org/rfcs/rfc2822.html"&gt;[RFC2822]&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
When I first started at my current job in 2003, the email system was in a dire state. My first six months were spent reinventing how we handled email with our web application, both inbound and outbound. Since that time, we have scaled up from handling less than 50,000 messages a day, to over three million.
&lt;/p&gt;

&lt;p&gt;
A few years later, Gmail was really starting to take off. Once they gained a foothold in the business world, a fairly egregious problem came to my attention. It seemed that every email that was BCCed from our system into Gmail was actually showing the BCC recipients in Gmail. Basically, this turned BCC into an unwitting CC. Customers were generally bemused, but it was actually a rather large security issue.
&lt;/p&gt;

&lt;p&gt; 
It turns out that the problem wasn't specifically related to Gmail. A little investigation revealed that email was actually leaving our system with the BCC header on it. Virtually any email client allows you to view email headers, and so the BCC info was just a click away. Gmail just happened to show those values on their regular UI, while most clients didn't. 
&lt;/p&gt;

&lt;p&gt;
What's SUPPOSED to happen is that the sending email server strips the BCC info from the header as it's sending it out. How does it deliver it to the BCCed recipients, then? It all has to do with the difference between the &lt;a href="http://www.freesoft.org/CIE/RFC/1123/86.htm"&gt;message envelope&lt;/a&gt; and the message header.
&lt;/p&gt;

&lt;p&gt;
People typically think of an email as having numerous parts. You have your from, to, subject and body. You also have attachments. What's actually going on behind the scenes is that there is an email header that contains all the required stuff (from, to, subject, etc). There is also the body, which contains the text/html of the message, as well as encoded attachments. A typical email header looks like:
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
Return-Path: [fake@address.com]
Received: from server.mymailhost.com (mail.mymailhost.com [126.43.75.123])
        by pilot01.cl.msu.edu (8.10.2/8.10.2) with ESMTP id NAA23597;
        Fri, 12 Jul 2002 16:11:20 -0400 (EDT)
Received: from aol.com (127-34-56-98.dsl.mybigisp.com [127.34.56.98])
        by server.mymailhost.com; Fri, 12 Jul 2002 13:09:38 -0700 (PDT)
Date: Fri, 12 Jul 2002 13:09:38 -0700 (PDT)
From: Hot Summer Deals &amp;lt;hot_deals@aol.com&amp;gt;
To: My.Friends@pilot.msu.edu
Subject: Just what you've been waiting for!!
&lt;/pre&gt;

&lt;p&gt;
There is actually a third part of an email, called the SMTP envelope. This is comprised of meta-data that the SMTP servers exchange &lt;span style="font-style:italic;"&gt;before&lt;/span&gt; they hand off the actual message. This includes the message recipients. Someone confusingly, this recipient list doesn't necessarily need to match what's in the header. In fact, this is exactly how BCC works; the servers talk to each other about the "real" recipients, but the message they deliver to you only shows the ones the sender wants you to see.
&lt;/p&gt;

&lt;p&gt;
In our implementation, the sending sever is MS-SMTP, the basic server that ships with Windows. More specifically, we're using the Pickup directory method of handing messages off to the server, which involves simply writing the EML file to a local directory. It's actually a fully supported transport mechanism and &lt;a href="http://www.singular.co.nz/blog/archive/2007/11/28/using-an-smtp-pickup-directory-delivery-method-for-asp-net-development.aspx"&gt;rather popular&lt;/a&gt;. Even &lt;a href="http://technet.microsoft.com/en-us/library/bb124549.aspx"&gt;Exchange&lt;/a&gt; implements it.
&lt;/p&gt;

&lt;p&gt;
The problem arises because MS-SMTP typically does BCC stripping when the message is handed to it, &lt;span style="font-weight:bold;"&gt;over SMTP&lt;/span&gt;. During its receiving SMTP conversation, it records the BCC addresses you want to deliver to, and then strips them. When you use the Pickup directly, you are skipping this step.
&lt;/p&gt;

&lt;p&gt;
You can solve this problem by using SMTP for the initial hand-off. However, many shops would prefer to use the Pickup instead, especially if they are generating many thousands of messages at once, and want to reduce overhead. In that case, you can use a work-around:
&lt;/p&gt;

&lt;pre&gt;
From: Hot Summer Deals &amp;lt;hot_deals@aol.com&amp;gt;
To: My.Friends@pilot.msu.edu
&lt;b&gt;X-Receiver: someguy@gmail.com&lt;/b&gt;
Subject: Just what you've been waiting for!!
&lt;/pre&gt;

&lt;p&gt;
This is basically an alias for BCC. While MS-SMTP won't strip that either, Gmail won't display it in the front-end. &lt;span style="font-style:italic;"&gt;Note: this &lt;a href="http://stackoverflow.com/questions/631799/bcc-never-sent-from-exchange-2007-using-specifiedpickupdirectory/633019#633019"&gt;may no longer&lt;/a&gt; work on Exchange 2007.&lt;/span&gt;
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6620942986711317490/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/03/blog-post.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6620942986711317490'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6620942986711317490'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/03/blog-post.html' title='MS SMTP Pickup Doesn&apos;t Strip BCC'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7547194158957693376</id><published>2009-03-03T17:00:00.010-05:00</published><updated>2009-03-04T22:59:24.280-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>UK county codes</title><content type='html'>&lt;p&gt;
If you have ever developed an application where users can enter US addresses, then you have probably implemented a state control. Maybe it was just a text field, or maybe it was a drop down list with 50 options. If you're a really smart cookie, it could have 57 to include US territories. 
&lt;/p&gt;

&lt;p&gt;
Now, say you want to start supporting Canadian and United Kingdom regions. You might think this would be as easy as finding a list of regions for the country online, and pumping them into the control. Canada lures you into a false sense of confidence. They have &lt;a href="http://en.wikipedia.org/wiki/Provinces_and_territories_of_Canada"&gt;ten provinces&lt;/a&gt;. That's a nice round number, eh?
&lt;/p&gt;

&lt;p&gt;
At this point your thinking the UK will be a slam dunk. All you have to do is find THE list of UK counties. Easy, right? RIGHT?
&lt;/p&gt;

&lt;p&gt;
Let's make this an interactive blog post. Go ahead and &lt;a href="http://www.google.com/search?q=UK+counties"&gt;Google for a UK county list&lt;/a&gt;. I'll wait. Ok, that wasn't so hard, was it? Now, go find another one. I have all day.
&lt;/p&gt;

&lt;p&gt;
Ok, now compare the two lists you found. Invariably, they will differ by at least 20%. Must be an anomaly in one of the sources, right? Go find a few more. I DEFY you to find two lists that are the same.
&lt;/p&gt;

&lt;p&gt;
Now, what the hell, I ask you? Canada gift wraps ten easy to remember regions. Even the US bungled its way into a nice big round STATIC number. Are you telling me that the UK can't even decide how many regions it has, and what they are called? What, &lt;a href="http://wiki.answers.com/Q/When_was_the_UK_founded"&gt;208 years&lt;/a&gt; wasn't long enough?
&lt;/p&gt;

&lt;p&gt;
Settle down you. It's actually kind of complicated. You see, historical bureaucratic cock ups (I should write about the UK more often) have left no less than four legacy county lists in various degrees of relevance. You have your &lt;a href="http://www.ons.gov.uk/about-statistics/geography/products/geog-products-area/names-codes/administrative/index.html"&gt;administrative&lt;/a&gt; and &lt;a href="http://en.wikipedia.org/wiki/Ceremonial_counties_of_England"&gt;ceremonial&lt;/a&gt; counties. Then you have your traditional counties, complete with nutjobs trying to "&lt;a href="http://www.abcounties.co.uk/index.htm"&gt;save their shires&lt;/a&gt;". Dude, we're trying to have a civilization here. Then you have your &lt;a href="http://www.commondatahub.com/live/geography/state_province_region/iso_3166_2_state_codes"&gt;ISO standard&lt;/a&gt; list of UK counties. 
&lt;/p&gt;

&lt;p&gt;
Ok, here is the kicker. Even the UK has given up on their own county system. In 1996, they officially converted to &lt;a href="http://en.wikipedia.org/wiki/Postal_codes_in_the_United_Kingdom"&gt;postcodes&lt;/a&gt;. Basically, every gas station, residence, warehouse, farmhouse, henhouse, outhouse and doghouse [&lt;a href="http://www.imdb.com/title/tt0106977/quotes"&gt;1&lt;/a&gt;] in the UK now has what amounts to a serial number. Screw shires, now you're just a number. Maybe someday we will have administrative, ceremonial and traditional postcodes. I can't wait.
&lt;/p&gt;

&lt;p&gt;
So, what list do you put in your widget? I have no idea. Just take some random cross section of all your results put together. Hey, at least no one can say it's not the official list!
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/7547194158957693376/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/03/uk-county-codes.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7547194158957693376'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7547194158957693376'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/03/uk-county-codes.html' title='UK county codes'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3731110560761645295</id><published>2009-02-27T20:55:00.019-05:00</published><updated>2009-02-28T23:46:24.499-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='xss'/><category scheme='http://www.blogger.com/atom/ns#' term='security'/><title type='text'>Regular Expressions Suck at Preventing XSS</title><content type='html'>&lt;p&gt;
Depending on &lt;a href="http://www.owasp.org/index.php/Top_10_2007"&gt;who&lt;/a&gt; you &lt;a href="http://attrition.org/pipermail/vim/2006-September/001032.html"&gt;listen&lt;/a&gt; to, XSS is now the &lt;a href="http://www.darkreading.com/security/app-security/showArticle.jhtml?articleID=208804050"&gt;top&lt;/a&gt; computer security vulnerability, having passed the venerable SQL injection in 2007. If you're a developer, especially a web developer, and you DON'T know what XSS is, stop reading right now and start &lt;a href="http://www.google.com/search?q=XSS"&gt;Googling&lt;/a&gt;.
&lt;/p&gt;

&lt;blockquote&gt;
Cross-site scripting (XSS) is a type of computer security vulnerability typically found in web applications which allow code injection by malicious web users into the web pages viewed by other users. - &lt;a href="http://en.wikipedia.org/wiki/Cross-site_scripting"&gt;Wikipedia&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
Typically, the injection takes the form of javascript code. How does this code get injected into your site? There are a myriad of ways; HTML is ubiquitous these days. On the application I work on, the easiest vector is email. 
&lt;/p&gt;

&lt;p&gt;
We have a web-based email system. Users get an email, usually in HTML, and we display it inside our web application. It's a classic input validation problem; we're essentially presenting user generated content directly to the user, unfiltered. Well, not quite. Even from the beginning, we did some basic regex validation. The base case for XSS is via a SCRIPT tag, so we try to strip those. I am a big fan of regular expressions; they are great. But in this case, it's like beating off a mugger with a wet noodle.
&lt;/p&gt;

&lt;p&gt;
Many other systems need to do the same thing. See Jeff Atwood's &lt;a href="http://www.codinghorror.com/blog/archives/001172.html"&gt;solution&lt;/a&gt; for Stack Overflow, where they allow HTML formatted code snippets to be submitted by the users. He's not alone; &lt;a href="http://shiflett.org/blog/2007/mar/allowing-html-and-preventing-xss"&gt;developers&lt;/a&gt; all &lt;a href="http://snipplr.com/view/9596/secure-advanced-better-faster-function-for-removestrip-tagsantixss/"&gt;seem&lt;/a&gt; to initially &lt;a href="http://stackoverflow.com/questions/24723/best-regex-to-catch-xss-cross-site-scripting-attack-in-java"&gt;gravitate&lt;/a&gt; to regular expressions for this task.
&lt;/p&gt;

&lt;p&gt;
I contest that you really, really don't want to do this with regular expressions. Regular expressions are &lt;a href="http://oubliette.alpha-geek.com/2003/12/31/do_not_do_not_parse_html_with_regexs"&gt;notoriously bad&lt;/a&gt; at parsing HTML, &lt;a href="http://wiki.tcl.tk/4164"&gt;XML&lt;/a&gt; or any nested tag language. You don't want to be a &lt;a href="http://sandersn.com/blog/index.php?title=avoid_casual_parsing&amp;more=1&amp;c=1&amp;tb=1&amp;pb=1"&gt;casual parser&lt;/a&gt;, especially when you're trying to strictly enforce security. They also suck at parsing email addresses, a topic I plan to cover later.
&lt;/p&gt;

&lt;p&gt;
The key is that you're not just protecting against valid, vanilla HTML. You're protecting against anything that a browser can understand, and anything it can mis-understand. &lt;span style="font-style:italic;"&gt;Browsers can be tricked into producing valid DOM from invalid HTML quite easily. &lt;/span&gt; Browsers &lt;span style="font-style:italic;"&gt;love&lt;/span&gt; rending crap invalid HTML; they even take pride in it.
&lt;/p&gt;

&lt;p&gt;
For example, see this list of &lt;a href="http://ha.ckers.org/xss.html"&gt;obfuscated XSS attacks&lt;/a&gt;. Are you prepared to tailor a regex to prevent this real world attack on &lt;a href="http://www.greymagic.com/security/advisories/gm005-mc/"&gt;Yahoo and Hotmail&lt;/a&gt; on IE6/7/8?
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
   &amp;lt;HTML&amp;gt;&amp;lt;BODY&amp;gt;
   &amp;lt;?xml:namespace prefix="t" ns="urn:schemas-microsoft-com:time"&amp;gt;
   &amp;lt;?import namespace="t" implementation="#default#time2"&amp;gt;
   &amp;lt;t:set attributeName="innerHTML" to="XSS&amp;amp;lt;SCRIPT DEFER&amp;amp;gt;alert(&amp;amp;quot;XSS&amp;amp;quot;)&amp;amp;lt;/SCRIPT&amp;amp;gt;"&amp;gt;
   &amp;lt;/BODY&amp;gt;&amp;lt;/HTML&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
How about this attack that works on IE6? 
&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
    &amp;lt;TABLE BACKGROUND="javascript:alert('XSS')"&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
How about attacks that are not listed on this site? The problem with Jeff's approach is that it's not a whitelist, as claimed. It's only stripping &lt;span style="font-style:italic;"&gt;well-behaved&lt;/span&gt; tags. We want to strip malicious tags! As someone on &lt;a href="http://refactormycode.com/codes/333-sanitize-html#refactor_13642"&gt;this page&lt;/a&gt; adeptly notes:
&lt;/p&gt;

&lt;blockquote&gt;
The problem with it, is that the html must be clean. There are cases where you can pass in hacked html, and it won't match it, in which case it'll return the hacked html string as it won't match anything to replace. This isn't strictly whitelisting.
&lt;/blockquote&gt;

&lt;p&gt;
Why use a regex to parse HTML at all? Use a damn parser! I would suggest a purpose built tool like &lt;a href="http://www.owasp.org/index.php/Category:OWASP_AntiSamy_Project"&gt;AntiSamy&lt;/a&gt;. It works by actually parsing the HTML, and then traversing the DOM and removing anything that's not in the &lt;span style="font-style:italic;"&gt;configurable&lt;/span&gt; whitelist. The major difference is the ability to gracefully handle malformed HTML. I hear you complaining about performance already. To that, I would simply ask whether you feel that HTML rendering time significantly impacts the users perception of performance in their regular browsing. Yeah, I didn't think so. You can spare a few extra milliseconds to do this correctly.
&lt;/p&gt;

&lt;p&gt;
The best part is that AntiSamy actually unit tests for all the XSS attacks on the above site. Ant it's damn easy to use:
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
    public String toSafeHtml(String html) throws ScanException, PolicyException {

        Policy policy = Policy.getInstance(POLICY_FILE);
        AntiSamy antiSamy = new AntiSamy();
        CleanResults cleanResults = antiSamy.scan(html, policy);
        return cleanResults.getCleanHTML().trim();
    }
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3731110560761645295/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/02/antisamy.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3731110560761645295'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3731110560761645295'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/antisamy.html' title='Regular Expressions Suck at Preventing XSS'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1587635543072955306</id><published>2009-02-19T13:26:00.015-05:00</published><updated>2011-08-24T15:08:47.503-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><title type='text'>Deploying Jersey to JBOSS</title><content type='html'>&lt;p&gt;
I spent the afternoon playing around with &lt;a href='https://jersey.dev.java.net/'&gt;Jersey&lt;/a&gt; in &lt;a href='http://www.jboss.org/'&gt;JBOSS&lt;/a&gt;. Jersey is a Java API for publishing REST web-services, and JBOSS is the application server we use at work. Not finding any particularly helpful tutorials, I muddled my way through. Lucky for you, I have distilled the required steps here.
&lt;/p&gt;

&lt;p&gt;
The first step is to create a Java class with the method you would like to invoke via a REST call. Here is what I came up with:
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
package com.bitkickers;

import java.util.Map;
import javax.ws.rs.*;

@Path("JerseyServices")
public class JerseyServices {

 @GET
 @Produces({"text/plain"})
 @Path("/helloWorld") 
 public String helloWorld(@QueryParam("name") String name) {
  return String.format("Hello, %s", name);
 } 
  
}
&lt;/pre&gt;

&lt;p&gt;
The annotations include &lt;I&gt;@Path("JerseyServices")&lt;/I&gt;, which defines a path relative to the web context to serve all of the methods in this class from. &lt;I&gt;@GET&lt;/I&gt;, tells Jersey to attach to HTTP GET requests for this method. &lt;I&gt;@Path("/helloWorld")&lt;/I&gt; and &lt;I&gt;@QueryParam("name")&lt;/I&gt; combine to define the whole relative URL as &lt;I&gt;"/JerseyServices/helloWorld?name=Chase"&lt;/I&gt; to call this method with the parameter name set to "Chase".
&lt;/p&gt;

&lt;p&gt;
The web.xml to tie in the Jersey servlet looks like the following:
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;?xml version="1.0" encoding="ISO-8859-1"?&amp;gt;
&amp;lt;web-app xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    version="2.5"&amp;gt;

    &amp;lt;display-name&amp;gt;Jersey API Skunkworks&amp;lt;/display-name&amp;gt;

    &amp;lt;servlet&amp;gt;
        &amp;lt;servlet-name&amp;gt;JerseyAPI&amp;lt;/servlet-name&amp;gt;
        &amp;lt;servlet-class&amp;gt;com.sun.jersey.spi.container.servlet.ServletContainer&amp;lt;/servlet-class&amp;gt;        
  &amp;lt;init-param&amp;gt;
            &amp;lt;param-name&amp;gt;com.sun.jersey.config.property.packages&amp;lt;/param-name&amp;gt;
            &amp;lt;param-value&amp;gt;com.bitkickers&amp;lt;/param-value&amp;gt;
        &amp;lt;/init-param&amp;gt;
    &amp;lt;/servlet&amp;gt;

    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;servlet-name&amp;gt;JerseyAPI&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/api/*&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt; 

&amp;lt;/web-app&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
The parameter "com.sun.jersey.config.property.packages" tells "ServletContainer" to scan for any classes annotated with @Path in the package "com.bitkickers", recursively. The servlet mapping tells the servlet to attach to the URL "/api".
&lt;/p&gt;

&lt;p&gt;
Finally, the jboss-web.xml just sets the root context to "jersey":
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;
&amp;lt;!DOCTYPE jboss-web PUBLIC "-//JBoss//DTD Web Application 2.4//EN" "http://www.jboss.org/j2ee/dtd/jboss-web_4_2.dtd"&amp;gt;
&amp;lt;jboss-web&amp;gt;

    &amp;lt;context-root&amp;gt;jersey&amp;lt;/context-root&amp;gt;
 
&amp;lt;/jboss-web&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
All together, the URL to invoke this REST call becomes "http://localhost:8080/jersey/api/JerseyServices/helloWorld?name=Chase".
&lt;/p&gt;

&lt;p&gt;
Also included in the &lt;a href="http://dl.dropbox.com/u/422013/bitkickers/JerseyJboss.zip"&gt;download&lt;/a&gt; is an ANT file to build the WAR, and an HTML file that uses jQuery to invoke the REST service.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1587635543072955306/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html#comment-form' title='7 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html' title='Deploying Jersey to JBOSS'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>7</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-189241684773233096</id><published>2009-02-16T16:45:00.008-05:00</published><updated>2009-02-17T09:21:22.452-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>Mint.com backup</title><content type='html'>&lt;p&gt;
&lt;a href="http://www.mint.com/"&gt;Mint.com&lt;/a&gt; is a &lt;i&gt;great&lt;/i&gt; personal finance tool. I started using it once I made the switch to Linux at home. I used to use Quicken, but I really didn't want to configure WINE for that one application. Besides, Quicken is getting really crusty; it looks like it's still the same codebase from the Windows 95 days.
&lt;/p&gt;

&lt;p&gt;
My only gripe with Mint is that your data is "in the cloud". I want a local copy! Mint has a handy link that you can use at the bottom of your transaction list to download a CSV copy. But I wanted to automate it...
&lt;/p&gt;

&lt;/p&gt;
Want to backup Mint.com? Here is a quick Python script to download your entire transaction history into a CSV file.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import os
import urllib
import urllib2
import cookielib
from optparse import OptionParser
import datetime

class mintlib():
    
    def __init__(self):
        self.opener = urllib2.build_opener(urllib2.HTTPCookieProcessor())  # need cookies for the JSESSION ID
        urllib2.install_opener(self.opener)
    
    def login(self, username, password):
        request = urllib2.Request(&amp;quot;https://wwws.mint.com/loginUserSubmit.xevent?task=L&amp;quot;,  urllib.urlencode(locals()))
        request.add_header(&amp;quot;User-Agent&amp;quot;, &amp;quot;Mozilla/5.0&amp;quot;) # Mint kicks to a &amp;quot;Upgrade to IE 7.0&amp;quot; page without this
        response = self.opener.open(request)
        
    def download(self, file):
        # write CSV file of all Mint transactions for this account to a file
        response = self.opener.open(&amp;quot;https://wwws.mint.com/transactionDownload.event?&amp;quot;) 
        open(file, &amp;quot;w&amp;quot;).write(response.read())
        
    def logout(self):
        response = self.opener.open(&amp;quot;https://wwws.mint.com/logout.event&amp;quot;)         

def getOptions():
    arguments = OptionParser()
    arguments.add_options([&amp;quot;--username&amp;quot;, &amp;quot;--password&amp;quot;, &amp;quot;--file&amp;quot;])
    arguments.set_default(&amp;quot;file&amp;quot;, &amp;quot;mint_backup_%s.csv&amp;quot; % str(datetime.date.today()))
    return arguments.parse_args()[0] # options

if __name__ == '__main__':    
    options = getOptions()
    mint = mintlib()
    mint.login(options.username, options.password)
    mint.download(options.file)
    print &amp;quot;Done&amp;quot;
&lt;/pre&gt;

The command to run it looks like:

&lt;pre&gt;
python mint.py --username=foo --password=bar
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/189241684773233096/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/02/backup-mintcom.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/189241684773233096'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/189241684773233096'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/backup-mintcom.html' title='Mint.com backup'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7680215789894861803</id><published>2009-02-12T16:15:00.004-05:00</published><updated>2009-02-17T09:16:22.453-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='python'/><title type='text'>blogger backup</title><content type='html'>&lt;p&gt;
Want to backup your Blogger posts? Here is a quick Python script that does just that. It will create an HTML file for each post, with the subject of the post as the file name and the post date as the file timestamp.
&lt;/p&gt;

&lt;pre name="code" class="python"&gt;
import os
import urllib
import re  
from optparse import OptionParser
from xml import sax
from xml.sax import ContentHandler
import time
from time import mktime

class FileWriterContentHandler(ContentHandler):
    seenItem = False
    def __init__(self, dir):
        self.dir = dir        
    def startElement(self, tag, attrs):
        if (tag == &amp;quot;item&amp;quot;): self.seenItem = True 
        self.content = &amp;quot;&amp;quot;
    def characters(self, content):    
        self.content += content # the content for a single  XML node will get passed-in in chuncks
    def endElement(self, tag):
        setattr(self, tag, self.content)
        if self.seenItem: # there is a description tag in the header as well, only write a file if you're past that
            if (tag == &amp;quot;description&amp;quot;): # the last tag we need to write the file
                fileName = createFileName(self.dir, getattr(self, &amp;quot;title&amp;quot;))
                writeFile(fileName, self.content)
                setFileDateTime(fileName, makeUnixTime(getattr(self, &amp;quot;pubDate&amp;quot;)))
                
def createFileName(dir, title):    
    # remove any special characters from the file name, ie can't save a file with the name &amp;quot;blog 1/2.html&amp;quot;
    return os.path.expanduser(os.path.join(dir, re.sub(&amp;quot;[^A-Za-z0-9 .()]&amp;quot;, &amp;quot;&amp;quot;, title) + &amp;quot;.html&amp;quot;)) 
    
def writeFile(fileName, content):
    print fileName    
    open(fileName, &amp;quot;w&amp;quot;).write(content.encode(&amp;quot;utf-8&amp;quot;)) # the file will be closed as soon as the program is done
    
def setFileDateTime(path, time):
    os.utime(path, (time, time))

def getOptions():
    arguments = OptionParser()
    arguments.add_options([&amp;quot;--blogID&amp;quot;, &amp;quot;--dir&amp;quot;])
    return arguments.parse_args()[0] # options

# Example: &amp;quot;Mon, 09 Feb 2009 20:14:00 +0000&amp;quot;
def makeUnixTime(pubDate):
    return mktime(time.strptime(pubDate, &amp;quot;%a, %d %b %Y %H:%M:%S +0000&amp;quot;))

def downloadRSS(blogID):
    url = &amp;quot;http://www.blogger.com/feeds/%s/posts/default?alt=rss&amp;amp;prettyprint=true&amp;amp;start-index=1&amp;quot; % blogID
    print &amp;quot;Backing up %s&amp;quot; % url
    return urllib.urlopen(url).read()

if __name__ == '__main__':
    options = getOptions()
    rssXml = downloadRSS(options.blogID)    
    sax.parseString(rssXml, FileWriterContentHandler(options.dir))
&lt;/pre&gt;

&lt;p&gt;
To run the program, first find your blogger ID. If you view the source of your blog, it will be at the top in the RSS feed link:
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;link rel=&amp;quot;service.post&amp;quot; type=&amp;quot;application/atom+xml&amp;quot; title=&amp;quot;bitkickers - Atom&amp;quot; href=&amp;quot;http://www.blogger.com/feeds/7663029716914672257/posts/default&amp;quot; /&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Then, execute the script like so:
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
python backup.py --blogID 7663029716914672257 --dir ./output
&lt;/pre&gt;

&lt;p&gt;&lt;b&gt;Update: tested on Windows/Linux&lt;/b&gt;&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/7680215789894861803/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/02/blogger-backup.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7680215789894861803'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/7680215789894861803'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/blogger-backup.html' title='blogger backup'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3379224648150223669</id><published>2009-02-09T15:14:00.016-05:00</published><updated>2011-08-24T15:09:06.171-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><title type='text'>Java phone number format API</title><content type='html'>&lt;p&gt;
So, you have a database with millions of phone numbers with free-for-all formatting. Ie, the UI does not enforce any constraints and the users are typing in whatever they want. There must be a Java API to format these, right? Yeah, &lt;a href='http://stackoverflow.com/questions/487906/java-phone-number-format-api'&gt;not so much.&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;
For example, a phone number in the system might look like any of the following:
&lt;p/&gt;

&lt;pre name="code" class="xml:nocontrols"&gt;
    (555) 478-1123
    555-478-1123 
    555.478.1123
    5554781123
&lt;/pre&gt;
 
&lt;p&gt;
You want an API that given the country of US, would produce the value "+1 (555) 478-1123" for all these. Of course, there are countless variations of the examples, as well as the complication of international phone numbers, which each have their own validation rules. 
&lt;/p&gt;

&lt;p&gt;
Well, I don't have a drop-in solution for you. But faced with the above situation, I did come up with the beginnings of a Java API that does this. For now, I have implemented US and UK formatting. &lt;a href='http://dl.dropbox.com/u/422013/bitkickers/JavaPhoneAPI.zip'&gt;Download the API here.&lt;/a&gt;
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
    PhoneNumberFactory phoneNumberFactory = new PhoneNumberFactory();

    PhoneNumber phoneNumber = phoneNumberFactory.create(CountryCodes.US, &amp;quot;5554781123&amp;quot;); 
    // phoneNumber.toString() == &amp;quot;+1 (555) 478-1123&amp;quot;

    PhoneNumber ukPhoneNumber = phoneNumberFactory.create(CountryCodes.UK, &amp;quot;442088709929&amp;quot;); 
    // phoneNumber.toString() == &amp;quot;+44 20 88 70 99 29&amp;quot;
&lt;/pre&gt;

&lt;p&gt;
You can define new countries by extending PhoneNumber, and implementing the logic to parse any string into country code, area code and a list of subscriber number groups. For example, "+1 (555) 478-1123" has a country code of "1", area code of "555" and a List of subscriber numbers ("478", "1123"). You can group subscriber numbers however you want, it's just a convenience for formatting.
&lt;/p&gt;

&lt;p&gt;
You can can also define your own formatters. Don't like my US format? No problem!
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
public class MyPhoneFormat implements PhoneFormat {

    public String format(PhoneNumber phoneNumber) {

        String value = phoneNumber.getCountryCode()
              + &amp;quot; &amp;quot; + phoneNumber.getAreaCode() + getPostAreaCode(phoneNumber);

        for (int i = 0; i &amp;lt; phoneNumber.getSubscriberNumbers().size(); i++)
            value += phoneNumber.getSubscriberNumber(i);

        return value.trim();
    }

    //  US phone numbers are one long run of digits, UK has a space
    private String getPostAreaCode(PhoneNumber phoneNumber) {
        return phoneNumber.getCountryCode().equalsIgnoreCase(CountryCodes.UK) ? &amp;quot; &amp;quot;: &amp;quot;&amp;quot;;
    }
}
&lt;/pre&gt;

&lt;p&gt;
This would output phone numbers in either "1 5554789119" (US) or "44 20 88709929" (UK).
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3379224648150223669/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/02/java-phone-number-format-api.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3379224648150223669'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3379224648150223669'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/java-phone-number-format-api.html' title='Java phone number format API'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2291850493489874814</id><published>2009-02-02T17:00:00.004-05:00</published><updated>2009-02-12T16:12:54.790-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='security'/><title type='text'>Keep those passwords safe</title><content type='html'>&lt;blockquote&gt;
The easiest way to guess a password isn't to guess it at all, but to exploit the inherent insecurity in the underlying operating system. &lt;a href='http://www.schneier.com/blog/archives/2007/01/choosing_secure.html'&gt;Bruce Schneier&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;
Six months ago, a gaming web-site I have a login to was hacked. There was no real data of any value on the site, but the attackers did make off with all the user name/passwords in the database. This turned into quite a problem for some of my friends, as the attackers proceeded to login to their email accounts. It turns out some of the users had used their email address as their user name, and the same password for the site as for their email.
&lt;p&gt;

&lt;p&gt;
Now, ideally web-apps would not store user passwords at all. These days, you should consider implementing &lt;a href='http://openid.net/'&gt;OpenID&lt;/a&gt; if all you need to do is authenticate users. The second best option would be to store a non-reversible hash of the passwords. To authenticate someone, you just hash the candidate password and compare the hashed values. The up shot is that even if an attacker gets his hands on the entire database, they won't be able to reverse engineer the passwords.
&lt;/p&gt;

&lt;p&gt;
There is plenty of fault on the sides of my friends here, as well. While it may not be widely known to average users users, this is an excellent illustration of why it's a very bad idea to share passwords or even user names between different services. Your entire network becomes only as secure as its weakest link!
&lt;/p&gt;

&lt;p&gt;
Shortly after that, I started using &lt;a href='http://passwordsafe.sourceforge.net/'&gt;PasswordSafe&lt;/a&gt; (Windows only). It's a free, open-source utility that can generate and securely store as many user name and password combinations as you want. You just come up with one "master" password, and your whole password database is encrypted with that key and stored locally.
&lt;/p&gt;

&lt;p&gt;
In the last few weeks, I moved to &lt;a href='http://www.keepassx.org/'&gt;KeePassX&lt;/a&gt;, a very similar software package with better cross platform support. There is also a &lt;a href='http://keepass.info/plugins.html#pwsafedbimport'&gt;very easy way&lt;/a&gt; to convert your passwords from PasswordSafe to KeePassX. Just install KeePass 1.x or 2.x, add the pwsafedbimport plug-in, import your database, then open the new .kdb database in the latest version of KeePassX.
&lt;/p&gt;

&lt;p&gt;
Six months in, I don't even &lt;i&gt;know&lt;/i&gt; what my passwords for most sites are. I don't need to, my password manager just takes care of it. I've even gone back and changed my passwords on every site I use to things like "qFSwLqajQc+7g_4&gt;;%'{J35".
&lt;/p&gt;

&lt;p&gt;
&lt;b&gt;But I'm too lazy for that!&lt;/b&gt;
&lt;/p&gt;

&lt;p&gt;
Thanks for being so honest. But actually, this will &lt;u&gt;save&lt;/u&gt; you time. See, PasswordSafe has this great feature they call auto-type. Say you're on amazon.com staring at a login form. All you have to do is hit F10, type the first few letters of "ama" and hit Control-T. Boom, it logs you in!
&lt;/p&gt;

&lt;p&gt;
&lt;b&gt;I use a bunch of different computers. Copying this file around seems like a pain.&lt;/b&gt;
&lt;/p&gt;

&lt;p&gt;
Use &lt;a href='https://www.getdropbox.com/home'&gt;DropBox&lt;/a&gt;, it's awesome. Your password file will be automatically synced to any computer you use regularly. And because the file is encrypted, you don't have to worry about DropBox getting hacked.
&lt;/p&gt;

&lt;p&gt;
&lt;b&gt;What if I forget my master password?&lt;/b&gt;
&lt;/p&gt;

&lt;p&gt;
Then you're fucked. Well, if you're that concerned about it you could save/print the PasswordSafe file in plain text format every once in a while. In my opinion, you're still better off than using the same user name and password on all these remote sites.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2291850493489874814/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/01/keep-those-passwords-safe.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2291850493489874814'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2291850493489874814'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/01/keep-those-passwords-safe.html' title='Keep those passwords safe'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1676710695151244402</id><published>2009-01-31T11:11:00.010-05:00</published><updated>2009-02-12T16:13:09.769-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='regex'/><title type='text'>Regular Expression: Negative Lookahead Part II</title><content type='html'>&lt;p&gt;
&lt;a href='http://bitkickers.blogspot.com/2009/01/regular-expression-negative-lookahead.html'&gt;When we left off&lt;/a&gt;, I had set out to replace any ampersand outside a CDATA segment with the XML encoded version. Instead of ditching the regex approach and using a lenient DOM parser, I chose to escalate the ugly hack even further! The helpful folks over at &lt;a href='http://stackoverflow.com/questions/462831/regular-expression-to-escape-html-ampersands-while-respecting-cdata'&gt;stack overflow&lt;/a&gt; had a ready made solution:
&lt;/p&gt;

&lt;pre name="code" class="xml:nocontrols"&gt;
    &amp;amp;(?!(?:[a-zA-Z][a-zA-Z0-9]*|#\d+);)(?!(?&amp;gt;(?:(?!&amp;lt;!\[CDATA\[|\]\]&amp;gt;).)*)\]\]&amp;gt;)
&lt;/pre&gt;

&lt;p&gt;
I think this is self-explanatory. See you next time!
&lt;/p&gt;

&lt;p&gt;
OK, maybe not. I don't know about you, but I certainly didn't grok that when I first saw it, or even an hour later. I think it helps to start with a simplified example. Instead of CDATA, let's say that the start token is "a", and the end token is "b". So, we would want the following matches:
&lt;/p&gt;

&lt;pre&gt;
 &lt;font color=navy&gt;&lt;b&gt;&amp;&lt;/b&gt;&lt;/font&gt; 
 &lt;font color=navy&gt;&lt;b&gt;&amp;&lt;/b&gt;&lt;/font&gt; a b
 a b &lt;font color=navy&gt;&lt;b&gt;&amp;&lt;/b&gt;&lt;/font&gt;

 a &amp; b a
 &amp;
 b
 a &amp; &amp; b
&lt;/pre&gt;

&lt;/p&gt;
My idea was to match any "&amp;" that's not followed by a "b" without an "a" in between. The smallest regex I could come up with for this case is:
&lt;/p&gt;

&lt;pre name="code" class="xml:nocontrols"&gt;
    &amp;amp;(?![^a]*b)
&lt;/pre&gt;

&lt;p&gt;
The only piece that might be news to the regex journeyman is the "(?!" syntax. This is a &lt;a href='http://www.regular-expressions.info/lookaround.html'&gt;negative look ahead&lt;/a&gt;. In other words, this regex won't match an ampersand if it's not followed by a match for "[^a]*b". It works like a charm, but it's cheating. The solution is so simple because we're taking large advantage of a hidden assumption: that the start token specifically is exactly one character.
&lt;/p&gt;

&lt;p&gt;
The "[^a]*" means any string of characters that is NOT "a". When you try to extend this to literal strings (such as "&amp;lt;![CDATA["), you will find that the only way to negate a literal is the aforementioned "(?!" syntax. Also, you must escape certain characters so they are evaluated as literals. 
&lt;/p&gt;

&lt;pre name="code" class="xml:nocontrols"&gt;
    (?!&amp;lt;!\[CDATA\[)
&lt;/pre&gt;

&lt;p&gt;
The "b" token would simply be the literal. If we simply replace "a" and "b", we get:
&lt;/p&gt;

&lt;pre name="code" class="xml:nocontrols"&gt;
    &amp;amp;(?!(?!&amp;lt;!\[CDATA\[)*\]\]&amp;gt;)
&lt;/pre&gt;

&lt;p&gt;
Now, we have two look around clauses, which is confusing. But the bigger problem is that this &lt;a href='http://www.rubular.com/regexes/5949'&gt;doesn't actually work&lt;/a&gt;. This is because the (?!) clause itself isn't matching anything; it's a zero-width token. To actually progress the matching, we need to throw good old ".*" in there. But don't want the expanding match to include the look ahead clause, so we wrap the look ahead and the "." in it's own set:
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
    &amp;amp;(?!((?!&amp;lt;!\[CDATA\[).)*\]\]&amp;gt;)
&lt;/pre&gt;

&lt;p&gt;&lt;i&gt;
Note: this regex requires that the optional flag &lt;a href='http://www.regular-expressions.info/dot.html'&gt;period matches newlines&lt;/a&gt; is set to TRUE. This is not the default. You can also replace the lone "." in the regex with "(.|\s)".
&lt;/i&gt;&lt;/p&gt;

&lt;p&gt;
That's the basic idea, anyway. The stack overflow script has some other stuff in it. It starts with "&amp;amp;(?!(?:[a-zA-Z][a-zA-Z0-9]*|#\d+);)", which is an attempt to not match ampersands that are already part of an XML encoded value. That's not necessary for my case, but nice to have. Their CDATA clause is also slightly different. But it's all just optimizations. Maybe we can explore this in a later post. For my part, I'll stick with the shorter, slightly more readable version at the cost of performance.
&lt;/p&gt;

&lt;p&gt;
Still no word on a fix from HotJobs to actually return valid XML from their web-service.
&lt;/p&gt;

&lt;p&gt;&lt;i&gt;
This post made possible by the excellent utility &lt;a href='http://www.regexbuddy.com/'&gt;RegexBuddy&lt;/a&gt;. Highly recommended.
&lt;/i&gt;&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/1676710695151244402/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/01/regular-expression-negative-lookahead_31.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1676710695151244402'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/1676710695151244402'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/01/regular-expression-negative-lookahead_31.html' title='Regular Expression: Negative Lookahead Part II'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6465436121936409497</id><published>2009-01-30T17:00:00.003-05:00</published><updated>2009-02-12T16:13:16.385-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='regex'/><title type='text'>Regular Expression: Negative Lookahead</title><content type='html'>&lt;blockquote&gt;
People understand instinctively that the best way for computer programs to communicate with each other is for each of the them to be strict in what they emit, and liberal in what they accept. The odd thing is that people themselves are not willing to be strict in how they speak and liberal in how they listen. You'd think that would also be obvious. Instead, we're taught to express ourselves. (&lt;a href='http://oreilly.com/catalog/opensources/book/larry.html'&gt;Larry Wall&lt;/a&gt;)
&lt;/blockquote&gt; 

&lt;p&gt;
Sometimes, you need to be &lt;i&gt;really&lt;/i&gt; liberal in what you accept. For example, take the &lt;a href='http://developer.yahoo.com/hotjobs/resume_search_user_guide/'&gt;HotJobs API&lt;/a&gt;. Even thought it's ostensibly a standards based REST web-service, it likes to return slightly invalid XML sometimes. Of course, slightly invalid XML is like being partially pregnant, so any decent XML parser will simply bomb.
&lt;p&gt;

&lt;p&gt;
What do you do? I guess you try to apply pressure on HotJobs to get their shit together. Good luck with that. In the meantime, I have to meet an end of the week deadline, and no one wants to hear the "sucky vendor" excuse. So, you improvise.
&lt;/p&gt;

&lt;p&gt;
The XML like string in question looks like the following, sanitized for the weak-kneed:
&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
 &amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
 &amp;lt;Resume&amp;gt;
  &amp;lt;Title&amp;gt;Supreme ruler &amp;amp; all around nice guy&amp;lt;/Title&amp;gt;
  &amp;lt;ResumeText&amp;gt;
   &amp;lt;![CDATA[
    ...
    some skills &amp; some more skills
    ...
    font-family: &amp;amp;#039;Wingdings&amp;amp;#039;, &amp;amp;#039;Arial&amp;amp;#039;;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot; font-family: &amp;amp;#039;Times New Roman&amp;amp;#039;, &amp;amp;#039;Arial&amp;amp;#039;;
    ...
    lots of shit MS-WORD html
    ...
   ]]&amp;gt;
  &amp;lt;/ResumeText&amp;gt;
 &amp;lt;/Resume&amp;gt;
&lt;/pre&gt;

&lt;p&gt;
Now, the problem here is that little ampersand (&amp;) guy in the Title tag. You have to &lt;a href='http://www.w3.org/TR/xhtml1/guidelines.html#C_12'&gt;encode that thing&lt;/a&gt; inside regular XML nodes. In CDATA segments, it's fine. That's what CDATA is for. If you save this as a .xml file and open it in Firefox, IE or XML Spy, you will get a giant error message about what an awful person you are.

&lt;p&gt;
Now, what the hell? If you actually used an XML parser to generate this in the first place, this would never have happened. XML parsers produce valid XML. Thus, you didn't use an XML parser. It's probably hand-assembled with string concatenation. You're a tool, thanks a lot.
&lt;/p&gt;

&lt;p&gt;
Now, on my end this is not a theoretical problem. I don't know of any XML parser that will even attempt to generate a valid XML Document object from this data. Xerxes certainly won't.  Sure, I could try to parse the data manually, but I'm going to pretend you didn't suggest that.
&lt;/p&gt;

&lt;p&gt;
My complete hack solution was to do a string replacement and substitute "&amp;amp;amp;" for all "&amp;" characters. That results in perfectly valid XML, at least until the next invalid character you run into, such as "&lt;", "&gt;", etc. That's why it's a hack.
&lt;/p&gt;

&lt;p&gt;
An additional problem, which escaped me until the code was actually in production, was that it was doing the hack translation even for properly encoded ampersands! For example, see the data inside the CDATA segment. Those ampersands are actually part of other valid XML encodings, and translating them will totally break the display of that HTML, littering it with extra gobbledygook which will invariably make a user set his hair on fire.
&lt;/p&gt;

&lt;p&gt;
See &lt;a href='http://bitkickers.blogspot.com/2009/01/regular-expression-negative-lookahead_31.html'&gt;Part II&lt;/a&gt; to find out how to only replace ampersands outside a CDATA.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6465436121936409497/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/01/regular-expression-negative-lookahead.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6465436121936409497'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6465436121936409497'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/01/regular-expression-negative-lookahead.html' title='Regular Expression: Negative Lookahead'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8609704883125908329</id><published>2009-01-28T16:05:00.004-05:00</published><updated>2009-01-28T16:10:24.474-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='process'/><category scheme='http://www.blogger.com/atom/ns#' term='opensource'/><title type='text'>Democratic Product Management</title><content type='html'>&lt;p&gt;In 2007, Dell launched their &lt;a href="http://www.ideastorm.com/"&gt;IdeaStorm&lt;/a&gt; site. It was the first example I had seen of a website where users can go to vote on features. From their FAQ:&lt;/p&gt;

&lt;blockquote&gt;The name is a take-off on the word "brainstorm" and it is our way of building an online community that brings all of us closer to the creative side of technology by allowing you to share ideas and collaborate with one another. The goal is for you, the customer, to tell Dell what new products or services youd like to see Dell develop. We hope this site fosters a candid and robust conversation about your ideas.&lt;/blockquote&gt;

&lt;p&gt;As of Dec 2009, some of the most popular requests are:

&lt;ul&gt;
 &lt;li&gt;Standard power cables for laptops&lt;/li&gt;
 &lt;li&gt;Pre-install OpenOffice&lt;/li&gt;
 &lt;li&gt;Use Linux instead of Windows&lt;/li&gt;
&lt;/ul&gt;

&lt;i&gt;Dell did in fact start shipping Linux machines as a result of these votes.&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;Shortly afterwards, we launched &lt;a href="http://brainstorm.bullhorn.com/"&gt;Bullhorn Brainstorm&lt;/a&gt;, which is based on the open-source &lt;a href="http://www.pligg.com/"&gt;pligg&lt;/a&gt; project. Leveraging pligg allowed us to deploy a working site after just three days of evaluation and coding. Six months later, we spent some more time doing a visual refresh.&lt;/p&gt;

&lt;p&gt;The results have been amazing. In a little less than a year, we have had 1,750 feature requests, by 700 distinct users. There are also 20,000 votes from 2,450 distinct users. This is for a product with 14,000 users. What's more, the voting is not tailing off over time:&lt;/p&gt;

&lt;img src="http://spreadsheets.google.com/pub?key=puWyFEiJ_0iDBnrIO6b1DUg&amp;oid=1&amp;output=image" /&gt;&lt;br&gt;
&lt;br&gt;

&lt;p&gt;For us, the site has been a huge win. It allows us to discover good ideas, and justify not spending time on unpopular ones. To date, we've implemented about 50 of the requests.&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/8609704883125908329/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2008/12/democratic-product-management.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8609704883125908329'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/8609704883125908329'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/democratic-product-management.html' title='Democratic Product Management'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6774076540573844282</id><published>2009-01-20T12:05:00.003-05:00</published><updated>2009-01-20T12:14:31.096-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>SOAP vs. REST from a consumer's perspective</title><content type='html'>&lt;p&gt;When implementing web-services, the two most popular paradigms are SOAP and REST. Prior to REST becoming a formal standard (though it's still very loose), many so-called web-services were implemented as XML/CSV/JSON/something over HTTP. Those could be fairly categorized as REST-like, also.&lt;/p&gt;

&lt;h3&gt;Popularity&lt;/h3&gt;

&lt;p&gt;Though SOAP was formalized far in advance of REST, REST has become more and more popular in recent years. Take a look at the &lt;a href='http://www.google.com/trends?q=REST%2C+SOAP&amp;ctab=0&amp;geo=all&amp;date=all&amp;sort=0'&gt;Google search trends&lt;/a&gt; for each:&lt;/p&gt;

&lt;img src='http://www.google.com/trends/viz?q=REST,+SOAP&amp;date=all&amp;geo=all&amp;graph=weekly_img&amp;sort=0&amp;sa=N'&gt;

&lt;p&gt;&lt;i&gt;&lt;small&gt;SOAP = Red, REST = blue&lt;/small&gt;&lt;/i&gt;&lt;/p&gt;

&lt;h3&gt;Trade-offs&lt;/h3&gt;

&lt;p&gt;What were some of the problems with SOAP that REST was &lt;a href='http://en.wikipedia.org/wiki/Representational_State_Transfer#Claimed_benefits'&gt;designed to improve&lt;/a&gt; on?&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
 &lt;li&gt;Provides improved response time and reduced server load due to its support for the caching of representations&lt;/li&gt;
 &lt;li&gt;Improves server scalability by reducing the need to maintain session state. This means that different servers can be used to handle different requests in a session&lt;/li&gt;
 &lt;li&gt;&lt;b&gt;Requires less client-side software&lt;/b&gt; to be written than other approaches, because a single browser can access any application and any resource&lt;/li&gt;
 &lt;li&gt;Depends less on vendor software and mechanisms which layer additional messaging frameworks on top of HTTP&lt;/li&gt;
 &lt;li&gt;Provides equivalent functionality when compared to alternative approaches to communication&lt;/li&gt;
 &lt;li&gt;&lt;b&gt;Does not require a separate resource discovery mechanism&lt;/b&gt;, due to the use of hyperlinks in representations&lt;/li&gt;
 &lt;li&gt;Provides better long-term compatibility and evolvability characteristics than RPC.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;The bolded points are aimed directly at SOAP. With SOAP, you generally need some solid framework support to consume web-services easily. Specifically, many platforms have a way of generating stubs from a WSDL, and then helper methods to allow calling the web-service with those stubs.&lt;/p&gt;

&lt;h3&gt;Discovery&lt;/h3&gt;

&lt;p&gt;In practice, all SOAP services publish a WSDL that allows frameworks to auto-generate sample code to consume the service. In practice, virtually no REST services publish their equivalent, WADL.&lt;/p&gt;

&lt;p&gt;In Java and .NET, the framework tools are pretty awesome. It's not unreasonable to expect an experienced developer to get up and running with a new SOAP service in just a few minutes on a platform with good SOAP tools.&lt;/p&gt;

&lt;p&gt;On other platforms, SOAP can be a pain. You would not want to try to call a SOAP service from JavaScript, for example. While there are libraries that help, there are some fundamental mismatches. JavaScript is dynamically typed, where-as SOAP is strongly types. In JavaScript, you generally do things on the fly at run-time. Most SOAP tools pre-package stubs ahead of time. It's a more natural fit to call a REST service via an HTTP Ajax request.&lt;/p&gt;

&lt;h3&gt;Developers are lazy&lt;/h3&gt;

&lt;p&gt;I think that's what it comes down to. If your platform has really good SOAP AND REST tools, you will get up and running much faster using SOAP, due to auto-discovery. If your platform has poor/no SOAP tools, you will have to "discover" the particulars by reading the documentation, and you will need to make calls manually or via your REST framework tools. In that case, REST is much easier to implement.&lt;p&gt;

&lt;p&gt;REST is great. It really is simpler and more scalable. I just think they dropped the ball by not pushing WADL harder.&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6774076540573844282/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2008/01/soap-vs-rest-from-consumers-perspective.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6774076540573844282'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6774076540573844282'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/01/soap-vs-rest-from-consumers-perspective.html' title='SOAP vs. REST from a consumer&apos;s perspective'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2795798950309954945</id><published>2009-01-13T12:06:00.013-05:00</published><updated>2009-01-13T13:01:48.634-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>getResource() resource patterns</title><content type='html'>&lt;p&gt;The Java &lt;a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html"&gt;class loader&lt;/a&gt; contains a convenience method &lt;a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)"&gt;getResource()&lt;/a&gt;, which is great for externalizing some static content from your code. In the past, I've used it almost exclusively with .properties files. Could there be a more ideal candidate for data that should be outside the code?&lt;/p&gt;

&lt;p&gt;Recently, I wanted to leverage this concept to load text and html data. I needed to generate a email based on a static template. In order to support rich html email clients as well as plain text clients, it's necessary to send a MultiPart MIME email with both versions. My options were to hard-code the HTML/text templates in the Java code, or externalize them as files. I had a utility method lying around that would make this easy:&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
    private static String txtTemplate, htmlTemplate;

    private static final String EMAIL_TEMPLATE_TXT = &amp;quot;LegacyAppointmentEmail.txt&amp;quot;;
    private static final String EMAIL_TEMPLATE_HTML = &amp;quot;LegacyAppointmentEmail.html&amp;quot;;
 
 static {
        try {
            txtTemplate = readFile(EMAIL_TEMPLATE_TXT);
            htmlTemplate = readFile(EMAIL_TEMPLATE_HTML);
        } catch (IOException e) {
            LOG.error(e);
        }
    }
 
    private static String readFile(String fileName) throws IOException {

        InputStream stream = LegacyAppointmentEmail.class.getResourceAsStream(fileName);
        BufferedReader reader = new BufferedReader(new InputStreamReader(stream));
        StringBuilder builder = new StringBuilder();

        String line;
        while ((line = reader.readLine()) != null)
            builder.append(line).append(&amp;quot;\n&amp;quot;);

        reader.close();
        return builder.toString();        
    } 
&lt;/pre&gt;

&lt;p&gt;My first unit test failed on the line where the first file was loaded. Initially, I thought the path must be wrong. I played with various combinations, such as moving the file to the root, putting the full scope into the file path, etc. Eventually, I went back and looked at some working code I had written in the past. The only difference I could see was that is was a .properties file, not a .txt file. I renamed the file, and it worked!&lt;/p&gt;

&lt;p&gt;I knew that &lt;a href="http://www.java2s.com/Code/Java/Development-Class/Loadresourcefilerelativetotheclasslocation.htm"&gt;wasn't right&lt;/a&gt;, but I put it aside and continued on. When I came back to it, I tried to come up with the smallest reproducible case I could. I thought that if I was still stumped, at least I could post it on &lt;a href="http://stackoverflow.com/"&gt;stackoverflow&lt;/a&gt;.&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
    public class Test {

        public static void main(String[] args) {

            assert Test.class.getResource(&amp;quot;file.properties&amp;quot;) != null;
            assert Test.class.getResource(&amp;quot;file.txt&amp;quot;) != null;
        }
    }
&lt;/pre&gt;

&lt;p&gt;&lt;i&gt;Note: file.properties and file.txt should both be blank files in the same directory as Test.java.&lt;/i&gt;&lt;/p&gt;

&lt;p&gt;This test was still failing on the txt file, &lt;b&gt;in IntelliJ&lt;/b&gt;. In order to get the cleanest repo possible, I saved Test.java to a new directory, and compiled and ran it from the command line using just the "javac" and "java" JDK command-line tools. Immediately, it started working.&lt;/p&gt;

&lt;p&gt;Having isolated the issue to IntelliJ, I did a little digging. Even when I took all the classpath and "java" command arguments from IntelliJ and ran them manually, it still worked. Having eliminated runtime issues, I went into the IntelliJ compiler settings. The very first window shows the following option:&lt;/p&gt;

&lt;img src="http://lh5.ggpht.com/_EE2zVzGv1Ds/SWzVaCeIsUI/AAAAAAAAH4s/N2t-8mVJUeM/s800/IntelliJResourcePatterns.gif" /&gt;

&lt;p&gt;&lt;i&gt;***Shakes fist at IntelliJ***&lt;/i&gt; Oh well, it was a learning experience.&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2795798950309954945/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/01/getresource-resource-patterns.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2795798950309954945'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2795798950309954945'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/01/getresource-resource-patterns.html' title='getResource() resource patterns'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_EE2zVzGv1Ds/SWzVaCeIsUI/AAAAAAAAH4s/N2t-8mVJUeM/s72-c/IntelliJResourcePatterns.gif' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4406362037190273717</id><published>2009-01-08T16:17:00.003-05:00</published><updated>2009-01-08T16:33:52.319-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='awk'/><title type='text'>First AWK script</title><content type='html'>&lt;p&gt;I have been aware of &lt;a href="http://en.wikipedia.org/wiki/Awk"&gt;AWK&lt;/a&gt; as a "general purpose programming language that is designed for processing text-based data" since college. But until today I never sat down to learn how to use it.&lt;/p&gt;

&lt;p&gt;I had a log file that I needed to glean some information from, and turn into Excel spreadsheets with graphs. Here is what the text file looked like:&lt;/p&gt;

&lt;pre name="code"&gt;
127:  "Information","web-8","10/06/08","17:40:35","BHSTAFFING","Template RunScheduledTask2 has completed sucessfuly. 1 Messages(s) Sent - Execution Time: 0.24 (min)"
134:  "Information","web-10","10/06/08","17:45:31","BHSTAFFING","Template RunScheduledTask2 has completed sucessfuly. 5 Messages(s) Sent - Execution Time: 0.18 (min)"
137:  "Information","web-7","10/06/08","17:50:27","BHSTAFFING","Template RunScheduledTask2 has completed sucessfuly. 1 Messages(s) Sent - Execution Time: 0.12 (min)"
143:  "Information","web-10","10/06/08","17:55:29","BHSTAFFING","Template RunScheduledTask2 has completed sucessfuly. 4 Messages(s) Sent - Execution Time: 0.14 (min)"
146:  "Information","web-10","10/06/08","18:00:26","BHSTAFFING","Template RunScheduledTask2 has completed sucessfuly. 1 Messages(s) Sent - Execution Time: 0.09 (min)"
...
&lt;/pre&gt;

&lt;p&gt;What I wanted was a comma delimited file with date, time and message count. With some trial and error, and a lot of help from the &lt;a href="http://people.cs.uu.nl/piet/docs/nawk/nawk_toc.html"&gt;official AWK manual&lt;/a&gt;, I was able to come up with the following command-line script:&lt;/p&gt;

&lt;pre name="code"&gt;
gawk "BEGIN { FS=\",\" }; {sub(/^.*\. /, \"\", $6); sub(/ .*/, \"\", $6); print $3 \",\" $4 \",\" $6}" input.txt  &gt; output.txt
&lt;/pre&gt;

&lt;p&gt;Viola! Nice clean CSV data. The code sets the column delimiter to a comma, replaces everything before the space and after the next space in column 6 (using a regex), and then prints out columns 3, 4 and 6 with commas between. This was using &lt;a href="http://www.gnu.org/software/gawk/"&gt;gawk&lt;/a&gt;, an open-source GNU licensed implementation with a windows port.&lt;/p&gt;

&lt;pre name="code"&gt;
10/6/2008,16:10:54,5
10/6/2008,16:15:47,7
10/6/2008,16:20:51,7
10/6/2008,16:25:47,15
10/6/2008,16:30:51,5
&lt;/pre&gt;

&lt;p&gt;Finally, the Excel graph in all it's glory:&lt;/p&gt;

&lt;img src="http://lh6.ggpht.com/_EE2zVzGv1Ds/SWZvznmFtbI/AAAAAAAAH4Q/gYLNdm3zcrc/s800/notifications.gif" /&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4406362037190273717/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2009/01/first-awk-script.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4406362037190273717'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4406362037190273717'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/01/first-awk-script.html' title='First AWK script'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_EE2zVzGv1Ds/SWZvznmFtbI/AAAAAAAAH4Q/gYLNdm3zcrc/s72-c/notifications.gif' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3870753537725393649</id><published>2008-12-29T15:40:00.021-05:00</published><updated>2008-12-29T17:04:05.964-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='xmlspy'/><category scheme='http://www.blogger.com/atom/ns#' term='xml'/><category scheme='http://www.blogger.com/atom/ns#' term='jaxb'/><title type='text'>Using JAXB without a schema</title><content type='html'>&lt;p&gt;A &lt;a href="http://developer.yahoo.com/hotjobs/"&gt;Yahoo HotJobs API&lt;/a&gt; project has been my first exposure to &lt;a href="http://en.wikipedia.org/wiki/Representational_State_Transfer"&gt;REST&lt;/a&gt; APIs. Usually, I'm working with &lt;a href="http://en.wikipedia.org/wiki/SOAP_(protocol)"&gt;SOAP web-services&lt;/a&gt;. Bullhorn is actually thinking about trying to support REST with its own APIs, so this was a good opportunity to learn about the strengths and weaknesses of REST.&lt;/p&gt;

&lt;p&gt;With a typical SOAP API, my strategy would look something like:&lt;/p&gt;
&lt;ul&gt;
   &lt;li&gt;Find the link to the &lt;a href="http://en.wikipedia.org/wiki/Web_Services_Description_Language"&gt;WSDL&lt;/a&gt; in their documentation.&lt;/li&gt;
   &lt;li&gt;Use the &lt;a href="https://jax-ws.dev.java.net/jax-ws-ea3/docs/wsimport.html"&gt;wsimport&lt;/a&gt; command to create &lt;a href="http://en.wikipedia.org/wiki/JAXB"&gt;JAXB&lt;/a&gt; stubs for the web-service.&lt;/li&gt;
   &lt;li&gt;Copy the stubs over to my project.&lt;/li&gt;
   &lt;li&gt;Start coding some unit tests to make sure they work, and you got your prototype.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;b&gt;First problem:&lt;/b&gt; there is no WSDL in REST. Instead, they use a similar &lt;a href="http://en.wikipedia.org/wiki/Web_Application_Description_Language"&gt;WADL&lt;/a&gt; standard. There is even a &lt;a href="http://www.google.com/search?q=wadl2java&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a"&gt;wadl2java&lt;/a&gt; tool to create stubs.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Second problem:&lt;/b&gt; this actual web-service doesn't support WADL. In fact, many REST web-services don't support it. The main problem is that there is no codified standard for REST; it evolved to its current state. WADL was an after-thought, and is still gaining traction.&lt;/p&gt;

&lt;p&gt;So, I needed to produce XML and post it to this API somehow. My initial implementation was to create the XML by hand, and post it to the API using &lt;a href="http://hc.apache.org/httpclient-3.x/"&gt;Apache's HttpClient&lt;/a&gt;. HttpClient is great, because it supports all the standard HTTP methods (POST, GET), plus the less frequently used ones needed for REST (PUT, DELETE, etc).&lt;/p&gt;

&lt;p&gt;For the XML part; I had been looking for a reason to play around with &lt;a href="http://www.cs.usfca.edu/~parrt/course/601/lectures/stringtemplate.html"&gt;StringTemplate&lt;/a&gt;. I started with a template XML file that looked like:&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; standalone=&amp;quot;yes&amp;quot;?&amp;gt;
&amp;lt;atom:feed xmlns:yheader=&amp;quot;http://schemas.yahoo.com/ypost/jobsHeader/3.0&amp;quot;
   xmlns:atom=&amp;quot;http://www.w3.org/2005/Atom&amp;quot;
   xmlns:yjob=&amp;quot;http://schemas.yahoo.com/ypost/jobs/3.0&amp;quot;
   xmlns:ycontrol=&amp;quot;http://schemas.yahoo.com/ypost/control/1.0&amp;quot;&amp;gt;
   &amp;lt;yheader:Credential&amp;gt;
       &amp;lt;yheader:Login&amp;gt;$login$&amp;lt;/yheader:Login&amp;gt;
       &amp;lt;yheader:Password&amp;gt;$password$&amp;lt;/yheader:Password&amp;gt;
       &amp;lt;yheader:Version&amp;gt;3.0&amp;lt;/yheader:Version&amp;gt;
       &amp;lt;yheader:LicenseKey&amp;gt;$license$&amp;lt;/yheader:LicenseKey&amp;gt;
   &amp;lt;/yheader:Credential&amp;gt;
   &amp;lt;atom:id&amp;gt;$account$&amp;lt;/atom:id&amp;gt;
&amp;lt;/atom:feed&amp;gt;  
&lt;/pre&gt;

&lt;p&gt;... and a code segment that looked like:&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
    private static final String AUTH_XML_FILE = &amp;quot;HotJobs.template.auth.xml&amp;quot;;
    private static Map&amp;lt;String, String&amp;gt; replacements = new HashMap&amp;lt;String, String&amp;gt;() {{
            put(&amp;quot;login&amp;quot;, &amp;quot;user@user.com&amp;quot;);
            put(&amp;quot;password&amp;quot;, &amp;quot;password&amp;quot;);
            put(&amp;quot;account&amp;quot;, &amp;quot;12345&amp;quot;);
            put(&amp;quot;license&amp;quot;, &amp;quot;abc123&amp;quot;);
        }};

    public static String getXml() {

        StringTemplate xml
                = new StringTemplate(getFileContents(AuthRequest.class.getResourceAsStream(AUTH_XML_FILE)));
        
        for (String key: replacements.keySet())
            xml.setAttribute(key, replacements.get(key));

        return xml.toString();
    }

    public static String getFileContents(InputStream resourceAsStream) {
        // left as an exercise for the reader ;)
    }
&lt;/pre&gt;

&lt;p&gt;Pretty soon, I ran into into a situation where I was posting invalid XML. Of course, I should have realized that you can't just cram any string into an XML element; it may contain an &lt;a href="http://www.w3schools.com/xml/xml_cdata.asp"&gt;invalid character&lt;/a&gt;, such as the ampersand. Or it may just be the wrong encoding. The hack fix is to escape the values:&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
   // using org.apache.commons.lang.StringEscapeUtils
   xml.setAttribute(key, StringEscapeUtils.escapeXml(replacements.get(key)));
&lt;/pre&gt;

&lt;p&gt;However, this is really a symptom of a poor design. In general, it's &lt;a href="http://stackoverflow.com/questions/139650/when-writing-xml-is-it-better-to-hand-write-it-or-to-use-a-generator-such-as-si"&gt;not a good idea&lt;/a&gt; to generate XML by hand like this.&lt;/p&gt;

&lt;p&gt;I set out to use JAXB, instead. With no schema provided by the vendor, I would need to make one. I loaded up my trusted copy of &lt;a href="http://www.altova.com/"&gt;XMLSpy&lt;/a&gt;, and copy and pasted an example XML document. Then I selected DTD/Schema -&gt; Generate DTD/Schema:&lt;/p&gt;

&lt;img src="http://lh5.ggpht.com/_EE2zVzGv1Ds/SVlEQ6y4WcI/AAAAAAAAH2o/TSeApwM2leo/s800/XMLSpy1.gif"&gt;

&lt;p&gt;There were a few tweaks necessary. String fields came across as enumerations, which is somewhat understandable because XMLSpy has to guess at what types the fields are. I couldn't find a configuration option to change it, so I edited it by hand:&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;xs:element name=&amp;quot;id&amp;quot;&amp;gt;
 &amp;lt;xs:simpleType&amp;gt;
  &amp;lt;xs:restriction base=&amp;quot;xs:string&amp;quot;&amp;gt;
   &amp;lt;xs:enumeration value=&amp;quot;1-JYNURD&amp;quot;/&amp;gt;
  &amp;lt;/xs:restriction&amp;gt;
 &amp;lt;/xs:simpleType&amp;gt;
&amp;lt;/xs:element&amp;gt;
&lt;/pre&gt;

&lt;p&gt;became...&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
&amp;lt;xs:element name=&amp;quot;id&amp;quot;&amp;gt;
 &amp;lt;xs:simpleType&amp;gt;
  &amp;lt;xs:restriction base=&amp;quot;xs:string&amp;quot;&amp;gt;
  &amp;lt;/xs:restriction&amp;gt;
 &amp;lt;/xs:simpleType&amp;gt;
&amp;lt;/xs:element&amp;gt;
&lt;/pre&gt;

&lt;p&gt;Then, all I needed to do was to generate the JAXB stubs. Xjc handled the multiple chained XSD files just fine.&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
xjc -d generated -p com.bullhorn.athens.jobboards.hotjobs.generated.login login.xsd
&lt;/pre&gt;

&lt;p&gt;Once I plugged this into my existing implementation, it &lt;i&gt;almost&lt;/i&gt; worked. By default, JAXB was marshalling the objects into XML without the custom namespaces. For example, "yheader" was becoming "ns1", while "atom" was not namespaced at all. The namespace declarations were properly changed to match, so it was valid XML,  just not what the API was expecting.&lt;/p&gt;

&lt;p&gt;This would work for many REST APIs, but this particular one doesn't seem to be using an XML parser on the other end. I assume they are parsing the XML by hand using regular expressions or something. This is another good argument for using XML parsers versus doing it yourself!&lt;/p&gt;

&lt;p&gt;Fixing the namespace issue was easy. All you have to do is provide an implementation of NamespacePrefixMapper. In my case, it looked like:&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
import com.sun.xml.bind.marshaller.NamespacePrefixMapper;

public class YahooNamespacePrefixMapper extends NamespacePrefixMapper {

    public String getPreferredPrefix(String namespaceUri, String suggestion, boolean requirePrefix) {

        if (namespaceUri.equalsIgnoreCase(&amp;quot;http://www.w3.org/2005/Atom&amp;quot;)) return &amp;quot;atom&amp;quot;;
        return &amp;quot;yheader&amp;quot;;        
    }
}
&lt;/pre&gt;

&lt;p&gt;Then, in my marshalling code, you have to pass in the custom prefix mapper:&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
    public static String marshall(Class className, Object value) {

        try {

            JAXBContext jaxbContext = JAXBContext.newInstance(className);
            Marshaller marshaller = jaxbContext.createMarshaller();
            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
            marshaller.setProperty(NAMESPACE_PREFIX_MAPPER, new YahooNamespacePrefixMapper());
            ByteArrayOutputStream bytes = new ByteArrayOutputStream();
            marshaller.marshal(value, bytes);
            return bytes.toString();

        } catch (JAXBException e) {
            throw new RuntimeException(e);
        }
    }    
&lt;/pre&gt;

&lt;p&gt;Success! Of course, generating a schema by hand is not ideal, either. But if there is no first-party schema, at least it's an option.&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3870753537725393649/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2008/12/using-jaxb-without-schema.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3870753537725393649'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3870753537725393649'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/using-jaxb-without-schema.html' title='Using JAXB without a schema'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_EE2zVzGv1Ds/SVlEQ6y4WcI/AAAAAAAAH2o/TSeApwM2leo/s72-c/XMLSpy1.gif' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-486495626778832415</id><published>2008-12-24T13:55:00.001-05:00</published><updated>2009-01-24T15:23:25.238-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><category scheme='http://www.blogger.com/atom/ns#' term='coldfusion'/><title type='text'>ColdFusion JSON Exception Handling</title><content type='html'>&lt;p&gt;When calling a ColdFusion end-point from an Ajax call, the caller is expecting a certain format. In my projects, that's usually JSON. Regardless, it would be nice if the caller could assume a constant format, even for exceptions.&lt;/p&gt;

&lt;p&gt;Typically, when an exception is generated in ColdFusion, the server auto-generates an HTML description of the exception. The assumption is that a developer or an end-user will be looking at the resulting HTML.&lt;/p&gt;

&lt;p&gt;But in our case, the caller is a script, and parsing that HTML would be a chore. Instead, we can leverage ColdFusion's CFERROR tag to make sure that even exceptions generate valid JSON. Then, the caller can handle the exception data, possibly merging the information into the UI.&lt;/p&gt;

&lt;p&gt;You can setup an exception handler for you JSON API calls as follows. You would typically include this on an individual API page, or in the Application.cfm above all your APIs.&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;CFERROR type=&amp;quot;exception&amp;quot; template=&amp;quot;JSONExceptionSerializer.cfm&amp;quot;&amp;gt;
&lt;/pre&gt;

&lt;p&gt;Here is an example of how to handle the exception and format the results. You could also use a JSON library such as CFJSON or the tool that comes with CF8 to do the formatting.&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;CFSETTING showdebugoutput=&amp;quot;no&amp;quot; enablecfoutputonly=&amp;quot;yes&amp;quot;&amp;gt;

&amp;lt;CFHEADER statuscode=&amp;quot;500&amp;quot; statustext=&amp;quot;&amp;quot;&amp;gt;

&amp;lt;CFCONTENT reset=&amp;quot;true&amp;quot;&amp;gt;
&amp;lt;CFOUTPUT&amp;gt;
    {
        error: {
            message: &amp;quot;#JSStringFormat(Error.message)#&amp;quot;,
            template: &amp;quot;#Error.TagContext[1].template#&amp;quot;,
            line: &amp;quot;#Error.TagContext[1].line#&amp;quot;,
            type: &amp;quot;#Error.RootCause.type#&amp;quot;,
            stacktrace: &amp;quot;#JSStringFormat(Error.StackTrace)#&amp;quot;
        }
    }
&amp;lt;/CFOUTPUT&amp;gt;
&amp;lt;CFEXIT&amp;gt;
&lt;/pre&gt;

&lt;i&gt;JSStringFormat() ensures that string content inside the JSON elements is properly escaped.&lt;/i&gt;

&lt;p&gt;Extending this method, you can also manually throw exception in your ColdFusion code. For example, if the user is not logged in on the back-end, instead of doing this:&lt;/p&gt;

&lt;pre name="code" class="html"&gt;
&amp;lt;CFOUTPUT&amp;gt;Error: not logged in!&amp;lt;/CFOUTPUT&amp;gt;
&amp;lt;CFEXIT&amp;gt;
&lt;/pre&gt;

You can simply throw an exception.

&lt;pre name="code" class="html"&gt;
&amp;lt;CFTHROW message=&amp;quot;Not logged in!&amp;quot;&amp;gt;
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/486495626778832415/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2008/12/coldfusion-json-exception-handling.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/486495626778832415'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/486495626778832415'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/coldfusion-json-exception-handling.html' title='ColdFusion JSON Exception Handling'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3403474916222179550</id><published>2008-12-15T15:17:00.004-05:00</published><updated>2008-12-15T15:27:05.611-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='jax-ws'/><title type='text'>Using a local copy of a WSDL with JAX-WS</title><content type='html'>&lt;p&gt;By default when JAX-WS auto-generates a proxy stub via wsimport, it will reference the live web version of the WSDL in the stub definition. This means that when the stub object is instantiated, JAX-WS will go over the wire to get a copy of the WSDL. Recently, we had a WAR deploy break because Spring was instantiating one of these on start up, and the actual third party WSDL wasn't there.&lt;/p&gt;

&lt;p&gt;I little research turned up a &lt;a href="https://jax-ws.dev.java.net/guide/Developing_client_application_with_locally_packaged_WSDL.html"&gt;few ways to make this WSDL a local resource&lt;/a&gt;, instead. In our case, we just put it in the META-INF directory in the WAR, and made a small manual change to the stub code.&lt;/p&gt;

&lt;p&gt;What used to be...&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
@WebServiceClient(name = &amp;quot;MonsterBusinessGatewayService&amp;quot;, targetNamespace = &amp;quot;http://www.monster.com/definitions&amp;quot;, wsdlLocation = &amp;quot;https://gateway.monster.com:8443/bgwBroker?WSDL&amp;quot;)
public class MonsterBusinessGatewayService
    extends Service
{

    private final static URL MONSTERBUSINESSGATEWAYSERVICE_WSDL_LOCATION;
    private final static Logger logger = Logger.getLogger(com.monster.definitions.MonsterBusinessGatewayService.class.getName());

    static {
        URL url = null;
        try {
            URL baseUrl;
            baseUrl = com.monster.definitions.MonsterBusinessGatewayService.class.getResource(&amp;quot;.&amp;quot;);
            url = new URL(baseUrl, &amp;quot;https://gateway.monster.com:8443/bgwBroker?WSDL&amp;quot;);
        } catch (MalformedURLException e) {
            logger.warning(&amp;quot;Failed to create URL for the wsdl Location: 'https://gateway.monster.com:8443/bgwBroker?WSDL', retrying as a local file&amp;quot;);
            logger.warning(e.getMessage());
        }
        MONSTERBUSINESSGATEWAYSERVICE_WSDL_LOCATION = url;
    }
&lt;/pre&gt;

&lt;p&gt;became...&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
@WebServiceClient(name = &amp;quot;MonsterBusinessGatewayService&amp;quot;, targetNamespace = &amp;quot;http://www.monster.com/definitions&amp;quot;, wsdlLocation = &amp;quot;META-INF/wsdl/MonsterWSDL.xml&amp;quot;)
...
        try {
            URL baseUrl = MonsterBusinessGatewayService.class.getClassLoader().getResource(&amp;quot;.&amp;quot;);
            url = new URL(baseUrl, &amp;quot;META-INF/wsdl/Monster.xml&amp;quot;);
        } catch (MalformedURLException e) {
...
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3403474916222179550/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2008/12/using-local-copy-of-wsdl-with-jax-ws.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3403474916222179550'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3403474916222179550'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/using-local-copy-of-wsdl-with-jax-ws.html' title='Using a local copy of a WSDL with JAX-WS'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2482028679529825709</id><published>2008-12-09T15:27:00.011-05:00</published><updated>2008-12-09T16:45:15.899-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><title type='text'>RPC/Encoded web services on Java 1.6</title><content type='html'>&lt;p&gt;Usually, when I want to call a remote web-service in Java, I would generate stub proxy classes at the command line with:&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
wsimport http://someurl?WSDL
&lt;/pre&gt;

&lt;p&gt;On a recent project, this command resulted in the error message:&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
parsing WSDL...

[ERROR] rpc/encoded wsdls are not supported in JAXWS 2.0.
  line 56 of http://someurl?WSDL
&lt;/pre&gt;

&lt;p&gt;The line in question is the start of a binding, which contains an elements definition that looks like:&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
        &amp;lt;soap:body use=&amp;quot;encoded&amp;quot; encodingStyle=&amp;quot;http://schemas.xmlsoap.org/soap/encoding/&amp;quot; namespace=&amp;quot;urn:SimpleRexServiceIntf-ISimpleRexService&amp;quot;/&amp;gt;
&lt;/pre&gt;

&lt;p&gt;Doing some research, it seems that this is one of the earlier SOAP variants. None of the modern web service APIs support it. From &lt;a href="http://msdn.microsoft.com/en-us/magazine/cc164152.aspx"&gt;msdn&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;RPC (Remote Procedure Call) style, on the other hand, indicates that the SOAP body contains an XML representation of a method call such as the traditional distributed component technologies of DCOM, Corba, and others. RPC style uses the names of the method and its parameters to generate structures that represent a method's call stack (see section 7 of the SOAP 1.1 specification at http://www.w3c.org/TR/SOAP). These structures can then be serialized into the SOAP message according to a set of encoding rules. The SOAP specification defines a standard set of encoding rules for this purpose (see section 5 of the SOAP 1.1 spec) that codify how to map the most common programmatic data structures, such as structs and arrays, into an XML 1.0 format. Since RPC is traditionally used in conjunction with the SOAP encoding rules, the combination is referred to as rpc/encoded.
&lt;/p&gt;
&lt;p&gt;
The document/literal approach is more straightforward and easier for toolkits to get right because it simply relies on XML Schema to describe exactly what the message looks like on the wire. SOAP, however, was created before XML Schema existed. And back then they were focused primarily on objects (hence the O in SOAP), which led to the rpc/encoded way of doing things. Since universal description languages such as XML Schema or Web Services Description Language (WSDL) weren't available back then, the rpc/encoded style had to assume that additional metadata would be available for describing the method call (such as a type library, Microsoft .NET Framework assembly, or Java class file).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;However, Apache Axis v1 does still seem to work in Java 1.6. All I did was download axis-1.4.jar, and run the following command:&lt;/p&gt;

&lt;pre name="code" class="xml"&gt;
java -cp axis-1.4.jar;commons-logging-1.1.jar;commons-discovery-0.2.jar;jaxrpc-1.1.jar;saaj-1.1.jar;wsdl4j-1.4.jar;activation-1.1.jar;mail-1.4.jar org.apache.axis.wsdl.WSDL2Java http://someurl?WSDL
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/2482028679529825709/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2008/12/rpcencoded-web-services-on-java-16.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2482028679529825709'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/2482028679529825709'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/rpcencoded-web-services-on-java-16.html' title='RPC/Encoded web services on Java 1.6'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4654476995599336157</id><published>2008-12-05T09:52:00.033-05:00</published><updated>2008-12-05T23:55:20.561-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='performance'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><title type='text'>Ajax grid performance in IE</title><content type='html'>&lt;p&gt;Generating a grid (table) view from the results of an Ajax call is a common Web 2.0 use case. But performance can be an issue, especially on IE7.&lt;/p&gt;

&lt;p&gt;Let's look at an example without the actual Ajax part; just generating a table and inserting it into the DOM. Here is a naive implementation:&lt;/p&gt;

&lt;pre name="code" class="js"&gt;

 &amp;lt;script src="prototype.js" type="text/javascript"&amp;gt;&amp;lt;/script&amp;gt;

 &amp;lt;SCRIPT&amp;gt;

 var MAX_ROWS = 500;
 var MAX_COLS = 20;

 function populate() {

     var tableDom = new Element("table");
     var tableBodyDom = new Element("tbody");

     for (var row = 0; row &amp;lt; MAX_ROWS; row++) {
        var rowDom = new Element("tr");
        for (var col = 0; col &amp;lt; MAX_COLS; col++) {
            var colDom = new Element("td");
            colDom.innerHTML = row + ":" + col;
            rowDom.appendChild(colDom);
        }
        tableBodyDom.appendChild(rowDom);
     }

     tableDom.appendChild(tableBodyDom);
     $("grid").appendChild(tableDom);
 }

 function populateTimer() {

    var start = new Date().getTime();
    populate();
    $("info").update(new Date().getTime() - start + "ms");
 }

 Event.observe(window, "load", populateTimer);

 &amp;lt;/SCRIPT&amp;gt;

 &amp;lt;DIV id="info"&amp;gt;
 &amp;lt;/DIV&amp;gt;

 &amp;lt;DIV id="grid"&amp;gt;
 &amp;lt;/DIV&amp;gt;

&lt;/pre&gt;

Results:

&lt;ul&gt;
  &lt;li&gt;Firefox - 1660ms&lt;/li&gt;
  &lt;li&gt;Chrome - 446ms&lt;/li&gt;
  &lt;li&gt;IE7 - 6906ms&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Constructing the table with via the DOM is fairly slow, especially on IE. This is well documented at &lt;a href="http://www.quirksmode.org/dom/innerhtml.html"&gt;quirksmode&lt;/a&gt;. So, let's try an innerHTML implementation:&lt;/p&gt;

&lt;pre name="code" class="js"&gt;

 function populate() {

     var tableHtmlArr = ["&amp;lt;TABLE&amp;gt;"];
     for (var row = 0; row &amp;lt; MAX_ROWS; row++) {
         tableHtmlArr.push("&amp;lt;TR&amp;gt;");
         for (var col = 0; col &amp;lt; MAX_COLS; col++)
             tableHtmlArr.push("&amp;lt;TD&amp;gt;" + row + ":" + col + "&amp;lt;/TD&amp;gt;");
         tableHtmlArr.push("&amp;lt;/TR&amp;gt;");
     }
     tableHtmlArr.push("&amp;lt;/TABLE&amp;gt;");
     $("grid").innerHTML = tableHtmlArr.join("");
 }

&lt;/pre&gt;

Results:

&lt;ul&gt;
  &lt;li&gt;Firefox - 315ms&lt;/li&gt;
  &lt;li&gt;Chrome - 108ms&lt;/li&gt;
  &lt;li&gt;IE7  - 360ms&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;So far so good. IE7 is actually pretty fast at concatenating all this HTML and displaying it. IE8beta2 is even better. So, why is this post titled "Ajax grid performance in &lt;i&gt;IE&lt;/i&gt;"?&lt;/p&gt;

&lt;p&gt;Let's try one more test. What if we insert more layout elements into the grid? In this implementation, I have just wrapped each cell in five nested DIVs. (This is an extreme example, but it's not hard to imagine some rich formatting in those cells.)&lt;/p&gt;

&lt;pre name="code" class="js"&gt;

          for (var col = 0; col &amp;lt; MAX_COLS; col++)
              tableHtmlArr.push("&amp;lt;TD&amp;gt;&amp;lt;DIV&amp;gt;&amp;lt;/DIV&amp;gt;&amp;lt;/DIV&amp;gt;&amp;lt;/DIV&amp;gt;&amp;lt;/DIV&amp;gt;" + row + ":" + col + "&amp;lt;/DIV&amp;gt;&amp;lt;/DIV&amp;gt;&amp;lt;/DIV&amp;gt;&amp;lt;/DIV&amp;gt;&amp;lt;/DIV&amp;gt;&amp;lt;/TD&amp;gt;");

&lt;/pre&gt;

Results:

&lt;ul&gt;
  &lt;li&gt;Firefox - 540ms&lt;/li&gt;
  &lt;li&gt;Chrome - 272ms&lt;/li&gt;
  &lt;li&gt;IE7 - 2734ms&lt;/li&gt;
&lt;/ul&gt;

&lt;img src="http://spreadsheets.google.com/pub?key=puWyFEiJ_0iA6ADIJhaSNaw&amp;oid=1&amp;output=image" style="float: right; margin: 20px;"/&gt;

&lt;p&gt;As you can see, the performance in IE7 degrades dramatically as the complexity of the HTML increases. If you put a timer before the innerHTML setter, you will see that the time increase to that point is negligible. It's actually not a javascript performance problem at all; it's DOM insertion performance!&lt;/p&gt;

&lt;p&gt;The IE8 team has actually &lt;a href="http://blogs.msdn.com/ie/archive/2008/08/26/ie8-performance.aspx"&gt;blogged about this&lt;/a&gt;. They estimate that fully 70% of the browser cycles are dedicated to either "Layout" or "Rendering" on real world applications.&lt;/p&gt;

&lt;p&gt;Even worse, it's not getting better on IE8. This test actually gets slower on IE8beta2. My hypothesis is that all the work they are doing to increase their Acid2 score (while maintaining a backwards compatibility mode) is actually slowing down their rendering performance.&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4654476995599336157/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2008/12/ajax-grid-performance-in-ie.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4654476995599336157'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4654476995599336157'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/ajax-grid-performance-in-ie.html' title='Ajax grid performance in IE'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6203714825239210858</id><published>2007-11-17T10:14:00.002-05:00</published><updated>2010-04-26T10:19:37.155-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='javascript'/><title type='text'>Copying a link to the clipboard in IE/Javascript</title><content type='html'>&lt;p&gt;
Problem: You want to copy a link into the clipboard from a web-app such that when you paste, you get the link URL AND the link text.
&lt;/p&gt;

&lt;p&gt;
For example, I was developing a web-based IM client. I wanted users to be able to copy a link from another part of our web-app and paste it into the web client. But I didn't want them to see the full ugly URL, but rather a nice small text description.
&lt;/p&gt;

&lt;p&gt;
The following code does the link URL part: 
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
window.clipboardData.setData("Text", "http://www.google.com");
&lt;/pre&gt;

&lt;p&gt;
Supposedly, it can also take a "Url" value for the first parameter. However, I could not get this to work, and I'm not sure what it's supposed to do anyway.
&lt;/p&gt;

&lt;p&gt;
Note: There may be no general solution for all browsers. I didn't find one, in any case.
&lt;/p&gt;

&lt;p&gt;
SOLUTION FOR IE ONLY:
&lt;/p&gt;

&lt;pre name="code" class="javascript"&gt;
// create an "A" DOM object, and populate the link text and url
var linkElement = document.createElement("a");
linkElement.setAttribute("href", linkHref);
linkElement.innerHTML = linkBody;

// create an editable DIV, this is crucial because a regular DIV
//will not preserve the link URL when copying from a createTextRange
var linkSubElement = document.createElement("div");
with (linkSubElement) {
contentEditable = true;
}
linkSubElement.appendChild(linkElement);

// select the editable content and copy it
//to the clipboard (this is the IE only part)
var r = document.body.createTextRange();
r.moveToElementText(linkSubElement);
r.select();
r.execCommand("Copy"); 
&lt;/pre&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/6203714825239210858/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2007/11/copying-link-to-clipboard-in.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6203714825239210858'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/6203714825239210858'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2007/11/copying-link-to-clipboard-in.html' title='Copying a link to the clipboard in IE/Javascript'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3328817278449548782</id><published>2007-01-05T10:19:00.001-05:00</published><updated>2010-04-26T10:20:47.811-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='java'/><category scheme='http://www.blogger.com/atom/ns#' term='easymock'/><title type='text'>EasyMock java.lang.NoSuchMethodError: org.easymock.internal.RecordState.(Lorg/easymock/internal/IMocksBehavior;)</title><content type='html'>&lt;p&gt;
Mysterious Error #5578:
&lt;/p&gt;

&lt;pre name="code" class="java"&gt;
java.lang.NoSuchMethodError: org.easymock.internal.RecordState.(Lorg/easymock/internal/IMocksBehavior;)V
at org.easymock.internal.MocksControl.reset(MocksControl.java:51)
at org.easymock.internal.MocksControl.(MocksControl.java:26)
at org.easymock.EasyMock.createControl(EasyMock.java:77)
at org.easymock.EasyMock.createMock(EasyMock.java:43)
&lt;/pre&gt;

&lt;p&gt;
Solution? Change the import order easymock.jar and easymockclassextension.jar.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/3328817278449548782/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2007/01/easymock-javalangnosuchmethoderror.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3328817278449548782'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/3328817278449548782'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2007/01/easymock-javalangnosuchmethoderror.html' title='EasyMock java.lang.NoSuchMethodError: org.easymock.internal.RecordState.(Lorg/easymock/internal/IMocksBehavior;)'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4584697719278072946</id><published>2005-10-19T10:16:00.002-04:00</published><updated>2010-04-26T10:19:04.588-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='smtp'/><category scheme='http://www.blogger.com/atom/ns#' term='postfix'/><title type='text'>Postifx Header Based Routing</title><content type='html'>&lt;p&gt;
I run a custom web-based email site. Some users requested the ability to smarthost any outbound mail from their accounts through an arbitrary server. In the past, we had accomplished this by running a separate virtual SMTP server for them, having the virtual server smarthost everything to that address, and passing the message off to that.
&lt;/p&gt;

&lt;p&gt;
We started to look for an approach that would offer more granual control. Also, we wanted to get rid of the maintinance involved with setting up and running an bunch of virtual servers. Our idea was to insert a custom header item into the message, such as:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
X-Smarthost: relay.server.com
&lt;/pre&gt;

&lt;p&gt;
... and to have the outbound mail server look for that setting and relay to the requested server.
&lt;/p&gt;

&lt;p&gt;
Microsoft SMTP was a non-starter for this project. Sendmail was a dead-end. But I found a solution with Postfix. It's actually relatively simple, and despite some comments on usenet, was not at all a "hack", IMO.
&lt;/p&gt;

&lt;p&gt;
First, enable header checks in /etc/postfix/main.cf:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
&amp;gt;header_checks = regexp:/etc/postfix/header_checks
&lt;/pre&gt;

&lt;p&gt;
Then, insert a new header check in /etc/postfix/header_checks:
&lt;/p&gt;

&lt;pre name="code" class="bash"&gt;
/^X-Smarthost: (.*)$/ FILTER smtp:$1
&lt;/pre&gt;

&lt;p&gt;
This will use a regex to match any email with a "X-Smarthost:" token in the header, and save the substring in the parenthesis to $1, which you can conveniently pass to the smtp transport. Any email not matching this rule will go through the default transport, which in a clean install means regular old DNS + smtp.
&lt;/p&gt;

&lt;p&gt;
We tested the case where this smtp server is down. Mail was queued until it came back up, and delivered to the appropriate smarthost. We also tried setting the smarthost to a round-robin DNS A record, which also worked.
&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://bitkickers.blogspot.com/feeds/4584697719278072946/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://bitkickers.blogspot.com/2005/10/postifx-header-based-routing.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4584697719278072946'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/posts/default/4584697719278072946'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2005/10/postifx-header-based-routing.html' title='Postifx Header Based Routing'/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>chase.seibert@gmail.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4525863192660345955</id><published>2009-01-19T12:33:00.000-05:00</published><updated>2009-01-24T15:21:01.609-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice blog...&lt;br&gt;visit also &lt;a href="http://coldfus...</title><content type='html'>Nice blog...&lt;BR/&gt;visit also &lt;A HREF="http://coldfusion-example.blogspot.com/" REL="nofollow"&gt;&lt;B&gt;coldfusion example&lt;/B&gt;&lt;/A&gt;</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/486495626778832415/comments/default/4525863192660345955'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/486495626778832415/comments/default/4525863192660345955'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/coldfusion-json-exception-handling.html?showComment=1232386380000#c4525863192660345955' title=''/><author><name>jones</name><uri>http://www.blogger.com/profile/07617738081836521137</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2008/12/coldfusion-json-exception-handling.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-486495626778832415' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/486495626778832415' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-770728472'/><gd:extendedProperty name='blogger.displayTime' value='January 19, 2009 12:33 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4620984917076072675</id><published>2009-06-13T12:39:55.084-04:00</published><updated>2009-06-17T11:28:36.334-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Good post, and thatks for the push and contributio...</title><content type='html'>Good post, and thatks for the push and contribution.&lt;br /&gt;One detail. ShardFilter is totally unnecessary as we use the ShardSensitiveOnlyFilter</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6205076033028941621/comments/default/4620984917076072675'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6205076033028941621/comments/default/4620984917076072675'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/06/hibernate-search-shard-query.html?showComment=1244911195084#c4620984917076072675' title=''/><author><name>Emmanuel Bernard</name><uri>http://www.blogger.com/profile/12946048387636548675</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/06/hibernate-search-shard-query.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6205076033028941621' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6205076033028941621' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1286592030'/><gd:extendedProperty name='blogger.displayTime' value='June 13, 2009 12:39 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8353400204536887015</id><published>2009-08-21T17:40:10.597-04:00</published><updated>2009-08-28T15:06:12.146-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Just FYI, while this does indeed work, at the mome...</title><content type='html'>Just FYI, while this does indeed work, at the moment the fancy Compiz desktop effects won&amp;#39;t work with Xinerama enabled until Nvidia comes out with new drivers to support this.&lt;br /&gt;http://ubuntuforums.org/showthread.php?t=803314&lt;br /&gt;&lt;br /&gt;However, eventually we may see a workaround produced by the efforts of the posters on this thread, which is still active to this day:&lt;br /&gt;http://newyork.ubuntuforums.org/showthread.php?t=884161</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/8353400204536887015'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/8353400204536887015'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html?showComment=1250890810597#c8353400204536887015' title=''/><author><name>jason102</name><uri>http://www.blogger.com/profile/07939092898321277643</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1234273970'/><gd:extendedProperty name='blogger.displayTime' value='August 21, 2009 5:40 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8005109920901288859</id><published>2009-08-21T21:43:12.734-04:00</published><updated>2009-08-28T15:05:52.560-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great!   

I want to setup the same configuration....</title><content type='html'>Great!   &lt;br /&gt;&lt;br /&gt;I want to setup the same configuration. You blog helped a lot. &lt;br /&gt;&lt;br /&gt;Thanks</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/8005109920901288859'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/8005109920901288859'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html?showComment=1250905392734#c8005109920901288859' title=''/><author><name>lionliy</name><uri>http://www.blogger.com/profile/07545924805564952539</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-467107614'/><gd:extendedProperty name='blogger.displayTime' value='August 21, 2009 9:43 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1723495339693794766</id><published>2009-10-26T10:17:04.792-04:00</published><updated>2009-10-29T11:54:40.320-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks a million!</title><content type='html'>Thanks a million!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/789946898492826461/comments/default/1723495339693794766'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/789946898492826461/comments/default/1723495339693794766'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html?showComment=1256566624792#c1723495339693794766' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-789946898492826461' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/789946898492826461' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-499639523'/><gd:extendedProperty name='blogger.displayTime' value='October 26, 2009 10:17 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6566755738068246198</id><published>2009-12-02T23:56:37.488-05:00</published><updated>2009-12-03T14:33:13.645-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>yeah right.

you&amp;#39;re not even using the passed ...</title><content type='html'>yeah right.&lt;br /&gt;&lt;br /&gt;you&amp;#39;re not even using the passed in parameters to the login method.&lt;br /&gt;&lt;br /&gt;#epicfail</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/189241684773233096/comments/default/6566755738068246198'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/189241684773233096/comments/default/6566755738068246198'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/backup-mintcom.html?showComment=1259816197488#c6566755738068246198' title=''/><author><name>Kenneth Kasajian</name><uri>http://www.blogger.com/profile/14315734158002585760</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='22' height='32' src='http://bp0.blogger.com/_swi9diZM8mc/R1nFuQ9M-fI/AAAAAAAAAHQ/-X7OHrTthWM/S220/Kenny3.jpg'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/backup-mintcom.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-189241684773233096' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/189241684773233096' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1696622871'/><gd:extendedProperty name='blogger.displayTime' value='December 2, 2009 11:56 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-501021935377207471</id><published>2009-12-03T14:36:27.606-05:00</published><updated>2009-12-03T14:36:27.606-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>In Python, locals() creates a dict of all the loca...</title><content type='html'>In Python, locals() creates a dict of all the local variables, including username and password.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/189241684773233096/comments/default/501021935377207471'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/189241684773233096/comments/default/501021935377207471'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/backup-mintcom.html?showComment=1259868987606#c501021935377207471' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/backup-mintcom.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-189241684773233096' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/189241684773233096' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='December 3, 2009 2:36 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3344732418613927309</id><published>2009-12-15T10:36:29.350-05:00</published><updated>2009-12-17T12:44:47.495-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Very, very useful information.  I remember trying ...</title><content type='html'>Very, very useful information.  I remember trying variants of that years ago, and to no avail.  Thanks!&lt;br /&gt;&lt;br /&gt;Jason Garber&lt;br /&gt;aka gahooa</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4859248537625925726/comments/default/3344732418613927309'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4859248537625925726/comments/default/3344732418613927309'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/12/protocol-relative-urls.html?showComment=1260891389350#c3344732418613927309' title=''/><author><name>Jason Garber</name><uri>http://blog.gahooa.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/12/protocol-relative-urls.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4859248537625925726' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4859248537625925726' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1377003872'/><gd:extendedProperty name='blogger.displayTime' value='December 15, 2009 10:36 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7228866309812522572</id><published>2010-05-10T16:00:01.417-04:00</published><updated>2010-05-12T10:07:01.049-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks, Chase!  I was beating my head against the ...</title><content type='html'>Thanks, Chase!  I was beating my head against the wall on this one...  I posted a link from my blog to yours.&lt;br /&gt;&lt;br /&gt;take care!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/789946898492826461/comments/default/7228866309812522572'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/789946898492826461/comments/default/7228866309812522572'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html?showComment=1273521601417#c7228866309812522572' title=''/><author><name>Shannon Eric Peevey</name><uri>http://www.blogger.com/profile/12848498259728890558</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-789946898492826461' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/789946898492826461' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-870218617'/><gd:extendedProperty name='blogger.displayTime' value='May 10, 2010 4:00 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3070768074740170609</id><published>2010-05-10T18:03:09.894-04:00</published><updated>2010-05-12T10:07:00.912-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for your article.  I have been braking my h...</title><content type='html'>Thanks for your article.  I have been braking my head, why the cookie was different each time, only then realized it is storing duplicates based on path.&lt;br /&gt;As you rightly pointed out, the API documentation could have been explicit on this, as cookies are often used with session / application scope and not page level.&lt;br /&gt;&lt;br /&gt;Thanks,&lt;br /&gt;Raj.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/3070768074740170609'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/3070768074740170609'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html?showComment=1273528989894#c3070768074740170609' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3929878854696214937' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1821524180'/><gd:extendedProperty name='blogger.displayTime' value='May 10, 2010 6:03 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3731976070867408000</id><published>2010-05-13T10:41:11.663-04:00</published><updated>2010-05-14T13:40:20.758-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>What can I say? Well, this saved me from tons of h...</title><content type='html'>What can I say? Well, this saved me from tons of headache! Thank you!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2795798950309954945/comments/default/3731976070867408000'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2795798950309954945/comments/default/3731976070867408000'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/01/getresource-resource-patterns.html?showComment=1273761671663#c3731976070867408000' title=''/><author><name>ntoskrnl</name><uri>http://wordrider.net/freerapid/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/01/getresource-resource-patterns.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2795798950309954945' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2795798950309954945' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-4394029'/><gd:extendedProperty name='blogger.displayTime' value='May 13, 2010 10:41 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8546276817115515261</id><published>2010-06-11T10:23:42.452-04:00</published><updated>2010-06-19T23:34:38.723-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi thanks alot, this really helped me. I construct...</title><content type='html'>Hi thanks alot, this really helped me. I constructed my own add function &amp;quot;+&amp;quot; at the end of the input field. it opens a popup, and it works great. Thanks for sharing. I cant share my solution, cause its not clean code yet.&lt;br /&gt;&lt;br /&gt;Michael</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/561859550286435608/comments/default/8546276817115515261'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/561859550286435608/comments/default/8546276817115515261'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/05/reuse-djangos-filterhorizontal-admin.html?showComment=1276266222452#c8546276817115515261' title=''/><author><name>MIL</name><uri>http://www.blogger.com/profile/16706271556057456730</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/05/reuse-djangos-filterhorizontal-admin.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-561859550286435608' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/561859550286435608' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-569760493'/><gd:extendedProperty name='blogger.displayTime' value='June 11, 2010 10:23 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1576663287094284619</id><published>2010-06-22T13:13:21.627-04:00</published><updated>2010-06-22T17:22:20.317-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>i had an error trying to execute such script like ...</title><content type='html'>i had an error trying to execute such script like in your example.&lt;br /&gt;&lt;br /&gt;&amp;quot;Error Code : 1064&lt;br /&gt;You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &amp;#39;;&lt;br /&gt;DELIMITER &amp;#39;;&amp;#39;&amp;#39; at line 10&amp;quot;&lt;br /&gt;&lt;br /&gt;it works after i deleted quote symbols &amp;#39; near ; and ;; where delimiter is defined.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2596072972017889563/comments/default/1576663287094284619'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2596072972017889563/comments/default/1576663287094284619'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/mysql-drop-column-if-exists.html?showComment=1277226801627#c1576663287094284619' title=''/><author><name>ta2-1</name><uri>http://www.blogger.com/profile/00789417053221844627</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/01/mysql-drop-column-if-exists.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2596072972017889563' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2596072972017889563' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-511192654'/><gd:extendedProperty name='blogger.displayTime' value='June 22, 2010 1:13 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7926695078003201006</id><published>2010-06-30T07:43:41.010-04:00</published><updated>2010-07-02T12:11:29.527-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice - you should publish it as a standalone Djang...</title><content type='html'>Nice - you should publish it as a standalone Django application</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/7926695078003201006'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/7926695078003201006'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1277898221010#c7926695078003201006' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1708127324'/><gd:extendedProperty name='blogger.displayTime' value='June 30, 2010 7:43 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9037662381257726520</id><published>2010-07-06T09:37:13.483-04:00</published><updated>2010-07-09T12:18:01.592-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks buddy... it really helped me.

Ram</title><content type='html'>Thanks buddy... it really helped me.&lt;br /&gt;&lt;br /&gt;Ram</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1588839622246397352/comments/default/9037662381257726520'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1588839622246397352/comments/default/9037662381257726520'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html?showComment=1278423433483#c9037662381257726520' title=''/><author><name>Ram Sharma</name><uri>http://ramsharma2k5.wordpress.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1588839622246397352' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1588839622246397352' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-24314012'/><gd:extendedProperty name='blogger.displayTime' value='July 6, 2010 9:37 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1568557067366355741</id><published>2010-07-06T14:49:20.932-04:00</published><updated>2010-07-09T12:17:58.513-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks a lot, that is exactly what I needed :)</title><content type='html'>Thanks a lot, that is exactly what I needed :)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4608803855683569611/comments/default/1568557067366355741'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4608803855683569611/comments/default/1568557067366355741'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/05/django-manytomanyfield-on-modelform-as.html?showComment=1278442160932#c1568557067366355741' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/05/django-manytomanyfield-on-modelform-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4608803855683569611' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4608803855683569611' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-538204790'/><gd:extendedProperty name='blogger.displayTime' value='July 6, 2010 2:49 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1630202893371474592</id><published>2010-07-14T16:25:10.420-04:00</published><updated>2010-07-16T12:49:47.259-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Facebook is really throwing graceful degradation o...</title><content type='html'>Facebook is really throwing graceful degradation out the window. I wish they&amp;#39;d do a better job controlling their code that goes out. You can&amp;#39;t remove an event unless you have javascript turned on. A better implementation would be for the link to actually go to a url that removes the event and if JS is enabled, remove the event through an AJAX call.&lt;br /&gt;&lt;br /&gt;The new authentication scheme is also annoying. They have a url they want you to redirect users to if they&amp;#39;re not logged in, but you either have to use JS redirection, or a clickable link redirection if you don&amp;#39;t want some sort of gray-overlay. Not to mention that the system is pretty poorly documented. I sadly expected more.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2751973771074061208/comments/default/1630202893371474592'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2751973771074061208/comments/default/1630202893371474592'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/better-unobstrusive-javascript-element.html?showComment=1279139110420#c1630202893371474592' title=''/><author><name>Jackson Leung</name><uri>http://www.jacksonleung.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/better-unobstrusive-javascript-element.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2751973771074061208' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2751973771074061208' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1492915647'/><gd:extendedProperty name='blogger.displayTime' value='July 14, 2010 4:25 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7596744467385471615</id><published>2010-07-16T12:58:03.595-04:00</published><updated>2010-07-16T15:42:40.118-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This is a cool hack, but its overkill. You can do ...</title><content type='html'>This is a cool hack, but its overkill. You can do the same thing in just one tiny view: http://copiousfreetime.blogspot.com/2006/12/django-su.html</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/7596744467385471615'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/7596744467385471615'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1279299483595#c7596744467385471615' title=''/><author><name>Leo</name><uri>http://www.blogger.com/profile/14034136175153917634</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1083866432'/><gd:extendedProperty name='blogger.displayTime' value='July 16, 2010 12:58 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2207884214771570470</id><published>2010-07-16T17:24:55.217-04:00</published><updated>2010-07-17T11:45:59.140-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for your article pointing that! I&amp;#39;ll ce...</title><content type='html'>Thanks for your article pointing that! I&amp;#39;ll certainly consider using celery instead of cron on my next project.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/2207884214771570470'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/2207884214771570470'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1279315495217#c2207884214771570470' title=''/><author><name>Tiago S.</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2084937437'/><gd:extendedProperty name='blogger.displayTime' value='July 16, 2010 5:24 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-663488969302463723</id><published>2010-07-16T21:01:17.097-04:00</published><updated>2010-07-17T11:45:54.985-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for the nice write up. It would have saved ...</title><content type='html'>Thanks for the nice write up. It would have saved me a few hours if it had been posted a week earlier. Then again I used RabbitMQ but I have another project where ghettoq might be useful so that is a useful option that I did not know about.&lt;br /&gt;&lt;br /&gt;Here is a RabbotMQ tip: Note that you need to process a given queue at least once before events sent to that queue will show up in the standard rabbit commands that list queues, the number of queued events and such.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/663488969302463723'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/663488969302463723'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1279328477097#c663488969302463723' title=''/><author><name>Rock</name><uri>http://www.blogger.com/profile/12360905410350740753</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-159562404'/><gd:extendedProperty name='blogger.displayTime' value='July 16, 2010 9:01 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1286214283846022697</id><published>2010-07-16T21:40:03.722-04:00</published><updated>2010-07-17T11:45:40.302-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Awesome article.  I think this is just the kick I ...</title><content type='html'>Awesome article.  I think this is just the kick I needed to get started playing with celery.&lt;br /&gt;&lt;br /&gt;I really appreciated the way this was written - starting with the simplest thing that could work and then prompting to read on and expand on your own.&lt;br /&gt;&lt;br /&gt;I look forward to reading more!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/1286214283846022697'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/1286214283846022697'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1279330803722#c1286214283846022697' title=''/><author><name>Zach Peters</name><uri>http://thehelpfulhacker.net/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-767932122'/><gd:extendedProperty name='blogger.displayTime' value='July 16, 2010 9:40 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6630561975403638980</id><published>2010-07-17T11:46:18.999-04:00</published><updated>2010-07-17T11:46:18.999-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>That example is from 2006, I can&amp;#39;t get it to w...</title><content type='html'>That example is from 2006, I can&amp;#39;t get it to work in Django 1.1. Specifically, the line &amp;quot;request.session[SESSION_KEY] = user.id&amp;quot; definitely does not work any more.&lt;br /&gt;&lt;br /&gt;Also, checking if the user is supseruser is cool, but that requires that you over-ride the admin session. My solution allows you to remain logged in to admin at the same time.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/6630561975403638980'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/6630561975403638980'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1279381578999#c6630561975403638980' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='July 17, 2010 11:46 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-64970891776562391</id><published>2010-07-17T12:10:22.219-04:00</published><updated>2010-07-18T10:12:05.557-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>It works just fine in 1.1 and 1.2.

Perhaps you&amp;#3...</title><content type='html'>It works just fine in 1.1 and 1.2.&lt;br /&gt;&lt;br /&gt;Perhaps you&amp;#39;re missing:&lt;br /&gt;from django.contrib.auth import SESSION_KEY&lt;br /&gt;&lt;br /&gt;If you do implement it, you should also add a check along these lines:&lt;br /&gt;if su_user.is_superuser:&lt;br /&gt;    return HttpResponseForbidden(&amp;#39;sudo to a superuser is not permitted&amp;#39;)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/64970891776562391'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/64970891776562391'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1279383022219#c64970891776562391' title=''/><author><name>Leo</name><uri>http://www.blogger.com/profile/14034136175153917634</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1083866432'/><gd:extendedProperty name='blogger.displayTime' value='July 17, 2010 12:10 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8150040203327538776</id><published>2010-07-19T18:14:44.702-04:00</published><updated>2010-07-20T10:13:35.437-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>What versions of djcelery and ghettoq were you usi...</title><content type='html'>What versions of djcelery and ghettoq were you using? There have been updates recently, and since I can&amp;#39;t seem to get your simple example to work, I wonder if something broke.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/8150040203327538776'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/8150040203327538776'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1279577684702#c8150040203327538776' title=''/><author><name>chris.peplin</name><uri>http://christopherpeplin.com/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1812125908'/><gd:extendedProperty name='blogger.displayTime' value='July 19, 2010 6:14 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7837853945460129078</id><published>2010-07-20T10:19:07.760-04:00</published><updated>2010-07-20T10:19:07.760-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I am using Django 1.1.1, djcelery 2.0.0 and ghetto...</title><content type='html'>I am using Django 1.1.1, djcelery 2.0.0 and ghettoq-0.1.2</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/7837853945460129078'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/7837853945460129078'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1279635547760#c7837853945460129078' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='July 20, 2010 10:19 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2089930497687635793</id><published>2010-07-20T11:01:39.784-04:00</published><updated>2010-07-20T16:15:32.811-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks - there was a problem with Django 1.2.1 + d...</title><content type='html'>Thanks - there was a problem with Django 1.2.1 + djcelery 2.0.1 + ghettoq 0.4.0 that was fixed with ghettoq 0.4.1 today.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/2089930497687635793'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/2089930497687635793'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1279638099784#c2089930497687635793' title=''/><author><name>chris.peplin</name><uri>http://christopherpeplin.com/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1812125908'/><gd:extendedProperty name='blogger.displayTime' value='July 20, 2010 11:01 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-45299999242231278</id><published>2010-08-02T23:44:14.523-04:00</published><updated>2010-08-05T21:44:58.602-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Excellent, exactly what I needed, nothing more, no...</title><content type='html'>Excellent, exactly what I needed, nothing more, nothing less!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/561859550286435608/comments/default/45299999242231278'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/561859550286435608/comments/default/45299999242231278'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/05/reuse-djangos-filterhorizontal-admin.html?showComment=1280807054523#c45299999242231278' title=''/><author><name>Althalus</name><uri>http://www.blogger.com/profile/06322578992857560816</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/05/reuse-djangos-filterhorizontal-admin.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-561859550286435608' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/561859550286435608' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-599731958'/><gd:extendedProperty name='blogger.displayTime' value='August 2, 2010 11:44 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4077287139976829749</id><published>2010-08-06T16:18:56.088-04:00</published><updated>2010-08-08T20:30:29.532-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Weird, I thought modern versions of Django hashed ...</title><content type='html'>Weird, I thought modern versions of Django hashed passwords with SHA-1 and only supported MD5 as a (temporary) backwards compatible hashing format for legacy upgrades.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/4077287139976829749'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/4077287139976829749'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1281125936088#c4077287139976829749' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-992637715'/><gd:extendedProperty name='blogger.displayTime' value='August 6, 2010 4:18 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3959629919778033234</id><published>2010-08-08T20:31:52.127-04:00</published><updated>2010-08-08T20:31:52.127-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I was assuming they were MD5, just from looking at...</title><content type='html'>I was assuming they were MD5, just from looking at the output. They may very well be SHA-1. That&amp;#39;s just a side note though, my solution doesn&amp;#39;t rely on that.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/3959629919778033234'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/3959629919778033234'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1281313912127#c3959629919778033234' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='August 8, 2010 8:31 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6114652455904894148</id><published>2010-08-29T07:51:03.660-04:00</published><updated>2010-08-29T14:43:30.132-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Yeah, just a &amp;quot;me too&amp;quot; in saying thanks. ...</title><content type='html'>Yeah, just a &amp;quot;me too&amp;quot; in saying thanks.  I&amp;#39;ve just reverted from CF Builder back to CFEclipse (my CFB trial had expired), and was dismayed to see CFE not handling some of my larger / more complicated files and was thinking &amp;quot;eek... I need to fork our 200 for CFB&amp;quot;, but found your blog entry, upped my stack size and now all good.&lt;br /&gt;&lt;br /&gt;Thanks.&lt;br /&gt;&lt;br /&gt;-- &lt;br /&gt;Adam</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/789946898492826461/comments/default/6114652455904894148'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/789946898492826461/comments/default/6114652455904894148'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html?showComment=1283082663660#c6114652455904894148' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-789946898492826461' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/789946898492826461' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-510782648'/><gd:extendedProperty name='blogger.displayTime' value='August 29, 2010 7:51 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2335322518088073813</id><published>2010-08-29T18:10:32.236-04:00</published><updated>2010-08-29T22:42:12.964-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you so much!! I&amp;#39;ve just been battling a ...</title><content type='html'>Thank you so much!! I&amp;#39;ve just been battling a similar error. It turned out that a piece of code I&amp;#39;ve written long ago also fsck&amp;#39;ed up the load order of model classes.&lt;br /&gt;&lt;br /&gt;My error was that I in the ForeignKey field of one model referenced another model as a default value:&lt;br /&gt;&lt;br /&gt;class Model1(models.Model):&lt;br /&gt;    x = ForeignKey(Model2, default=Model3.objects.get(...))&lt;br /&gt;&lt;br /&gt;class Model4(models.Model):&lt;br /&gt;    x = ManyToManyField(...)&lt;br /&gt;&lt;br /&gt;I should have told myself way back then that setting a static default value as a model instance is a terrible idea.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4787291707864629123/comments/default/2335322518088073813'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4787291707864629123/comments/default/2335322518088073813'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/django-manytomany-error-cannot-resolve.html?showComment=1283119832236#c2335322518088073813' title=''/><author><name>Ben Jao Ming</name><uri>http://www.blogger.com/profile/16167010627069526071</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='24' src='http://2.bp.blogspot.com/_-HOg-1T49M4/SXRrfXxqPeI/AAAAAAAAAAM/GiS9vhswMks/S220/Supcat.jpg'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/04/django-manytomany-error-cannot-resolve.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4787291707864629123' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4787291707864629123' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1770274496'/><gd:extendedProperty name='blogger.displayTime' value='August 29, 2010 6:10 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8715829583122829383</id><published>2010-08-30T03:21:55.867-04:00</published><updated>2010-08-30T16:32:30.370-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks, this solution saved loads of time. Fixed m...</title><content type='html'>Thanks, this solution saved loads of time. Fixed my birt generation error.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/789946898492826461/comments/default/8715829583122829383'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/789946898492826461/comments/default/8715829583122829383'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html?showComment=1283152915867#c8715829583122829383' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/cfeclipse.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-789946898492826461' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/789946898492826461' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1651313207'/><gd:extendedProperty name='blogger.displayTime' value='August 30, 2010 3:21 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8997675187813912184</id><published>2010-09-07T12:35:13.510-04:00</published><updated>2010-09-07T17:10:46.961-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>THANK YOU!

I am using CodeIgniter and it was VERY...</title><content type='html'>THANK YOU!&lt;br /&gt;&lt;br /&gt;I am using CodeIgniter and it was VERY counter intuitive.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/8997675187813912184'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/8997675187813912184'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html?showComment=1283877313510#c8997675187813912184' title=''/><author><name>Susan</name><uri>http://www.thecatsweb.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3929878854696214937' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1517498036'/><gd:extendedProperty name='blogger.displayTime' value='September 7, 2010 12:35 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1704628916827049369</id><published>2010-09-20T15:41:27.298-04:00</published><updated>2010-09-20T16:45:40.924-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi,

Great simple solution but I&amp;#39;m getting the...</title><content type='html'>Hi,&lt;br /&gt;&lt;br /&gt;Great simple solution but I&amp;#39;m getting the following javascript error on page load meaning I can&amp;#39;t choose any options...&lt;br /&gt;&lt;br /&gt;node.tagName is undefined&lt;br /&gt;[Break on this error] if (node.tagName.toLowerCase() != &amp;#39;form&amp;#39;) { &lt;br /&gt;   * SelectFilter2.js (line 11)&lt;br /&gt;&lt;br /&gt;The widget renders as expected. Any ideas what might be going wrong?&lt;br /&gt;&lt;br /&gt;Thanks&lt;br /&gt;&lt;br /&gt;Wes</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/561859550286435608/comments/default/1704628916827049369'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/561859550286435608/comments/default/1704628916827049369'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/05/reuse-djangos-filterhorizontal-admin.html?showComment=1285011687298#c1704628916827049369' title=''/><author><name>Hightower</name><uri>http://www.blogger.com/profile/04926601674020151422</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/05/reuse-djangos-filterhorizontal-admin.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-561859550286435608' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/561859550286435608' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1528737918'/><gd:extendedProperty name='blogger.displayTime' value='September 20, 2010 3:41 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3433405149868044383</id><published>2010-10-06T11:42:47.038-04:00</published><updated>2010-10-06T15:53:22.399-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Cool  this is exactly what I was looking for. Tha...</title><content type='html'>Cool  this is exactly what I was looking for. Thanks!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/3433405149868044383'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/3433405149868044383'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1286379767038#c3433405149868044383' title=''/><author><name>wolever.net</name><uri>http://wolever.net/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-655112128'/><gd:extendedProperty name='blogger.displayTime' value='October 6, 2010 11:42 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6227348579632201113</id><published>2010-10-10T02:24:39.846-04:00</published><updated>2010-10-10T10:45:59.463-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks a lot for your good article. Would you plea...</title><content type='html'>Thanks a lot for your good article. Would you please guide me how I can setup django-celery on a production server? I want to know how celeryd can be started automatically without any need to use manage.py manually.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/6227348579632201113'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/6227348579632201113'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1286691879846#c6227348579632201113' title=''/><author><name>rozita</name><uri>http://www.blogger.com/profile/01994060618922418001</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-285839864'/><gd:extendedProperty name='blogger.displayTime' value='October 10, 2010 2:24 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5153590324894223368</id><published>2010-10-19T07:12:53.299-04:00</published><updated>2010-10-19T21:25:54.476-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@rozita

See this init script here:

http://github...</title><content type='html'>@rozita&lt;br /&gt;&lt;br /&gt;See this init script here:&lt;br /&gt;&lt;br /&gt;http://github.com/ask/celery/blob/master/contrib/generic-init.d/celeryd&lt;br /&gt;&lt;br /&gt;Here&amp;#39;s my /etc/default/celeryd configuration file, which sets up Celery for a Django project in /opt/Opal/release:&lt;br /&gt;http://pastie.org/1216111</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/5153590324894223368'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/5153590324894223368'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1287486773299#c5153590324894223368' title=''/><author><name>ask</name><uri>http://www.blogger.com/profile/07433689318562592843</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1720083323'/><gd:extendedProperty name='blogger.displayTime' value='October 19, 2010 7:12 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6960446756889877959</id><published>2010-11-09T13:10:08.286-05:00</published><updated>2010-11-09T18:29:08.963-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I was just looking for a simple way to use Celery....</title><content type='html'>I was just looking for a simple way to use Celery. Their documentation frankly *sucks* (&amp;quot;First Steps with Celery&amp;quot; entices you with how easy it is without showing you how to set it up), unless you care to learn everything about it from the get-go.  So even though I intend to use celery for queuing tasks rather than periodic ones (for now, anyway), your post should be very useful (assuming no snags), thank you for the short start-to-finish steps. I&amp;#39;m glad I don&amp;#39;t have to bother with RabbitMQ for now.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/6960446756889877959'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/6960446756889877959'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1289326208286#c6960446756889877959' title=''/><author><name>Dan</name><uri>http://www.blogger.com/profile/17464783227690703857</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-404404579'/><gd:extendedProperty name='blogger.displayTime' value='November 9, 2010 1:10 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1615001344424036723</id><published>2010-11-25T06:04:59.138-05:00</published><updated>2010-11-30T22:49:56.792-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>At this command
1. sudo ./manage.py celeryd -v 2 -...</title><content type='html'>At this command&lt;br /&gt;1. sudo ./manage.py celeryd -v 2 -B -s celery -E -l INFO &lt;br /&gt;&lt;br /&gt;You must add &amp;quot;-I tasks&amp;quot; to load tasks.py file ...</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/1615001344424036723'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/1615001344424036723'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1290683099138#c1615001344424036723' title=''/><author><name>Kiuz</name><uri>http://www.blogger.com/profile/11319306531894489564</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2069952385'/><gd:extendedProperty name='blogger.displayTime' value='November 25, 2010 6:04 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2337611311719982630</id><published>2010-11-30T22:54:05.011-05:00</published><updated>2010-11-30T22:54:05.011-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Huh... good catch Kiuz. You can also add the follo...</title><content type='html'>Huh... good catch Kiuz. You can also add the following to your settings.py:&lt;br /&gt;&lt;br /&gt;CELERY_IMPORTS = (&amp;quot;tasks&amp;quot;, )</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/2337611311719982630'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/2337611311719982630'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1291175645011#c2337611311719982630' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='November 30, 2010 10:54 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-383916294794282972</id><published>2010-12-12T10:42:24.690-05:00</published><updated>2010-12-13T09:21:22.969-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi
I used the same code and it is not able to find...</title><content type='html'>Hi&lt;br /&gt;I used the same code and it is not able to find the ServletContainer class. I am using JBoss 5.X and I do not think it comes with this container.&lt;br /&gt;&lt;br /&gt;Error is :--&lt;br /&gt;com.sun.jersey.spi.service.ServiceConfigurationError: com.sun.jersey.spi.HeaderDelegateProvider: The class com.sun.jersey.core.impl.provider.header.LocaleProvider implementing provider interface com.sun.jersey.spi.HeaderDelegateProvider could not be instantiated: null</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/383916294794282972'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/383916294794282972'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html?showComment=1292168544690#c383916294794282972' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1587635543072955306' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-204919058'/><gd:extendedProperty name='blogger.displayTime' value='December 12, 2010 10:42 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5920255017746313980</id><published>2011-01-06T15:48:11.222-05:00</published><updated>2011-01-06T22:02:29.137-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>The Firecookie plugin (for Firebug) also helped ge...</title><content type='html'>The Firecookie plugin (for Firebug) also helped get to the bottom of this - thanks for the post.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/5920255017746313980'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/5920255017746313980'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html?showComment=1294346891222#c5920255017746313980' title=''/><author><name>Darren Rush</name><uri>http://www.blogger.com/profile/03774363457571938369</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3929878854696214937' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-701969943'/><gd:extendedProperty name='blogger.displayTime' value='January 6, 2011 3:48 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8197009131134557242</id><published>2011-01-09T16:40:34.858-05:00</published><updated>2011-01-09T22:59:50.127-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Does the &amp;quot;class Meta&amp;quot; method work for re...</title><content type='html'>Does the &amp;quot;class Meta&amp;quot; method work for regular forms.Form&amp;#39;s? I had to come up with a workaround (http://mattluongo.com/django-html5-authentication-form-input-placeholders).</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6943363989708780449/comments/default/8197009131134557242'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6943363989708780449/comments/default/8197009131134557242'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/09/django-html5-input-placeholders.html?showComment=1294609234858#c8197009131134557242' title=''/><author><name>Matt Luongo</name><uri>http://mattluongo.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/09/django-html5-input-placeholders.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6943363989708780449' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6943363989708780449' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-619646263'/><gd:extendedProperty name='blogger.displayTime' value='January 9, 2011 4:40 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7069627425259234342</id><published>2011-01-10T09:22:36.301-05:00</published><updated>2011-01-10T09:25:22.031-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>The UK formatting is extremely simplistic and is i...</title><content type='html'>The UK formatting is extremely simplistic and is incorrect for more than 90% of allocated UK telephone numbers.&lt;br /&gt;&lt;br /&gt;The required pattern is way more complex than initially assumed. &lt;br /&gt;&lt;br /&gt;http://www.area-codes.org.uk/formatting.shtml&lt;br /&gt;&lt;br /&gt;http://www.aa-asterisk.org.uk/index.php/Number_Format</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3379224648150223669/comments/default/7069627425259234342'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3379224648150223669/comments/default/7069627425259234342'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/java-phone-number-format-api.html?showComment=1294669356301#c7069627425259234342' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/java-phone-number-format-api.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3379224648150223669' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3379224648150223669' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-413576969'/><gd:extendedProperty name='blogger.displayTime' value='January 10, 2011 9:22 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3764850859114368625</id><published>2011-01-10T09:27:37.703-05:00</published><updated>2011-01-10T09:27:37.703-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks Matt, you were right. I fixed the above For...</title><content type='html'>Thanks Matt, you were right. I fixed the above Form example.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6943363989708780449/comments/default/3764850859114368625'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6943363989708780449/comments/default/3764850859114368625'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/09/django-html5-input-placeholders.html?showComment=1294669657703#c3764850859114368625' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/09/django-html5-input-placeholders.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6943363989708780449' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6943363989708780449' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='January 10, 2011 9:27 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3846531651511051217</id><published>2011-01-12T20:16:31.061-05:00</published><updated>2011-01-13T11:28:27.824-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>It&amp;#39;s also wise to add &amp;quot; where table_schem...</title><content type='html'>It&amp;#39;s also wise to add &amp;quot; where table_schema = &amp;#39;database1&amp;#39; &amp;quot; in the case where you have multiple databases using the same tables and columns</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2596072972017889563/comments/default/3846531651511051217'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2596072972017889563/comments/default/3846531651511051217'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/mysql-drop-column-if-exists.html?showComment=1294881391061#c3846531651511051217' title=''/><author><name>nick</name><uri>http://www.blogger.com/profile/13441977977521140443</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/01/mysql-drop-column-if-exists.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2596072972017889563' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2596072972017889563' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-829122172'/><gd:extendedProperty name='blogger.displayTime' value='January 12, 2011 8:16 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9093628184622437455</id><published>2011-01-18T10:35:59.642-05:00</published><updated>2011-01-18T11:47:48.700-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice!  I was just busy this week using BeautifulSo...</title><content type='html'>Nice!  I was just busy this week using BeautifulSoup and mechanize to screen-scrape some supermarket sites - will publish a post on it soon.  I definitely like the idea of using screen-scraping to back up data that&amp;#39;s held on otherwise-closed systems...  am lookin&amp;#39; at facebook here...</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/9093628184622437455'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/9093628184622437455'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html?showComment=1295364959642#c9093628184622437455' title=''/><author><name>Resolver Developers</name><uri>http://www.blogger.com/profile/04471385323352966476</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-224730283154669891' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/224730283154669891' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-628090631'/><gd:extendedProperty name='blogger.displayTime' value='January 18, 2011 10:35 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5977529217885780493</id><published>2011-01-18T11:49:26.300-05:00</published><updated>2011-01-18T11:49:26.300-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Facebook actually has a decent API. I wish Amazon ...</title><content type='html'>Facebook actually has a decent API. I wish Amazon had one for this information. Screen scraping always makes me feel dirty ;)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/5977529217885780493'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/5977529217885780493'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html?showComment=1295369366300#c5977529217885780493' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-224730283154669891' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/224730283154669891' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='January 18, 2011 11:49 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8274221351913893402</id><published>2011-01-19T03:58:18.088-05:00</published><updated>2011-01-19T16:43:37.581-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Dear Chase,

these seem to be the same steps as wr...</title><content type='html'>Dear Chase,&lt;br /&gt;&lt;br /&gt;these seem to be the same steps as writing a RESTful web service in Glassfish. The big difference is that Glassfish comes with all Jersey JARs installed. &lt;br /&gt;&lt;br /&gt;My question is, which JARs did you deploy into which JBoss directory?</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/8274221351913893402'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/8274221351913893402'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html?showComment=1295427498088#c8274221351913893402' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1587635543072955306' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1122488254'/><gd:extendedProperty name='blogger.displayTime' value='January 19, 2011 3:58 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-925996244644148367</id><published>2011-01-19T16:47:45.374-05:00</published><updated>2011-01-19T16:47:45.374-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Typically, you would either put JARs into jboss/se...</title><content type='html'>Typically, you would either put JARs into jboss/servers/XXX/lib, where XXX is your server name, or you would have them packaged in your JARs.&lt;br /&gt;&lt;br /&gt;Which JARs you need will likely be different depending on your configuration. I would start by including jersey.jar itself, the trouble-shooting via the JBOSS logs.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/925996244644148367'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/925996244644148367'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html?showComment=1295473665374#c925996244644148367' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1587635543072955306' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='January 19, 2011 4:47 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3296985751414251478</id><published>2011-02-02T15:04:31.233-05:00</published><updated>2011-02-02T16:15:52.344-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for the writeup. I noticed the resulting XM...</title><content type='html'>Thanks for the writeup. I noticed the resulting XML only appears to have data for the month of October, while the Python query has an end date of 2100-01-01. Is there a reason the XML just has the monthly data?</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4981289296624517886/comments/default/3296985751414251478'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4981289296624517886/comments/default/3296985751414251478'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html?showComment=1296677071233#c3296985751414251478' title=''/><author><name>Simple Union Interactive</name><uri>http://simpleunion.mp/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4981289296624517886' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4981289296624517886' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-388719440'/><gd:extendedProperty name='blogger.displayTime' value='February 2, 2011 3:04 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2168742849208883739</id><published>2011-02-02T16:17:14.366-05:00</published><updated>2011-02-02T16:17:14.366-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>That&amp;#39;s because I wrote this blog post in Octob...</title><content type='html'>That&amp;#39;s because I wrote this blog post in October!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4981289296624517886/comments/default/2168742849208883739'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4981289296624517886/comments/default/2168742849208883739'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html?showComment=1296681434366#c2168742849208883739' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4981289296624517886' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4981289296624517886' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='February 2, 2011 4:17 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4596368038505414329</id><published>2011-02-02T17:28:38.328-05:00</published><updated>2011-02-03T09:45:15.400-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Makes sense. Thanks!</title><content type='html'>Makes sense. Thanks!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4981289296624517886/comments/default/4596368038505414329'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4981289296624517886/comments/default/4596368038505414329'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html?showComment=1296685718328#c4596368038505414329' title=''/><author><name>Simple Union Interactive</name><uri>http://simpleunion.mp/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4981289296624517886' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4981289296624517886' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-388719440'/><gd:extendedProperty name='blogger.displayTime' value='February 2, 2011 5:28 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3312349271605257674</id><published>2011-02-03T02:22:45.369-05:00</published><updated>2011-02-03T09:45:15.389-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Chase,

I&amp;#39;ve just read some of your post an...</title><content type='html'>Hi Chase,&lt;br /&gt;&lt;br /&gt;I&amp;#39;ve just read some of your post and they are all based from your experience right? I was really impressed on your works especially the tagline of your site &amp;quot;Facts, hacks and attacks from my life as a web application developer&amp;quot; I hope you could share some post why certain websites are being hacked.&lt;br /&gt;&lt;br /&gt;Thanks,&lt;br /&gt;Matt&lt;br /&gt;&lt;a href="http://www.emailreach.com/" rel="nofollow"&gt;Spam Filter Test&lt;/a&gt;</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3962763741434966893/comments/default/3312349271605257674'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3962763741434966893/comments/default/3312349271605257674'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/how-to-not-get-caught-in-spam-filters.html?showComment=1296717765369#c3312349271605257674' title=''/><author><name>Matthew</name><uri>http://www.blogger.com/profile/08161134347302121137</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/how-to-not-get-caught-in-spam-filters.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3962763741434966893' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3962763741434966893' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-638955518'/><gd:extendedProperty name='blogger.displayTime' value='February 3, 2011 2:22 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5095699347886162599</id><published>2011-02-03T09:46:55.597-05:00</published><updated>2011-02-03T09:46:55.597-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Matt, that tag line is really referring to some of...</title><content type='html'>Matt, that tag line is really referring to some of the hacks that I implement in my solutions, as well as some best-practices to mitigate potential attacks against your own stuff.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3962763741434966893/comments/default/5095699347886162599'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3962763741434966893/comments/default/5095699347886162599'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/how-to-not-get-caught-in-spam-filters.html?showComment=1296744415597#c5095699347886162599' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/how-to-not-get-caught-in-spam-filters.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3962763741434966893' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3962763741434966893' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='February 3, 2011 9:46 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8498833703330382430</id><published>2011-02-09T05:31:37.528-05:00</published><updated>2011-02-10T09:42:44.423-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Just what I was looking for - thank you!</title><content type='html'>Just what I was looking for - thank you!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/8498833703330382430'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/8498833703330382430'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html?showComment=1297247497528#c8498833703330382430' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1756163392948680222' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-534159572'/><gd:extendedProperty name='blogger.displayTime' value='February 9, 2011 5:31 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9023426750995734525</id><published>2011-02-10T18:14:41.534-05:00</published><updated>2011-02-11T12:31:58.152-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>ty that was vary help full</title><content type='html'>ty that was vary help full</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8578947169400596458/comments/default/9023426750995734525'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8578947169400596458/comments/default/9023426750995734525'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/12/python-convert-wordpdf-document-to-html.html?showComment=1297379681534#c9023426750995734525' title=''/><author><name>nate</name><uri>http://www.blogger.com/profile/09360773694038329026</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/12/python-convert-wordpdf-document-to-html.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8578947169400596458' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8578947169400596458' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-774564406'/><gd:extendedProperty name='blogger.displayTime' value='February 10, 2011 6:14 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6566215901171959989</id><published>2011-02-20T17:07:06.261-05:00</published><updated>2011-02-21T19:52:37.019-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks good support for my gdata understanding :-)...</title><content type='html'>Thanks good support for my gdata understanding :-)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4981289296624517886/comments/default/6566215901171959989'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4981289296624517886/comments/default/6566215901171959989'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html?showComment=1298239626261#c6566215901171959989' title=''/><author><name>Mat</name><uri>http://matinfo.ch</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/10/pulling-google-analytics-data-into.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4981289296624517886' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4981289296624517886' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2122353419'/><gd:extendedProperty name='blogger.displayTime' value='February 20, 2011 5:07 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9035791637081307537</id><published>2011-02-24T11:20:41.035-05:00</published><updated>2011-02-24T22:03:26.988-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>There is a very small off by one bug.

--- amazon_...</title><content type='html'>There is a very small off by one bug.&lt;br /&gt;&lt;br /&gt;--- amazon_order.py.old 2011-02-24 16:18:03.000000000 +0000&lt;br /&gt;+++ amazon_order.py 2011-02-24 16:18:13.000000000 +0000&lt;br /&gt;@@ -55,7 +55,7 @@ if __name__ == &amp;#39;__main__&amp;#39;:&lt;br /&gt;             sys.exit(1)&lt;br /&gt; &lt;br /&gt;       orders = []&lt;br /&gt;-      for year in range(int(options.firstyear), datetime.datetime.now().year):&lt;br /&gt;+      for year in range(int(options.firstyear), datetime.datetime.now().year+1):&lt;br /&gt;             orders_html = br.open(&amp;quot;https://www.amazon.com/gp/css/history/orders/view.html?orderFilter=year-%s&amp;amp;startAtIndex=1000&amp;quot; % year)&lt;br /&gt;             new_orders = _parse_orders(orders_html.read())&lt;br /&gt;             if new_orders:</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/9035791637081307537'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/9035791637081307537'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html?showComment=1298564441035#c9035791637081307537' title=''/><author><name>davidu</name><uri>http://davidu.wordpress.com/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-224730283154669891' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/224730283154669891' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1901434403'/><gd:extendedProperty name='blogger.displayTime' value='February 24, 2011 11:20 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1030580548631685538</id><published>2011-03-15T08:13:16.095-04:00</published><updated>2011-03-15T16:09:29.569-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>The big bonus is that Django use a salt in the pas...</title><content type='html'>The big bonus is that Django use a salt in the password encryption so the &amp;quot;rainbow tables&amp;quot; can not be used for password retrieval.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/1030580548631685538'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/1030580548631685538'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1300191196095#c1030580548631685538' title=''/><author><name>eng. Ilian Iliev</name><uri>http://ilian.i-n-i.org</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1641707257'/><gd:extendedProperty name='blogger.displayTime' value='March 15, 2011 8:13 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2536290878069538033</id><published>2011-03-16T02:39:32.644-04:00</published><updated>2011-03-16T10:15:53.930-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks, worked like charm. 
Currently no drawbacks...</title><content type='html'>Thanks, worked like charm. &lt;br /&gt;Currently no drawbacks discovered. :)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/2536290878069538033'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/2536290878069538033'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html?showComment=1300257572644#c2536290878069538033' title=''/><author><name>Raido</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1756163392948680222' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1121212802'/><gd:extendedProperty name='blogger.displayTime' value='March 16, 2011 2:39 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8053984915716544517</id><published>2011-03-18T08:16:31.539-04:00</published><updated>2011-03-18T12:26:34.950-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>About a year late, but thanks. I&amp;#39;ve been looki...</title><content type='html'>About a year late, but thanks. I&amp;#39;ve been looking for something like this.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/9186781643839438683/comments/default/8053984915716544517'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/9186781643839438683/comments/default/8053984915716544517'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/ubuntu-keyboard-shortcut-cheatsheet.html?showComment=1300450591539#c8053984915716544517' title=''/><author><name>Okal Otieno</name><uri>http://justokal.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/04/ubuntu-keyboard-shortcut-cheatsheet.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-9186781643839438683' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/9186781643839438683' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1634724641'/><gd:extendedProperty name='blogger.displayTime' value='March 18, 2011 8:16 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8343673927269936601</id><published>2011-03-19T03:43:26.216-04:00</published><updated>2011-03-19T12:06:44.759-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Chase,

your config is smart, but there are sti...</title><content type='html'>Hi Chase,&lt;br /&gt;&lt;br /&gt;your config is smart, but there are still some possible improvements. First, you can use &amp;quot;option http-server-close&amp;quot; instead of &amp;quot;option httpclose&amp;quot;. This will still maintain keep-alive with the client but not with the server. That may also allow you to merge your two static backends.&lt;br /&gt;&lt;br /&gt;Also, you can use a &amp;quot;maxconn&amp;quot; value on each application server, in order to ensure that you never go beyond that value even if the servers experience slowdowns or if the traffic suddenly rises. Excess requests will be queued and serially delivered (just like a connection pool). You will have to set a &amp;quot;timeout queue&amp;quot; for this, because by default it equals the &amp;quot;timeout connect&amp;quot; which is a bit low.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/440967589693826436/comments/default/8343673927269936601'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/440967589693826436/comments/default/8343673927269936601'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/haproxy-quickstart-w-full-example.html?showComment=1300520606216#c8343673927269936601' title=''/><author><name>Willy Tarreau</name><uri>http://haproxy.1wt.eu</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/02/haproxy-quickstart-w-full-example.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-440967589693826436' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/440967589693826436' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-558796973'/><gd:extendedProperty name='blogger.displayTime' value='March 19, 2011 3:43 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-328382315802888898</id><published>2011-03-19T12:23:13.312-04:00</published><updated>2011-03-19T12:23:13.312-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Good tips. Thanks! It looks like &amp;quot;http-server...</title><content type='html'>Good tips. Thanks! It looks like &amp;quot;http-server-close&amp;quot; is not supported on 1.3.22, which is what I&amp;#39;m running. Sounds like a good reason up upgrade to 1.4</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/440967589693826436/comments/default/328382315802888898'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/440967589693826436/comments/default/328382315802888898'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/haproxy-quickstart-w-full-example.html?showComment=1300551793312#c328382315802888898' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/02/haproxy-quickstart-w-full-example.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-440967589693826436' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/440967589693826436' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='March 19, 2011 12:23 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-566693659862442421</id><published>2011-04-01T05:23:25.987-04:00</published><updated>2011-04-01T13:41:35.237-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Awesome. This solved my problem. Django&amp;#39;s docu...</title><content type='html'>Awesome. This solved my problem. Django&amp;#39;s documentation tells you to pass data like HttpResponse(data, mimetype=mimetype), but with that i kept generating a corrupted zip says windows. Cheers.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/566693659862442421'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/566693659862442421'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html?showComment=1301649805987#c566693659862442421' title=''/><author><name>Super</name><uri>http://www.blogger.com/profile/09535835661290937924</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1489661186474672093' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1489661186474672093' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1422409432'/><gd:extendedProperty name='blogger.displayTime' value='April 1, 2011 5:23 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5514647065941325615</id><published>2011-04-01T11:54:19.805-04:00</published><updated>2011-04-01T13:41:35.218-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Wow, a one line fix that does the job!  I&amp;#39;m im...</title><content type='html'>Wow, a one line fix that does the job!  I&amp;#39;m impressed!  Thanks!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/5514647065941325615'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/5514647065941325615'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html?showComment=1301673259805#c5514647065941325615' title=''/><author><name>jkurrle</name><uri>http://www.blogger.com/profile/07496408440518285722</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1756163392948680222' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-736300821'/><gd:extendedProperty name='blogger.displayTime' value='April 1, 2011 11:54 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4703806676713030684</id><published>2011-04-09T08:41:28.341-04:00</published><updated>2011-04-09T13:39:53.455-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great article, It didn&amp;#39;t took me that long to ...</title><content type='html'>Great article, It didn&amp;#39;t took me that long to figure out that it was the path that was the problem. Seeing how everything else worked perfectly offline and when I put it online everything worked as well, except for the cookie, I figured a quick look in chrome://settings/content -&amp;gt; content settings -&amp;gt; All cookies and site data, would show me something interesting. &lt;br /&gt;That said, it is thanks to this article I realised I needed to swith two parameters :)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/4703806676713030684'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/4703806676713030684'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html?showComment=1302352888341#c4703806676713030684' title=''/><author><name>reaper_unique</name><uri>http://www.blogger.com/profile/02100127720759777232</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3929878854696214937' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-197262825'/><gd:extendedProperty name='blogger.displayTime' value='April 9, 2011 8:41 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4572158739728316120</id><published>2011-04-15T11:10:43.672-04:00</published><updated>2011-04-15T11:10:43.672-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I updated the config file with Willy&amp;#39;s changes...</title><content type='html'>I updated the config file with Willy&amp;#39;s changes, which do require 1.4</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/440967589693826436/comments/default/4572158739728316120'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/440967589693826436/comments/default/4572158739728316120'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/haproxy-quickstart-w-full-example.html?showComment=1302880243672#c4572158739728316120' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/02/haproxy-quickstart-w-full-example.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-440967589693826436' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/440967589693826436' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='April 15, 2011 11:10 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4997006149260149783</id><published>2011-04-22T20:48:01.303-04:00</published><updated>2011-04-23T13:23:13.983-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Pleassssssssse help me!
I just want to convert thi...</title><content type='html'>Pleassssssssse help me!&lt;br /&gt;I just want to convert this FBML CODE to HTML for a Preview image on my video with an app HTML:&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Thx in advance...&lt;br /&gt;Sorry for my english cause I&amp;#39;m french :((((((</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6357515735591726546/comments/default/4997006149260149783'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6357515735591726546/comments/default/4997006149260149783'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/04/python-convert-your-fbml-facebook-app.html?showComment=1303519681303#c4997006149260149783' title=''/><author><name>michael stevens</name><uri>http://www.facebook.com/michaelstevenspro</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/04/python-convert-your-fbml-facebook-app.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6357515735591726546' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6357515735591726546' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-171339094'/><gd:extendedProperty name='blogger.displayTime' value='April 22, 2011 8:48 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8235085797056007680</id><published>2011-04-23T06:13:19.404-04:00</published><updated>2011-04-23T13:23:13.974-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This blog, whilst insightful, is sadly out of date...</title><content type='html'>This blog, whilst insightful, is sadly out of date.&lt;br /&gt;&lt;br /&gt;ghettoq is deprecated and no longer compatible with djcelery. kombu is used instead.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/8235085797056007680'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/8235085797056007680'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1303553599404#c8235085797056007680' title=''/><author><name>Andrew</name><uri>http://blog.adlibre.org</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2035443474'/><gd:extendedProperty name='blogger.displayTime' value='April 23, 2011 6:13 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3165602156858582532</id><published>2011-05-11T22:08:57.874-04:00</published><updated>2011-05-11T22:08:57.874-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Amazon recently refreshed their site layout, which...</title><content type='html'>Amazon recently refreshed their site layout, which makes this script break, but an easy fix is changing the user agent to one for Opera, which they&amp;#39;re still serving the old layout to.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/3165602156858582532'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/3165602156858582532'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html?showComment=1305166137874#c3165602156858582532' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-224730283154669891' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/224730283154669891' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1540560813'/><gd:extendedProperty name='blogger.displayTime' value='May 11, 2011 10:08 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3383671599776377450</id><published>2011-05-12T09:43:46.356-04:00</published><updated>2011-05-22T16:58:48.570-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>great - thanks for the info, works well.</title><content type='html'>great - thanks for the info, works well.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4141879128909009117/comments/default/3383671599776377450'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4141879128909009117/comments/default/3383671599776377450'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/11/letting-ssh-remember-your-passwords.html?showComment=1305207826356#c3383671599776377450' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/11/letting-ssh-remember-your-passwords.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4141879128909009117' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4141879128909009117' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-545286240'/><gd:extendedProperty name='blogger.displayTime' value='May 12, 2011 9:43 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8244483855893312331</id><published>2011-05-24T15:33:10.314-04:00</published><updated>2011-05-25T15:45:57.800-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>We restarted X using &amp;quot;sudo /etc/init.d/gdm re...</title><content type='html'>We restarted X using &amp;quot;sudo /etc/init.d/gdm restart&amp;quot; and because we wanted the second monitor inverted, we used &amp;quot;inverted&amp;quot; as the &amp;quot;Rotate&amp;quot; option.&lt;br /&gt;&lt;br /&gt;The x server didn&amp;#39;t reset properly the second time, so we hard reset the machine, and when it booted - nvidia logo - login screen, rotated bliss.&lt;br /&gt;&lt;br /&gt;After changing the configuration file we can no longer use the nvidia config gui tool, but command line ftw. &lt;br /&gt;&lt;br /&gt;Thanks for your page</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/8244483855893312331'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/8244483855893312331'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html?showComment=1306265590314#c8244483855893312331' title=''/><author><name>metonymous</name><uri>http://www.blogger.com/profile/10726324799842914847</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-610537785'/><gd:extendedProperty name='blogger.displayTime' value='May 24, 2011 3:33 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5180776790352348970</id><published>2011-06-03T06:41:59.867-04:00</published><updated>2011-06-03T16:39:16.301-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice tip ^_^ Very helpful!

Thanks.</title><content type='html'>Nice tip ^_^ Very helpful!&lt;br /&gt;&lt;br /&gt;Thanks.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1588839622246397352/comments/default/5180776790352348970'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1588839622246397352/comments/default/5180776790352348970'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html?showComment=1307097719867#c5180776790352348970' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1588839622246397352' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1588839622246397352' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1639855318'/><gd:extendedProperty name='blogger.displayTime' value='June 3, 2011 6:41 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2533272150963259347</id><published>2011-06-20T03:54:53.426-04:00</published><updated>2011-06-20T09:18:27.558-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Chase,
your jersey example is running well on J...</title><content type='html'>Hi Chase,&lt;br /&gt;your jersey example is running well on JBoss 4.2.3, but on JBoss 5.1.0 I get this:&lt;br /&gt;java.lang.ClassCastException: com.sun.xml.bind.v2.runtime.JAXBContextImpl cannot be cast to javax.xml.bind.JAXBContext&lt;br /&gt;&lt;br /&gt;Any idea, what can I do?</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/2533272150963259347'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/2533272150963259347'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html?showComment=1308556493426#c2533272150963259347' title=''/><author><name>Snooker</name><uri>http://www.blogger.com/profile/15935560365951895934</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1587635543072955306' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1043725638'/><gd:extendedProperty name='blogger.displayTime' value='June 20, 2011 3:54 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9046117721162042154</id><published>2011-06-20T21:44:40.218-04:00</published><updated>2011-06-20T22:30:35.361-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great little tip! However, the changes won&amp;#39;t t...</title><content type='html'>Great little tip! However, the changes won&amp;#39;t take effect until you log out and log back in.&lt;br /&gt;&lt;br /&gt;If you don&amp;#39;t want to keep whitelisting apps, you can also change the value to [&amp;#39;all&amp;#39;]</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4658796162438848542/comments/default/9046117721162042154'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4658796162438848542/comments/default/9046117721162042154'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html?showComment=1308620680218#c9046117721162042154' title=''/><author><name>Jim Hurne</name><uri>http://www.blogger.com/profile/09063038784654285948</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4658796162438848542' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4658796162438848542' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-551129764'/><gd:extendedProperty name='blogger.displayTime' value='June 20, 2011 9:44 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9113634909256338242</id><published>2011-06-21T11:41:29.145-04:00</published><updated>2011-06-21T21:56:54.264-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Looks like a decent overview.  One comment I have ...</title><content type='html'>Looks like a decent overview.  One comment I have is that my postgres user doesn&amp;#39;t seem to be allowed to ssh in by default.  The log file says: User postgres not allowed because account is locked</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/7412841614287844992/comments/default/9113634909256338242'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/7412841614287844992/comments/default/9113634909256338242'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/quickstart-log-shipping-with-postgres.html?showComment=1308670889145#c9113634909256338242' title=''/><author><name>philrosenstein</name><uri>http://www.blogger.com/profile/08854010533937593604</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/02/quickstart-log-shipping-with-postgres.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-7412841614287844992' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/7412841614287844992' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1240726364'/><gd:extendedProperty name='blogger.displayTime' value='June 21, 2011 11:41 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2295079786576296078</id><published>2011-06-24T10:05:12.982-04:00</published><updated>2011-06-24T14:53:49.609-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>how do we convert this to script tags and not &amp;lt;...</title><content type='html'>how do we convert this to script tags and not &amp;lt;![CDATA[ ?</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1676710695151244402/comments/default/2295079786576296078'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1676710695151244402/comments/default/2295079786576296078'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/01/regular-expression-negative-lookahead_31.html?showComment=1308924312982#c2295079786576296078' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/01/regular-expression-negative-lookahead_31.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1676710695151244402' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1676710695151244402' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1816356169'/><gd:extendedProperty name='blogger.displayTime' value='June 24, 2011 10:05 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-339549472723317998</id><published>2011-06-30T13:19:10.343-04:00</published><updated>2011-07-01T09:10:02.559-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks</title><content type='html'>Thanks</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8999054281135272066/comments/default/339549472723317998'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8999054281135272066/comments/default/339549472723317998'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/12/finding-open-vnc-hosts-with-nmap.html?showComment=1309454350343#c339549472723317998' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/12/finding-open-vnc-hosts-with-nmap.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8999054281135272066' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8999054281135272066' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1787177871'/><gd:extendedProperty name='blogger.displayTime' value='June 30, 2011 1:19 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3997638189649061187</id><published>2011-07-13T13:47:52.685-04:00</published><updated>2011-07-13T18:01:14.403-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Very nice. Your article helped me a lot.</title><content type='html'>Very nice. Your article helped me a lot.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/3997638189649061187'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/3997638189649061187'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html?showComment=1310579272685#c3997638189649061187' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3929878854696214937' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1818010701'/><gd:extendedProperty name='blogger.displayTime' value='July 13, 2011 1:47 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4760725958096087056</id><published>2011-07-27T01:32:54.405-04:00</published><updated>2011-07-27T16:03:55.755-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>can u please explain how to have default value

li...</title><content type='html'>can u please explain how to have default value&lt;br /&gt;&lt;br /&gt;like &lt;br /&gt;.....&lt;br /&gt;choice_field=((&amp;#39;o&amp;#39;,&amp;#39;one&amp;#39;),&lt;br /&gt;(&amp;#39;t&amp;#39;,&amp;#39;two&amp;#39;))&lt;br /&gt;.....&lt;br /&gt;and make check box option in django admin</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4608803855683569611/comments/default/4760725958096087056'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4608803855683569611/comments/default/4760725958096087056'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/05/django-manytomanyfield-on-modelform-as.html?showComment=1311744774405#c4760725958096087056' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/05/django-manytomanyfield-on-modelform-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4608803855683569611' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4608803855683569611' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2018269081'/><gd:extendedProperty name='blogger.displayTime' value='July 27, 2011 1:32 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8422979288040904247</id><published>2011-07-27T06:47:49.727-04:00</published><updated>2011-07-27T16:03:55.742-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I deployed jersey on jboss 5.1 following the tutor...</title><content type='html'>I deployed jersey on jboss 5.1 following the tutorial. The libraries I add were&lt;br /&gt;&lt;br /&gt;activation-1.1.jar&lt;br /&gt;asm-3.1.jar&lt;br /&gt;jersey-bundle-1.8.jar&lt;br /&gt;stax-api-1.0-2.jar&lt;br /&gt;&lt;br /&gt;I had a similar problem to Snooker and took out the jaxb jars that come from jersey from my project lib as I am running under JRE 6. JAXB is included with Java 6 so did not need to add it to the project.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/8422979288040904247'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/8422979288040904247'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html?showComment=1311763669727#c8422979288040904247' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1587635543072955306' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1690304509'/><gd:extendedProperty name='blogger.displayTime' value='July 27, 2011 6:47 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8674641590037095925</id><published>2011-07-28T19:54:23.239-04:00</published><updated>2011-07-28T20:23:45.537-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Awesome, works like a charm. I struggled for 2 hou...</title><content type='html'>Awesome, works like a charm. I struggled for 2 hours and then I found this post. Looking at the above code, I fixed the bugs in my code.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/8674641590037095925'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/8674641590037095925'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html?showComment=1311897263239#c8674641590037095925' title=''/><author><name>VatsaV</name><uri>http://www.blogger.com/profile/11857396383365438297</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='24' src='http://bp0.blogger.com/_1Wwj5jJ3NCw/R4OuTx2wz4I/AAAAAAAAAOI/vT0924QNRfI/S220/DSC00236.JPG'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1489661186474672093' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1489661186474672093' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1086723273'/><gd:extendedProperty name='blogger.displayTime' value='July 28, 2011 7:54 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9212755707980753115</id><published>2011-07-30T18:38:21.682-04:00</published><updated>2011-07-31T10:23:59.907-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Works great for me, thanks for posting!</title><content type='html'>Works great for me, thanks for posting!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/189241684773233096/comments/default/9212755707980753115'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/189241684773233096/comments/default/9212755707980753115'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/backup-mintcom.html?showComment=1312065501682#c9212755707980753115' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/backup-mintcom.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-189241684773233096' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/189241684773233096' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1769489290'/><gd:extendedProperty name='blogger.displayTime' value='July 30, 2011 6:38 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5400769373501400370</id><published>2011-08-08T15:46:24.885-04:00</published><updated>2011-08-09T15:29:48.115-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You sir are a life saver. Thank you</title><content type='html'>You sir are a life saver. Thank you</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3156472016542488658/comments/default/5400769373501400370'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3156472016542488658/comments/default/5400769373501400370'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/stripping-control-characters-in-python.html?showComment=1312832784885#c5400769373501400370' title=''/><author><name>Bryan</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/05/stripping-control-characters-in-python.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3156472016542488658' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3156472016542488658' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-282115889'/><gd:extendedProperty name='blogger.displayTime' value='August 8, 2011 3:46 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5821403539908755026</id><published>2011-08-12T19:23:29.519-04:00</published><updated>2011-08-12T19:53:01.456-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I am brazilian but I had to comment. Your article ...</title><content type='html'>I am brazilian but I had to comment. Your article was just what I need. Thanks.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2276071926905478436/comments/default/5821403539908755026'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2276071926905478436/comments/default/5821403539908755026'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/click-on-link-follow-via.html?showComment=1313191409519#c5821403539908755026' title=''/><author><name>Edgar Peixoto</name><uri>http://www.blogger.com/profile/13038098421735581297</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/04/click-on-link-follow-via.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2276071926905478436' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2276071926905478436' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-359053821'/><gd:extendedProperty name='blogger.displayTime' value='August 12, 2011 7:23 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3732414671755968834</id><published>2011-08-16T17:50:41.886-04:00</published><updated>2011-08-17T20:03:26.197-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>^^ clearly someone just learned about salt and was...</title><content type='html'>^^ clearly someone just learned about salt and was looking for a place to show off their knowledge... salt is pretty standard, not a &amp;quot;big bonus,&amp;quot; and if you put &amp;quot;rainbow tables&amp;quot; in quotes then I&amp;#39;m pretty sure you don&amp;#39;t know much about them... This post does not regard the encryption methods and their breakability so much as the ability to switch users within Django. &lt;br /&gt;&lt;br /&gt;While this allows you to stay logged in as admin while you are SU&amp;#39;d, I&amp;#39;m not sure that&amp;#39;s necessary, or even the best idea.  I plan to use this the SU capability for testing, error duplication, etc, and I would feel more comfortable logging in as another user completely while doing this.  &lt;br /&gt;&lt;br /&gt;Furthermore, in line with the comments at &amp;gt;&amp;gt; http://copiousfreetime.blogspot.com/2006/12/django-su.html &amp;lt;&amp;lt;, if the solution still works, you can mark that someone is SU&amp;#39;d, and provide a mechanism for them to log out through an unrelated view so that the views you&amp;#39;re testing and/or debugging remain untouched and as they would appear to the user you are logged in as.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/3732414671755968834'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/3732414671755968834'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1313531441886#c3732414671755968834' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1030392991'/><gd:extendedProperty name='blogger.displayTime' value='August 16, 2011 5:50 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8799569735302700231</id><published>2011-08-19T03:11:56.344-04:00</published><updated>2011-08-19T11:55:47.042-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>thanks mans!</title><content type='html'>thanks mans!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2482028679529825709/comments/default/8799569735302700231'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2482028679529825709/comments/default/8799569735302700231'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/rpcencoded-web-services-on-java-16.html?showComment=1313737916344#c8799569735302700231' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2008/12/rpcencoded-web-services-on-java-16.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2482028679529825709' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2482028679529825709' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1886350109'/><gd:extendedProperty name='blogger.displayTime' value='August 19, 2011 3:11 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3206341918670318133</id><published>2011-08-23T09:49:28.939-04:00</published><updated>2011-08-24T14:58:44.991-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I have just wrapped all of this up into an egg her...</title><content type='html'>I have just wrapped all of this up into an egg here:&lt;br /&gt;&lt;br /&gt;&lt;a href="https://github.com/continuous/django-su" rel="nofollow"&gt;https://github.com/continuous/django-su&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;I have added to ability to exit the su&amp;#39;ed session, and removed the need for an authentication backend. I hope it helps someone :)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/3206341918670318133'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8736033396736559409/comments/default/3206341918670318133'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html?showComment=1314107368939#c3206341918670318133' title=''/><author><name>Adam Charnock</name><uri>http://www.blogger.com/profile/18210818108572694367</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/06/add-button-to-django-admin-to-login-as.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8736033396736559409' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8736033396736559409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-267855075'/><gd:extendedProperty name='blogger.displayTime' value='August 23, 2011 9:49 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5528714045622973495</id><published>2011-09-05T08:00:34.751-04:00</published><updated>2011-09-05T14:20:38.682-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This works, very easy. But how will I save files c...</title><content type='html'>This works, very easy. But how will I save files coming from a database?</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/5528714045622973495'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/5528714045622973495'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html?showComment=1315224034751#c5528714045622973495' title=''/><author><name>clyde</name><uri>http://javaandfriends.blogspot.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1489661186474672093' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1489661186474672093' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2018252417'/><gd:extendedProperty name='blogger.displayTime' value='September 5, 2011 8:00 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1904726912270558726</id><published>2011-09-09T10:28:15.741-04:00</published><updated>2011-09-16T13:32:44.881-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you very much indeed - it&amp;#39;s worth knowin...</title><content type='html'>Thank you very much indeed - it&amp;#39;s worth knowing that it&amp;#39;s &amp;#39;splunk list license&amp;#39; with =&amp;gt;v1.20 and the &amp;#39;-auth user:passwd&amp;#39; bit in there can come in handy too. But seriously, thank you.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2459079791871901122/comments/default/1904726912270558726'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2459079791871901122/comments/default/1904726912270558726'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/04/cron-job-to-mail-splunk-license.html?showComment=1315578495741#c1904726912270558726' title=''/><author><name>Chopper3</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/04/cron-job-to-mail-splunk-license.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2459079791871901122' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2459079791871901122' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-664491613'/><gd:extendedProperty name='blogger.displayTime' value='September 9, 2011 10:28 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4675983839636360432</id><published>2011-09-20T05:36:55.663-04:00</published><updated>2011-09-21T12:45:07.844-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks a lot!</title><content type='html'>Thanks a lot!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1250755840805426326/comments/default/4675983839636360432'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1250755840805426326/comments/default/4675983839636360432'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/youtube-detecting-x-frame.html?showComment=1316511415663#c4675983839636360432' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/01/youtube-detecting-x-frame.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1250755840805426326' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1250755840805426326' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1585500303'/><gd:extendedProperty name='blogger.displayTime' value='September 20, 2011 5:36 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5321121725290143117</id><published>2011-10-03T12:24:57.846-04:00</published><updated>2011-10-03T14:13:44.966-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Just wanted to add my thanks as well! This saved m...</title><content type='html'>Just wanted to add my thanks as well! This saved me a lot of headaches. Cheers!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2482028679529825709/comments/default/5321121725290143117'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2482028679529825709/comments/default/5321121725290143117'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/rpcencoded-web-services-on-java-16.html?showComment=1317659097846#c5321121725290143117' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2008/12/rpcencoded-web-services-on-java-16.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2482028679529825709' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2482028679529825709' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1605789254'/><gd:extendedProperty name='blogger.displayTime' value='October 3, 2011 12:24 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6720525187157119111</id><published>2011-10-04T12:37:47.527-04:00</published><updated>2011-10-06T09:31:59.734-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>hi, i can confirm with these libraries it works un...</title><content type='html'>hi, i can confirm with these libraries it works under jboss5.1&lt;br /&gt;&lt;br /&gt;activation-1.1.jar&lt;br /&gt;asm-3.1.jar&lt;br /&gt;jaxb-api-2.1.jar&lt;br /&gt;jaxb-impl-2.1.jar&lt;br /&gt;jersey-bundle-1.5.jar&lt;br /&gt;jersey-core-1.5.jar&lt;br /&gt;jersey-server-1.5.jar&lt;br /&gt;jsr311-api-1.0.jar&lt;br /&gt;stax-api-1.0-2.jar</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/6720525187157119111'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/6720525187157119111'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html?showComment=1317746267527#c6720525187157119111' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1587635543072955306' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-947665089'/><gd:extendedProperty name='blogger.displayTime' value='October 4, 2011 12:37 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1682245387288991699</id><published>2011-10-20T18:30:24.906-04:00</published><updated>2011-10-21T11:26:35.173-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Found this post after like 2 hours of headache try...</title><content type='html'>Found this post after like 2 hours of headache trying to do the same thing. Thank you so much.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5092620658746523287/comments/default/1682245387288991699'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5092620658746523287/comments/default/1682245387288991699'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/selenium-execute-arbitrary-javascript.html?showComment=1319149824906#c1682245387288991699' title=''/><author><name>Fotios</name><uri>http://www.blogger.com/profile/16633692566164605075</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/05/selenium-execute-arbitrary-javascript.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-5092620658746523287' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/5092620658746523287' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-562932304'/><gd:extendedProperty name='blogger.displayTime' value='October 20, 2011 6:30 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3231046397680333460</id><published>2011-10-22T17:31:06.563-04:00</published><updated>2011-10-24T15:26:50.317-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>whoever installed must have locked the account.  y...</title><content type='html'>whoever installed must have locked the account.  you should unlock the postgres account with &amp;#39;sudo usermod -U postgres&amp;#39;</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/7412841614287844992/comments/default/3231046397680333460'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/7412841614287844992/comments/default/3231046397680333460'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/02/quickstart-log-shipping-with-postgres.html?showComment=1319319066563#c3231046397680333460' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/02/quickstart-log-shipping-with-postgres.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-7412841614287844992' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/7412841614287844992' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-551397469'/><gd:extendedProperty name='blogger.displayTime' value='October 22, 2011 5:31 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5169940102116724623</id><published>2011-10-25T12:32:08.451-04:00</published><updated>2011-10-25T16:20:00.081-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Ditto :)</title><content type='html'>Ditto :)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3156472016542488658/comments/default/5169940102116724623'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3156472016542488658/comments/default/5169940102116724623'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/stripping-control-characters-in-python.html?showComment=1319560328451#c5169940102116724623' title=''/><author><name>trokster</name><uri>http://none.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/05/stripping-control-characters-in-python.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3156472016542488658' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3156472016542488658' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1808420493'/><gd:extendedProperty name='blogger.displayTime' value='October 25, 2011 12:32 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3707562630974662145</id><published>2011-10-26T23:50:29.627-04:00</published><updated>2011-10-27T20:06:47.645-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>unity panel doesn&amp;#39;t support double-click actio...</title><content type='html'>unity panel doesn&amp;#39;t support double-click action, so if you close keepassx to the tray, you can never get it back. You have to quite and restart keepassX again and again, quite annoying.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4658796162438848542/comments/default/3707562630974662145'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4658796162438848542/comments/default/3707562630974662145'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html?showComment=1319687429627#c3707562630974662145' title=''/><author><name>iSingle</name><uri>http://www.blogger.com/profile/13580227514292554423</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4658796162438848542' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4658796162438848542' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1215826072'/><gd:extendedProperty name='blogger.displayTime' value='October 26, 2011 11:50 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5868921831757047460</id><published>2011-11-01T08:18:24.307-04:00</published><updated>2011-11-01T09:28:18.409-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great! Great! Great!</title><content type='html'>Great! Great! Great!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/5868921831757047460'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/5868921831757047460'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html?showComment=1320149904307#c5868921831757047460' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1756163392948680222' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1704660615'/><gd:extendedProperty name='blogger.displayTime' value='November 1, 2011 8:18 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3590719433330219977</id><published>2011-11-02T16:13:59.843-04:00</published><updated>2011-11-04T15:33:01.019-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Disabling &amp;quot;miniize to tray&amp;quot; help somewha...</title><content type='html'>Disabling &amp;quot;miniize to tray&amp;quot; help somewhat as then after normal minimization keepassx can be redisplayed via unity panel (press Win then pick appropriate number or click keepass icon)&lt;br /&gt;&lt;br /&gt;Still, irritating. Whatever appindicators are good for, I do not understand why couldn&amp;#39;t old panel APIs remain supported.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4658796162438848542/comments/default/3590719433330219977'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4658796162438848542/comments/default/3590719433330219977'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html?showComment=1320264839843#c3590719433330219977' title=''/><author><name>Mekk</name><uri>http://notatnik.mekk.waw.pl</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4658796162438848542' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4658796162438848542' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-737702584'/><gd:extendedProperty name='blogger.displayTime' value='November 2, 2011 4:13 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1672791304106598793</id><published>2011-11-02T17:40:27.617-04:00</published><updated>2011-11-04T15:31:43.354-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I&amp;#39;m getting an error when trying to run the co...</title><content type='html'>I&amp;#39;m getting an error when trying to run the command by hand:&lt;br /&gt;&lt;br /&gt;./check_rabbitmq --host san-api01 --warning-queue-size 100 --critical-queue-size 400 --warning-seconds 600 --critical-seconds 2400                                   /etc/nagios/plugins&lt;br /&gt;  File &amp;quot;./check_rabbitmq&amp;quot;, line 56&lt;br /&gt;    exit(1 if num_messages &amp;gt; options.crit_queue else 2) &lt;br /&gt;            ^&lt;br /&gt;SyntaxError: invalid syntax</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1611444042677825232/comments/default/1672791304106598793'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1611444042677825232/comments/default/1672791304106598793'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/07/checking-rabbitmq-queue-sizeage-with.html?showComment=1320270027617#c1672791304106598793' title=''/><author><name>lynx</name><uri>http://www.blogger.com/profile/01580958066249166438</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/07/checking-rabbitmq-queue-sizeage-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1611444042677825232' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1611444042677825232' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-11156045'/><gd:extendedProperty name='blogger.displayTime' value='November 2, 2011 5:40 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-270597936962728882</id><published>2011-11-03T03:18:22.214-04:00</published><updated>2011-11-04T15:31:28.113-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for the detailed explanation!

A fifth opti...</title><content type='html'>Thanks for the detailed explanation!&lt;br /&gt;&lt;br /&gt;A fifth option would be to use the @exempt_csrf decorator for that particular form.&lt;br /&gt;&lt;br /&gt;I added a link to your page at http://stackoverflow.com/questions/7441889/csrf-verfication-failed-but-only-with-ie9/7991359#7991359</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6601916846612727599/comments/default/270597936962728882'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6601916846612727599/comments/default/270597936962728882'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/06/django-csrf-verification-failed-in-ie.html?showComment=1320304702214#c270597936962728882' title=''/><author><name>akaihola</name><uri>http://www.blogger.com/profile/15705799059863673635</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/06/django-csrf-verification-failed-in-ie.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6601916846612727599' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6601916846612727599' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1745118957'/><gd:extendedProperty name='blogger.displayTime' value='November 3, 2011 3:18 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-561117382284114857</id><published>2011-11-04T15:32:31.058-04:00</published><updated>2011-11-04T15:32:31.058-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Likely a python version issue. I&amp;#39;m on 2.7.</title><content type='html'>Likely a python version issue. I&amp;#39;m on 2.7.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1611444042677825232/comments/default/561117382284114857'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1611444042677825232/comments/default/561117382284114857'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/07/checking-rabbitmq-queue-sizeage-with.html?showComment=1320435151058#c561117382284114857' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/07/checking-rabbitmq-queue-sizeage-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1611444042677825232' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1611444042677825232' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='November 4, 2011 3:32 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-859524547910372157</id><published>2011-11-09T16:41:48.208-05:00</published><updated>2011-11-10T12:33:35.138-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you for sharing this - the window control ke...</title><content type='html'>Thank you for sharing this - the window control keys keep slipping from my memory.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/9186781643839438683/comments/default/859524547910372157'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/9186781643839438683/comments/default/859524547910372157'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/ubuntu-keyboard-shortcut-cheatsheet.html?showComment=1320874908208#c859524547910372157' title=''/><author><name>Alvin Mites</name><uri>http://www.mitesdesign.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/04/ubuntu-keyboard-shortcut-cheatsheet.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-9186781643839438683' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/9186781643839438683' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1080846019'/><gd:extendedProperty name='blogger.displayTime' value='November 9, 2011 4:41 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4507445461505737755</id><published>2011-11-29T21:32:37.381-05:00</published><updated>2011-11-30T09:50:32.956-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>works fine displaying the date in the right format...</title><content type='html'>works fine displaying the date in the right format but Im having problems validating it... I ask me to enter a valid date.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1588839622246397352/comments/default/4507445461505737755'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1588839622246397352/comments/default/4507445461505737755'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html?showComment=1322620357381#c4507445461505737755' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1588839622246397352' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1588839622246397352' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1583431821'/><gd:extendedProperty name='blogger.displayTime' value='November 29, 2011 9:32 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7420220374639227451</id><published>2011-12-10T20:45:27.279-05:00</published><updated>2011-12-10T22:36:15.923-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Awesome!  Really helped.  Wish Django doc had real...</title><content type='html'>Awesome!  Really helped.  Wish Django doc had real world examples like this.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1588839622246397352/comments/default/7420220374639227451'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1588839622246397352/comments/default/7420220374639227451'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html?showComment=1323567927279#c7420220374639227451' title=''/><author><name>Carlos</name><uri>http://www.blogger.com/profile/07381091470483481916</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/01/django-forms-date-field-format.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1588839622246397352' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1588839622246397352' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1268328473'/><gd:extendedProperty name='blogger.displayTime' value='December 10, 2011 8:45 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6306380075046383399</id><published>2011-12-14T16:41:35.360-05:00</published><updated>2011-12-15T16:03:42.500-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>does anybody tried this on ssl? In my case it only...</title><content type='html'>does anybody tried this on ssl? In my case it only works for http.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/6306380075046383399'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/6306380075046383399'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html?showComment=1323898895360#c6306380075046383399' title=''/><author><name>Kiman</name><uri>http://www.blogger.com/profile/01473654687670593821</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1756163392948680222' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-93406816'/><gd:extendedProperty name='blogger.displayTime' value='December 14, 2011 4:41 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1339308327053732961</id><published>2011-12-15T00:04:32.138-05:00</published><updated>2011-12-15T16:03:40.673-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you so much for this example! I had read/tri...</title><content type='html'>Thank you so much for this example! I had read/tried hundreds of others and never could get my jar file working until I tried yours. Simple and to the point, and the output to the log is a great idea also.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3790413482480444373/comments/default/1339308327053732961'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3790413482480444373/comments/default/1339308327053732961'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/11/running-jar-as-service-linuxupstart.html?showComment=1323925472138#c1339308327053732961' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/11/running-jar-as-service-linuxupstart.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3790413482480444373' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3790413482480444373' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1951972072'/><gd:extendedProperty name='blogger.displayTime' value='December 15, 2011 12:04 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3533816022540372662</id><published>2011-12-21T10:37:02.627-05:00</published><updated>2011-12-21T14:53:09.580-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Amazing! I was banging my head for two days now, w...</title><content type='html'>Amazing! I was banging my head for two days now, why on Earth everything is working perfectly in all browsers except Internet Explorer. When I set the path, IE started working! Thanks a ton for the article!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/3533816022540372662'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/3533816022540372662'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html?showComment=1324481822627#c3533816022540372662' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3929878854696214937' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-837664467'/><gd:extendedProperty name='blogger.displayTime' value='December 21, 2011 10:37 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1865692840837552333</id><published>2011-12-28T18:04:06.720-05:00</published><updated>2011-12-31T15:01:36.294-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I was wondering how I can use this to create a sal...</title><content type='html'>I was wondering how I can use this to create a sales report with my amazon account. Thanks.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/1865692840837552333'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/224730283154669891/comments/default/1865692840837552333'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html?showComment=1325113446720#c1865692840837552333' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/01/backup-your-amazon-order-history-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-224730283154669891' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/224730283154669891' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-203991607'/><gd:extendedProperty name='blogger.displayTime' value='December 28, 2011 6:04 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7934028671664909791</id><published>2012-01-09T18:18:49.654-05:00</published><updated>2012-01-14T09:37:38.446-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Just what I was looking for. Thanks. In my case I ...</title><content type='html'>Just what I was looking for. Thanks. In my case I want to close the database connection because my program briefly talks to django in the beginning, and then runs for an hour. I&amp;#39;ve got a lot of these running and don&amp;#39;t want to hog the mysql connections.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2350560136416206280/comments/default/7934028671664909791'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2350560136416206280/comments/default/7934028671664909791'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html?showComment=1326151129654#c7934028671664909791' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2350560136416206280' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2350560136416206280' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1053102162'/><gd:extendedProperty name='blogger.displayTime' value='January 9, 2012 6:18 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2928736873356616137</id><published>2012-01-20T07:02:48.812-05:00</published><updated>2012-01-20T10:28:32.755-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Excellent, this worked. To calculate the offset if...</title><content type='html'>Excellent, this worked. To calculate the offset if you want your monitors in a horizontal T-shape, just use (longest dimension of the vertical screen minus shortest dimension of the horizontal screen) / 2. For example, for two 1920x1200 screens, it&amp;#39;s (1920-1200)/2 = 360 pixels offset for the horizontal screen.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/2928736873356616137'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/2928736873356616137'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html?showComment=1327060968812#c2928736873356616137' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-374864848'/><gd:extendedProperty name='blogger.displayTime' value='January 20, 2012 7:02 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6918496947217633756</id><published>2012-01-31T04:51:04.385-05:00</published><updated>2012-01-31T15:37:27.241-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thumbs up for the author, you solved my problem ar...</title><content type='html'>Thumbs up for the author, you solved my problem around csrf.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8174320452310838878/comments/default/6918496947217633756'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8174320452310838878/comments/default/6918496947217633756'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/08/django-exclude-some-views-from.html?showComment=1328003464385#c6918496947217633756' title=''/><author><name>BAka</name><uri>http://www.blogger.com/profile/15116205631766944851</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://4.bp.blogspot.com/-dLek9CY-8C4/TmFh9hpuEdI/AAAAAAAAAfE/SjtAwu6a8gU/s220/photo1x1.png'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/08/django-exclude-some-views-from.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8174320452310838878' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8174320452310838878' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-606200126'/><gd:extendedProperty name='blogger.displayTime' value='January 31, 2012 4:51 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8778109676110032313</id><published>2012-01-31T13:58:30.841-05:00</published><updated>2012-01-31T15:37:27.247-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This is a great tip, it can also be added to .htac...</title><content type='html'>This is a great tip, it can also be added to .htaccess if you do not have access to your http.conf such as paid or shared hosting services. In regards to Kiman&amp;#39;s question it really shouldn&amp;#39;t work with HTTPS I haven&amp;#39;t verified that just yet, but in theory it should not.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/8778109676110032313'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/8778109676110032313'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html?showComment=1328036310841#c8778109676110032313' title=''/><author><name>Aired</name><uri>http://www.onlinegamekey.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1756163392948680222' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1305285737'/><gd:extendedProperty name='blogger.displayTime' value='January 31, 2012 1:58 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-769590480953301903</id><published>2012-02-08T14:47:29.086-05:00</published><updated>2012-02-08T21:39:00.902-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I have an offline process that runs every night --...</title><content type='html'>I have an offline process that runs every night -- it can make ~10k updates when it runs.  About once every 10 days, the site stops working and I have to restart PostgreSQL and then Apache. If I do Apache first, the site doesn&amp;#39;t come back up.&lt;br /&gt;&lt;br /&gt;The only suspisious thing in the logs are a lot of these in the Postgres log:&lt;br /&gt;2012-02-08 17:02:55 UTC LOG:  unexpected EOF on client connection&lt;br /&gt;2012-02-08 18:54:05 UTC LOG:  could not receive data from client: Connection reset by peer&lt;br /&gt;&lt;br /&gt;Anyway, I&amp;#39;m saying all this because I put a manual db.close_connection() at the end of my script and that message doesn&amp;#39;t appear anymore. I have a feeling that the site will not have to restarted in 10 days time either.&lt;br /&gt;&lt;br /&gt;So thanks!!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2350560136416206280/comments/default/769590480953301903'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2350560136416206280/comments/default/769590480953301903'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html?showComment=1328730449086#c769590480953301903' title=''/><author><name>MikeHoss</name><uri>http://www.blogger.com/profile/07628280789038710152</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2350560136416206280' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2350560136416206280' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1868084465'/><gd:extendedProperty name='blogger.displayTime' value='February 8, 2012 2:47 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6385330368178957201</id><published>2012-02-10T02:30:41.384-05:00</published><updated>2012-02-10T09:09:54.002-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Comparing your two last examples, I don&amp;#39;t unde...</title><content type='html'>Comparing your two last examples, I don&amp;#39;t understand how that change alone saves memory.&lt;br /&gt;&lt;br /&gt;Was the your &amp;quot;jobs&amp;quot; query exactly the same in both of those cases? Or did you use .iterator() in the latter example?</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2539465763679738225/comments/default/6385330368178957201'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2539465763679738225/comments/default/6385330368178957201'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/10/profile-and-reduce-memory-use-in-django.html?showComment=1328859041384#c6385330368178957201' title=''/><author><name>akaihola</name><uri>http://www.blogger.com/profile/15705799059863673635</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/10/profile-and-reduce-memory-use-in-django.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2539465763679738225' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2539465763679738225' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1745118957'/><gd:extendedProperty name='blogger.displayTime' value='February 10, 2012 2:30 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4387702420817221424</id><published>2012-02-10T09:13:26.269-05:00</published><updated>2012-02-10T09:13:26.269-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>If you reference fields on a list of objects that ...</title><content type='html'>If you reference fields on a list of objects that is still in scope, like jobs, each job record in the list will become fully populated with data from the database as you reference it, and that memory will not be freed until the entire jobs list goes out of scope.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2539465763679738225/comments/default/4387702420817221424'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2539465763679738225/comments/default/4387702420817221424'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/10/profile-and-reduce-memory-use-in-django.html?showComment=1328883206269#c4387702420817221424' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/10/profile-and-reduce-memory-use-in-django.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2539465763679738225' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2539465763679738225' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='February 10, 2012 9:13 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3065986532348091608</id><published>2012-02-16T02:02:05.366-05:00</published><updated>2012-02-16T12:41:19.322-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I spend  2 days figuring out what the issue was!</title><content type='html'>I spend  2 days figuring out what the issue was!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/3065986532348091608'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3929878854696214937/comments/default/3065986532348091608'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html?showComment=1329375725366#c3065986532348091608' title=''/><author><name>usama khalil</name><uri>http://www.blogger.com/profile/02199246780660728845</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/02/duplicate-values-with-jquerycookies-set.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3929878854696214937' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3929878854696214937' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1221673647'/><gd:extendedProperty name='blogger.displayTime' value='February 16, 2012 2:02 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-9155333068656604335</id><published>2012-02-18T23:35:03.467-05:00</published><updated>2012-02-18T23:41:10.043-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice script. I use Shutter with a keyboard shortcu...</title><content type='html'>Nice script. I use Shutter with a keyboard shortcut myself.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5817010761232527020/comments/default/9155333068656604335'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5817010761232527020/comments/default/9155333068656604335'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/02/save-screenshot-to-dropbox-with.html?showComment=1329626103467#c9155333068656604335' title=''/><author><name>Danny's Space</name><uri>http://www.blogger.com/profile/15590673565170467560</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://4.bp.blogspot.com/_7HwFm5sH0Nc/TQjjblgjkrI/AAAAAAAABxQ/9cmC3urrEE4/S220/.face'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/02/save-screenshot-to-dropbox-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-5817010761232527020' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/5817010761232527020' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-996419310'/><gd:extendedProperty name='blogger.displayTime' value='February 18, 2012 11:35 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6046577065459103911</id><published>2012-02-19T08:29:41.175-05:00</published><updated>2012-02-19T14:24:09.221-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I keep forgetting that there is a whole new crowd ...</title><content type='html'>I keep forgetting that there is a whole new crowd of linux users that aren&amp;#39;t hackers of any kind. My /usr/scripts folder is full of little 2-minute gems like this that seemed too trivial to share. I guess it finally is starting to (slowly) go mainstream. Good times.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5817010761232527020/comments/default/6046577065459103911'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5817010761232527020/comments/default/6046577065459103911'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/02/save-screenshot-to-dropbox-with.html?showComment=1329658181175#c6046577065459103911' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/02/save-screenshot-to-dropbox-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-5817010761232527020' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/5817010761232527020' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1531687419'/><gd:extendedProperty name='blogger.displayTime' value='February 19, 2012 8:29 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-780021440661499795</id><published>2012-02-19T11:18:50.802-05:00</published><updated>2012-02-19T14:24:09.227-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>simplified:

#!/bin/bash
sleep .2
filename=~/Dropb...</title><content type='html'>simplified:&lt;br /&gt;&lt;br /&gt;#!/bin/bash&lt;br /&gt;sleep .2&lt;br /&gt;filename=~/Dropbox/Public/temp/$(date +%Y%m%d%S).png&lt;br /&gt;scrot -s $filename&lt;br /&gt;dropbox puburl $filename | xclip -selection c</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5817010761232527020/comments/default/780021440661499795'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5817010761232527020/comments/default/780021440661499795'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/02/save-screenshot-to-dropbox-with.html?showComment=1329668330802#c780021440661499795' title=''/><author><name>eik3</name><uri>http://eik3.de/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/02/save-screenshot-to-dropbox-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-5817010761232527020' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/5817010761232527020' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-426707372'/><gd:extendedProperty name='blogger.displayTime' value='February 19, 2012 11:18 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2727613329409056090</id><published>2012-02-25T13:22:52.798-05:00</published><updated>2012-02-25T16:29:06.133-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>thanks 
made these changes to get working on my sy...</title><content type='html'>thanks &lt;br /&gt;made these changes to get working on my system&lt;br /&gt;delimiter ;;&lt;br /&gt;delimiter ;&lt;br /&gt;&lt;br /&gt;no &amp;#39; around delimiter and tada</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2596072972017889563/comments/default/2727613329409056090'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2596072972017889563/comments/default/2727613329409056090'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/01/mysql-drop-column-if-exists.html?showComment=1330194172798#c2727613329409056090' title=''/><author><name>Chris</name><uri>http://www.blogger.com/profile/01007643999734592477</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/01/mysql-drop-column-if-exists.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2596072972017889563' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2596072972017889563' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1027594407'/><gd:extendedProperty name='blogger.displayTime' value='February 25, 2012 1:22 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3955567486824115169</id><published>2012-03-01T14:03:12.500-05:00</published><updated>2012-03-02T09:30:09.509-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>how about something like this?

jQuery.fn.followLi...</title><content type='html'>how about something like this?&lt;br /&gt;&lt;br /&gt;jQuery.fn.followLink = function() {&lt;br /&gt;  $.browser.msie ? : this.click() : window.location = this.attr(&amp;#39;href&amp;#39;);&lt;br /&gt;  return this;&lt;br /&gt;}</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2276071926905478436/comments/default/3955567486824115169'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2276071926905478436/comments/default/3955567486824115169'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/04/click-on-link-follow-via.html?showComment=1330628592500#c3955567486824115169' title=''/><author><name>otterpupp</name><uri>http://www.blogger.com/profile/15683263970936674544</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/04/click-on-link-follow-via.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2276071926905478436' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2276071926905478436' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2116091121'/><gd:extendedProperty name='blogger.displayTime' value='March 1, 2012 2:03 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3133882786321389433</id><published>2012-03-02T10:38:55.574-05:00</published><updated>2012-03-02T10:38:55.574-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Good catch Andrew. I just updated the post.</title><content type='html'>Good catch Andrew. I just updated the post.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/3133882786321389433'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/3133882786321389433'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1330702735574#c3133882786321389433' title=''/><author><name>Chase Seibert</name><uri>http://www.blogger.com/profile/01426857605067814174</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-54996876'/><gd:extendedProperty name='blogger.displayTime' value='March 2, 2012 10:38 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1667969571896675480</id><published>2012-03-05T15:09:45.703-05:00</published><updated>2012-03-05T16:24:03.625-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This tiny little piece of code just ended a two-da...</title><content type='html'>This tiny little piece of code just ended a two-day long troubleshooting fest. I feel like I can take the two minutes to write a thank you to let you know you seriously saved my sanity!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2350560136416206280/comments/default/1667969571896675480'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2350560136416206280/comments/default/1667969571896675480'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html?showComment=1330978185703#c1667969571896675480' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2350560136416206280' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2350560136416206280' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-725061205'/><gd:extendedProperty name='blogger.displayTime' value='March 5, 2012 3:09 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7049296746057480690</id><published>2012-03-10T18:09:16.417-05:00</published><updated>2012-03-11T00:55:46.411-05:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for this tip!  Really helped me out.  I tho...</title><content type='html'>Thanks for this tip!  Really helped me out.  I thought I was going to have to give up on Unity entirely (... which I still might do ...)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4658796162438848542/comments/default/7049296746057480690'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4658796162438848542/comments/default/7049296746057480690'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html?showComment=1331420956417#c7049296746057480690' title=''/><author><name>Chris</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/05/ubuntu-unity-i-want-my-keepassx-panel.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4658796162438848542' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4658796162438848542' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-250246118'/><gd:extendedProperty name='blogger.displayTime' value='March 10, 2012 6:09 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5656898257461295037</id><published>2012-03-16T06:10:53.350-04:00</published><updated>2012-03-16T09:19:25.157-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This is just great, solved my problem too. Thank y...</title><content type='html'>This is just great, solved my problem too. Thank you.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/5656898257461295037'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/5656898257461295037'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html?showComment=1331892653350#c5656898257461295037' title=''/><author><name>mspace</name><uri>http://www.blogger.com/profile/06045364175037560971</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1489661186474672093' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1489661186474672093' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-553139646'/><gd:extendedProperty name='blogger.displayTime' value='March 16, 2012 6:10 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-6689123255237467834</id><published>2012-03-16T06:12:16.769-04:00</published><updated>2012-03-16T09:19:22.015-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This solved my problem too, thank you.</title><content type='html'>This solved my problem too, thank you.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/6689123255237467834'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1489661186474672093/comments/default/6689123255237467834'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html?showComment=1331892736769#c6689123255237467834' title=''/><author><name>Unknown</name><uri>http://www.blogger.com/profile/06045364175037560971</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/django-zip-files-create-dynamic-in.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1489661186474672093' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1489661186474672093' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-553139646'/><gd:extendedProperty name='blogger.displayTime' value='March 16, 2012 6:12 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3534209578575764815</id><published>2012-03-19T08:19:20.065-04:00</published><updated>2012-03-19T19:44:50.104-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hehe, I did the same and followed your way of thou...</title><content type='html'>Hehe, I did the same and followed your way of thought: from using Django template engine to XML generators. Was a useful read, thanks!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5086527373954425145/comments/default/3534209578575764815'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/5086527373954425145/comments/default/3534209578575764815'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/06/creating-large-xml-files-in-python-with.html?showComment=1332159560065#c3534209578575764815' title=''/><author><name>Siberiano</name><uri>http://www.blogger.com/profile/18348116905720873269</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/06/creating-large-xml-files-in-python-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-5086527373954425145' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/5086527373954425145' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2000462008'/><gd:extendedProperty name='blogger.displayTime' value='March 19, 2012 8:19 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7899458022362938889</id><published>2012-03-27T11:06:29.502-04:00</published><updated>2012-03-27T16:57:28.279-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you for the up-to-date instructions, and for...</title><content type='html'>Thank you for the up-to-date instructions, and for making celery &lt;em&gt;simple&lt;/em&gt;.&lt;br /&gt;&lt;br /&gt;For a lightweight task queue with cron support that is easily integrated to Django, you also have two projects by Charles Leifer: the django-utils queue, which has no hard dependencies, and Huey, which currently requires Redis.&lt;br /&gt;&lt;br /&gt;To keep configuration minimal, django-supervisor makes it easy and convenient to spawn the queue engine along with your choice of runserver or wsgi container.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/7899458022362938889'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/7899458022362938889'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1332860789502#c7899458022362938889' title=''/><author><name>Tobu</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-436194726'/><gd:extendedProperty name='blogger.displayTime' value='March 27, 2012 11:06 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5275154314917327090</id><published>2012-03-27T13:22:30.014-04:00</published><updated>2012-03-27T16:57:27.361-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Or you could use the django-annoying shorcut&amp;#39;s...</title><content type='html'>Or you could use the django-annoying shorcut&amp;#39;s `get_object_or_404`</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1955505654644120966/comments/default/5275154314917327090'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1955505654644120966/comments/default/5275154314917327090'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/03/adding-first-method-to-djangos-queryset.html?showComment=1332868950014#c5275154314917327090' title=''/><author><name>Anass</name><uri>http://www.blogger.com/profile/08061850677327690773</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/03/adding-first-method-to-djangos-queryset.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1955505654644120966' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1955505654644120966' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2007527886'/><gd:extendedProperty name='blogger.displayTime' value='March 27, 2012 1:22 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8590420635834749466</id><published>2012-03-30T06:02:51.177-04:00</published><updated>2012-04-02T09:08:20.240-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You did saved me an hour!</title><content type='html'>You did saved me an hour!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6215603565722325258/comments/default/8590420635834749466'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6215603565722325258/comments/default/8590420635834749466'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/04/ant-javalibrarypath.html?showComment=1333101771177#c8590420635834749466' title=''/><author><name>zeroxia</name><uri>http://www.blogger.com/profile/09704598039452603091</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/-fJziB9VNAQ8/TcV2Nd92j6I/AAAAAAAABfE/uStpWfgm7vs/s220/raisedog-portrait-20090205-128x128.jpg'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/04/ant-javalibrarypath.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6215603565722325258' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6215603565722325258' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1385288218'/><gd:extendedProperty name='blogger.displayTime' value='March 30, 2012 6:02 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5805575096685089029</id><published>2012-04-11T16:00:42.379-04:00</published><updated>2012-04-11T16:54:58.808-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks a lot. Just what I need.</title><content type='html'>Thanks a lot. Just what I need.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2482028679529825709/comments/default/5805575096685089029'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2482028679529825709/comments/default/5805575096685089029'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2008/12/rpcencoded-web-services-on-java-16.html?showComment=1334174442379#c5805575096685089029' title=''/><author><name>Tudor</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2008/12/rpcencoded-web-services-on-java-16.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2482028679529825709' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2482028679529825709' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1030991620'/><gd:extendedProperty name='blogger.displayTime' value='April 11, 2012 4:00 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-2796569886760703776</id><published>2012-04-16T19:53:15.643-04:00</published><updated>2012-04-18T15:01:37.352-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Very helpful! Really appreciate you posting this.
...</title><content type='html'>Very helpful! Really appreciate you posting this.&lt;br /&gt;&lt;br /&gt;I.. think it helped, at least. So much going on, traffic fluctuations, terror.. this stuff is hard to debug!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2558112176770067405/comments/default/2796569886760703776'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2558112176770067405/comments/default/2796569886760703776'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/09/using-pgpool2-to-timeout-idle-postgres.html?showComment=1334620395643#c2796569886760703776' title=''/><author><name>Rich Jones - Gun.io</name><uri>http://www.blogger.com/profile/05785073923794624585</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/09/using-pgpool2-to-timeout-idle-postgres.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2558112176770067405' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2558112176770067405' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1181668558'/><gd:extendedProperty name='blogger.displayTime' value='April 16, 2012 7:53 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-8001232957302740142</id><published>2012-04-23T13:54:13.191-04:00</published><updated>2012-04-25T12:44:43.225-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi, thanks for the simple article with all the cod...</title><content type='html'>Hi, thanks for the simple article with all the code. You&amp;#39;re saying running gunicorn doesn&amp;#39;t work for django 1.3,  any ideas how to get that to work? I&amp;#39;m getting an error: &amp;quot;ImportError: No module named wsgi&amp;quot;? Thanks a lot for your help.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4839850598604668972/comments/default/8001232957302740142'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/4839850598604668972/comments/default/8001232957302740142'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/04/djangoheroku-quickstart-for-existing.html?showComment=1335203653191#c8001232957302740142' title=''/><author><name>Riku</name><uri>http://riku.seppa.la</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/04/djangoheroku-quickstart-for-existing.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-4839850598604668972' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/4839850598604668972' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1114970514'/><gd:extendedProperty name='blogger.displayTime' value='April 23, 2012 1:54 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4186008501672594661</id><published>2012-05-03T10:59:56.863-04:00</published><updated>2012-05-04T16:19:49.988-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You can also use a STATICFILES_STORAGE compatible ...</title><content type='html'>You can also use a STATICFILES_STORAGE compatible with S3, so that you can get rid of s3cmd step : http://stackoverflow.com/questions/9608969/django-pipeline-and-s3boto-storage-dont-seem-to-work-together?answertab=votes#tab-top</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8788122505264468539/comments/default/4186008501672594661'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/8788122505264468539/comments/default/4186008501672594661'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/04/deploying-django-staticfiles-to-heroku.html?showComment=1336057196863#c4186008501672594661' title=''/><author><name>Tim</name><uri>http://cyberdelia.tryphon.org</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/04/deploying-django-staticfiles-to-heroku.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-8788122505264468539' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/8788122505264468539' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1714814472'/><gd:extendedProperty name='blogger.displayTime' value='May 3, 2012 10:59 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4393941309962293457</id><published>2012-05-11T17:41:21.536-04:00</published><updated>2012-05-22T16:58:12.047-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>thanks for this simple but very helpful tutorial.....</title><content type='html'>thanks for this simple but very helpful tutorial.. helped me very much !</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/4393941309962293457'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1587635543072955306/comments/default/4393941309962293457'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html?showComment=1336772481536#c4393941309962293457' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/02/deploying-jersey-to-jboss.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1587635543072955306' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1587635543072955306' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-991208344'/><gd:extendedProperty name='blogger.displayTime' value='May 11, 2012 5:41 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-5460117552172248321</id><published>2012-05-25T05:39:14.761-04:00</published><updated>2012-05-25T11:06:54.909-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for the instructions. A suggestion: &amp;quot; ...</title><content type='html'>Thanks for the instructions. A suggestion: &amp;quot; This guide starts out using kombu, which is backed by the database Django is already using.&amp;quot; makes it seem like kombu is backed by the Django database. My understanding is that Kombu is implemented with a variety of transports, one of which is Django. Found it a bit confusing as a messaging newbie.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/5460117552172248321'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6797235892604783387/comments/default/5460117552172248321'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html?showComment=1337938754761#c5460117552172248321' title=''/><author><name>Unknown</name><uri>http://www.blogger.com/profile/04909683782190521955</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6797235892604783387' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6797235892604783387' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2019916539'/><gd:extendedProperty name='blogger.displayTime' value='May 25, 2012 5:39 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3082106286604223593</id><published>2012-06-18T03:29:57.046-04:00</published><updated>2012-06-18T16:11:10.114-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I was trying to find a way to test my app, thanks ...</title><content type='html'>I was trying to find a way to test my app, thanks to your post for helping me out :)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3494014562523770206/comments/default/3082106286604223593'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3494014562523770206/comments/default/3082106286604223593'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/03/testing-facebook-apps-with-ssh-reverse.html?showComment=1340004597046#c3082106286604223593' title=''/><author><name>Facebook Application</name><uri>http://www.socialcubix.com/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/03/testing-facebook-apps-with-ssh-reverse.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3494014562523770206' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3494014562523770206' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-124294301'/><gd:extendedProperty name='blogger.displayTime' value='June 18, 2012 3:29 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4360658080065951219</id><published>2012-06-18T10:21:08.066-04:00</published><updated>2012-06-18T16:11:10.901-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you guys. This saved us at least one day of ...</title><content type='html'>Thank you guys. This saved us at least one day of work!!!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/4360658080065951219'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/1756163392948680222/comments/default/4360658080065951219'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html?showComment=1340029268066#c4360658080065951219' title=''/><author><name>El Probe</name><uri>http://www.blogger.com/profile/11723442838904340282</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2010/03/apache-fix-for-ie-webpage-has-expired.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-1756163392948680222' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/1756163392948680222' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-991111091'/><gd:extendedProperty name='blogger.displayTime' value='June 18, 2012 10:21 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7113875864483364031</id><published>2012-06-19T15:24:33.268-04:00</published><updated>2012-06-20T20:28:59.854-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You just saved me a few more hours of debugging. T...</title><content type='html'>You just saved me a few more hours of debugging. Thanks!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2350560136416206280/comments/default/7113875864483364031'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/2350560136416206280/comments/default/7113875864483364031'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html?showComment=1340133873268#c7113875864483364031' title=''/><author><name>Erik</name><uri>http://www.blogger.com/profile/05289067378564873230</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://www.productwiki.com/upload/images/erik_crossbow-150-150.JPG'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2012/01/django-reset-database-connection.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-2350560136416206280' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/2350560136416206280' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-165665794'/><gd:extendedProperty name='blogger.displayTime' value='June 19, 2012 3:24 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-3895565083159778228</id><published>2012-06-20T00:36:23.333-04:00</published><updated>2012-06-20T20:28:57.947-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Oh man, this used to work for me, but apparently I...</title><content type='html'>Oh man, this used to work for me, but apparently I installed an update of Xorg and now it doesn&amp;#39;t work. :-( Second monitor does not want to rotate. I do hope I can figure out a solution...</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/3895565083159778228'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/3895565083159778228'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html?showComment=1340166983333#c3895565083159778228' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1591200898'/><gd:extendedProperty name='blogger.displayTime' value='June 20, 2012 12:36 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7704583797320376984</id><published>2012-06-20T01:33:18.784-04:00</published><updated>2012-06-20T20:28:56.170-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>(Disregard my previous post from a few minutes ago...</title><content type='html'>(Disregard my previous post from a few minutes ago.) It seems that the new version of the Nvidia driver still supports rotating a second screen, but you have to use a different syntax. For me, the following line did the trick:&lt;br /&gt;&lt;br /&gt;Option         &amp;quot;metamodes&amp;quot; &amp;quot;CRT: nvidia-auto-select { Rotation=left } +0+0&amp;quot;&lt;br /&gt;&lt;br /&gt;This is in fact a small alteration of one of the &amp;quot;Screen&amp;quot; sections in the xorg.conf file generated by nvidia-settings.&lt;br /&gt;&lt;br /&gt;If anyone happens to have any other problems, be sure to look at the Nvidia readme file. On Ubuntu 11.10 oneiric, this file might be located at /usr/share/doc/nvidia-current/README.txt. Enjoy!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/7704583797320376984'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/7704583797320376984'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html?showComment=1340170398784#c7704583797320376984' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1591200898'/><gd:extendedProperty name='blogger.displayTime' value='June 20, 2012 1:33 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4861489131520038609</id><published>2012-07-16T13:39:28.999-04:00</published><updated>2012-07-19T14:12:55.877-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>i, too, got nvidia rotation to work with the beta ...</title><content type='html'>i, too, got nvidia rotation to work with the beta nvidia driver (&amp;quot;installer version: 304.22&amp;quot;).&lt;br /&gt;&lt;br /&gt;my line is:&lt;br /&gt;    Option &amp;quot;MetaModes&amp;quot; &amp;quot;DFP-0: nvidia-auto-select, DFP-1: nvidia-auto-select { Rotation=left }&amp;quot;&lt;br /&gt;&lt;br /&gt;full screen glxgears runs at 60fps on both screens (locked to vsync).</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/4861489131520038609'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/4861489131520038609'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html?showComment=1342460368999#c4861489131520038609' title=''/><author><name>amrit</name><uri>http://transamrit.net</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1952549114'/><gd:extendedProperty name='blogger.displayTime' value='July 16, 2012 1:39 PM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-4553339166853462080</id><published>2012-07-24T07:35:56.922-04:00</published><updated>2012-07-24T09:58:46.653-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks that&amp;#39;s VERY simple ! I have some questi...</title><content type='html'>Thanks that&amp;#39;s VERY simple ! I have some questions though:&lt;br /&gt;1. What If I need to gracefully shutdown my service ?&lt;br /&gt;2. Your script shuts down my service only when the server is shutting down. What if I need to manually shutdown my service. Will this still work ?</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3790413482480444373/comments/default/4553339166853462080'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/3790413482480444373/comments/default/4553339166853462080'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/11/running-jar-as-service-linuxupstart.html?showComment=1343129756922#c4553339166853462080' title=''/><author><name>JArmy</name><uri>http://www.blogger.com/profile/09467754300531004153</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/11/running-jar-as-service-linuxupstart.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-3790413482480444373' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/3790413482480444373' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1210284906'/><gd:extendedProperty name='blogger.displayTime' value='July 24, 2012 7:35 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-1978078004166362900</id><published>2012-08-01T11:50:53.408-04:00</published><updated>2012-08-01T15:09:41.478-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Gnome 3 and the aforementioned line

Option &amp;quot;...</title><content type='html'>Gnome 3 and the aforementioned line&lt;br /&gt;&lt;br /&gt;Option &amp;quot;MetaModes&amp;quot; &amp;quot;DFP-0: nvidia-auto-select, DFP-1: nvidia-auto-select { Rotation=left }&amp;quot;&lt;br /&gt;&lt;br /&gt;works for me too:) no Xinerama and seperate Xscreens necessary!</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/1978078004166362900'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6539100233798497486/comments/default/1978078004166362900'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html?showComment=1343836253408#c1978078004166362900' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2009/08/rotate-just-one-monitor-with.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6539100233798497486' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6539100233798497486' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-173356486'/><gd:extendedProperty name='blogger.displayTime' value='August 1, 2012 11:50 AM'/></entry><entry><id>tag:blogger.com,1999:blog-7663029716914672257.post-7690117020692336695</id><published>2012-08-30T08:27:39.981-04:00</published><updated>2012-08-30T10:06:26.574-04:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>creation of the final string is much easier with s...</title><content type='html'>creation of the final string is much easier with string formatting: return &amp;quot;#%02x%02x%02x&amp;quot; % tuple(new_rgb_int)&lt;br /&gt;&lt;br /&gt;ps: your usage of hex() does not guarantee you a result of two digits. hex(0) -&amp;gt; 0x0 -&amp;gt; 0. fail.  </content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6282209498466495502/comments/default/7690117020692336695'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/7663029716914672257/6282209498466495502/comments/default/7690117020692336695'/><link rel='alternate' type='text/html' href='http://bitkickers.blogspot.com/2011/07/python-calculate-lighterdarker-rgb.html?showComment=1346329659981#c7690117020692336695' title=''/><author><name>Jens Michlo</name><uri>http://www.blogger.com/profile/01230127967597465932</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//lh5.googleusercontent.com/-Luo8fqqWdBM/AAAAAAAAAAI/AAAAAAAAAAA/AVAt21nY0l0/s512-c/photo.jpg'/></author><thr:in-reply-to href='http://bitkickers.blogspot.com/2011/07/python-calculate-lighterdarker-rgb.html' ref='tag:blogger.com,1999:blog-7663029716914672257.post-6282209498466495502' source='http://www.blogger.com/feeds/7663029716914672257/posts/default/6282209498466495502' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1368244285'/><gd:extendedProperty name='blogger.displayTime' value='August 30, 2012 8:27 AM'/></entry></feed>